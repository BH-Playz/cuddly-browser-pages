!function(t){function e(e){for(var n,i,o=e[0],s=e[1],a=0,u=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);u.length;)u.shift()()}var n={},r={18:0,0:0,1:0,2:0,3:0,4:0,5:0,6:0,9:0,27:0,33:0,35:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(t){return i.p+""+t+".js"}(t);var c=new Error;s=function(e){a.onerror=a.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var c=s;i(i.s=600)}([function(t,e,n){"use strict";n.d(e,"t",(function(){return i})),n.d(e,"j",(function(){return o})),n.d(e,"q",(function(){return s})),n.d(e,"s",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return u})),n.d(e,"n",(function(){return l})),n.d(e,"k",(function(){return h})),n.d(e,"r",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"y",(function(){return g})),n.d(e,"d",(function(){return m})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return b})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return w})),n.d(e,"v",(function(){return x})),n.d(e,"a",(function(){return _})),n.d(e,"x",(function(){return O})),n.d(e,"u",(function(){return T})),n.d(e,"w",(function(){return S})),n.d(e,"A",(function(){return E})),n.d(e,"z",(function(){return j})),n.d(e,"f",(function(){return k})),n.d(e,"b",(function(){return A})),n.d(e,"g",(function(){return C})),n.d(e,"H",(function(){return P})),n.d(e,"B",(function(){return D})),n.d(e,"F",(function(){return R})),n.d(e,"C",(function(){return L})),n.d(e,"G",(function(){return B})),n.d(e,"D",(function(){return U})),n.d(e,"E",(function(){return F}));var r;n(20),n(61);const i="object"!=typeof window,o=!1,s=!0,a=!1,c=!1,u=!0,l=!1,h=!1,p=!1,d="basic",f="chrome",g="11.0.7",m="1725952969233",y=u||l||h||c||p,b=(u||l||h||p)&&!c,v=navigator.platform.indexOf("Mac")>=0,w=!1,x=s?"jiaocheng.inftab.com":"qzeuoq1yf.hn-bkt.clouddn.com",_="https://infinityicon.infinitynewtab.com/assets",O=s?"https://api.infinitynewtab.com/v2":"https://api-infinitynewtab-com.test690.com/v2",T=s?"https://api.infinitynewtab.com/privacy":"https://test-api.infinitynewtab.com/privacy",S="https://infinity-api.infinitynewtab.com",E=a?location.origin:s?"https://inftab.com":"https://test.inftab.com",j="https://weatheroffer.com/api/extfans",k="https://mail.google.com",A="https://suggestion.baidu.com",C="https://google.com",I=["cs","da","de","el","en","en-GB","en-US","es","es-419","fi","fr","hi","hu","id","it","ja","ko","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sv","th","tr","uk","vi","zh-CN","zh-TW"],P=!!(null===(r=globalThis.chrome)||void 0===r?void 0:r.abp),D=function(){if(a)return{baiduLabel:"Infinity新标签页web版",trackingId:"UA-202382853-4"};if(c)return{baiduLabel:"Infinity新标签页app版",trackingId:"UA-202382853-3"};if(y){if("pro"===d)return{baiduLabel:"Infinity新标签页pro版",trackingId:"UA-202382853-1"};if("basic"===d)return{baiduLabel:"Infinity新标签页basic版",trackingId:"UA-202382853-2"}}throw new Error("no ga info")}();function R(t="",e="_"){const n=t.split(e);return 2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),n.join(e)):t}function N(t){const e=R(t.replace("_","-"),"-");return I.includes(e)?e:"zh"===t||0===e.indexOf("zh-")?"zh-CN":"en-US"}const L={get lang(){return a?function(){if(!i){const t=localStorage.getItem("langCode");if(null!==localStorage.getItem("setLangCode")&&null!==t)return t}return N(navigator.language||"en-us")}():N(chrome.i18n.getUILanguage())},get extVersion(){return a?"web":chrome.runtime.getManifest().version},get extId(){return a?"web":chrome.runtime.id},get platform(){return a?"web":"chrome"},get supportCookie(){return!p&&"safari"!==this.runtimePlatform},get runtimePlatform(){return P?"360":M().broswer},get platformVersion(){return M().version},get isZh(){return"zh-CN"===L.lang},get isEn(){return/^(en|en-GB|en-US)$/.test(L.lang)},get isWindows(){return/windows|win32/i.test(navigator.userAgent)},get isMac(){return-1!==navigator.platform.toLowerCase().indexOf("mac")},get vendor(){let t=f;return"web"===f&&(t=M().broswer),t.charAt(0).toUpperCase()+t.slice(1)}};function M(){const t={},e=navigator.userAgent.toLowerCase();let n;return(n=e.match(/edg\/([\d.]+)/i))?t.edge=n[1]:(n=e.match(/rv:([\d.]+)\) like gecko/))||(n=e.match(/msie ([\d.]+)/))?t.ie=n[1]:(n=e.match(/firefox\/([\d.]+)/))?t.firefox=n[1]:(n=e.match(/chrome\/([\d.]+)/))?t.chrome=n[1]:(n=e.match(/opera.([\d.]+)/))?t.opera=n[1]:(n=e.match(/version\/([\d.]+).*safari/))&&(t.safari=n[1]),t.edge?{broswer:"edge",version:t.edge}:t.ie?{broswer:"ie",version:t.ie}:t.firefox?{broswer:"firefox",version:t.firefox}:t.chrome?{broswer:"chrome",version:t.chrome}:t.opera?{broswer:"opera",version:t.opera}:t.safari?{broswer:"safari",version:t.safari}:{broswer:"none",version:"0"}}const B=()=>{const t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let n=!1;for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>0){n=!0;break}try{document.createEvent("TouchEvent"),n=!0}catch(t){}return!n},U="10.0.107",F="10.0.109"},function(t,e,n){"use strict";n.d(e,"c",(function(){return T})),n.d(e,"g",(function(){return E})),n.d(e,"f",(function(){return j})),n.d(e,"h",(function(){return k})),n.d(e,"j",(function(){return A})),n.d(e,"i",(function(){return C})),n.d(e,"d",(function(){return D})),n.d(e,"e",(function(){return h.f})),n.d(e,"b",(function(){return B})),n.d(e,"a",(function(){return F}));var r=n(160),i=n(75);function o(t,e){const{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,133,null,!1);let o=a(r),s=r[o],c=-1,u=0;const l=[];let h=null;for(;i.nextNode();){c++;const t=i.currentNode;for(t.previousSibling===h&&(h=null),e.has(t)&&(l.push(t),null===h&&(h=t)),null!==h&&u++;void 0!==s&&s.index===c;)s.index=null!==h?-1:s.index-u,o=a(r,o),s=r[o]}l.forEach(t=>t.parentNode.removeChild(t))}const s=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)e++;return e},a=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(Object(i.d)(e))return n}return-1};var c=n(222),u=n(221),l=n(306),h=n(135);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const p=(t,e)=>`${t}--${e}`;let d=!0;void 0===window.ShadyCSS?d=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),d=!1);const f=t=>e=>{const n=p(e.type,t);let r=u.a.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},u.a.set(n,r));let o=r.stringsArray.get(e.strings);if(void 0!==o)return o;const s=e.strings.join(i.f);if(o=r.keyString.get(s),void 0===o){const n=e.getTemplateElement();d&&window.ShadyCSS.prepareTemplateDom(n,t),o=new i.a(e,n),r.keyString.set(s,o)}return r.stringsArray.set(e.strings,o),o},g=["html","svg"],m=new Set,y=(t,e,n)=>{m.add(t);const r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:c}=i;if(0===c)return void window.ShadyCSS.prepareTemplateStyles(r,t);const l=document.createElement("style");for(let t=0;t<c;t++){const e=i[t];e.parentNode.removeChild(e),l.textContent+=e.textContent}(t=>{g.forEach(e=>{const n=u.a.get(p(e,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{n.add(t)}),o(t,n)})})})(t);const h=r.content;n?function(t,e,n=null){const{element:{content:r},parts:i}=t;if(null==n)return void r.appendChild(e);const o=document.createTreeWalker(r,133,null,!1);let c=a(i),u=0,l=-1;for(;o.nextNode();){l++;for(o.currentNode===n&&(u=s(e),n.parentNode.insertBefore(e,n));-1!==c&&i[c].index===l;){if(u>0){for(;-1!==c;)i[c].index+=u,c=a(i,c);return}c=a(i,c)}}}(n,l,h.firstChild):h.insertBefore(l,h.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const d=h.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==d)e.insertBefore(d.cloneNode(!0),e.firstChild);else if(n){h.insertBefore(l,h.firstChild);const t=new Set;t.add(l),o(n,t)}};n(7);var b=n(5),v=n.n(b);window.JSCompiler_renameProperty=(t,e)=>t;const w={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},x=(t,e)=>e!==t&&(e==e||t==t),_={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:x};class O extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,n)=>{const r=this._attributeNameForProperty(n,e);void 0!==r&&(this._attributeToPropertyMap.set(r,n),t.push(r))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=_){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(r){const i=this[t];this[e]=r,this.requestUpdateInternal(t,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||_}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=x){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||w,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||w.toAttribute)(t,n)}initialize(){this._updateState=0,this._updatePromise=new v.a(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=_){const r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){const t=r._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){const t=n.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,n){let r=!0;if(void 0!==t){const i=this.constructor;n=n||i.getPropertyOptions(t),i._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}O.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const T=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(e){window.customElements.define(t,e)}}})(t,e),S=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function E(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):S(t,e)}function j(t){return E({attribute:!1,hasChanged:null==t?void 0:t.hasChanged})}function k(t,e){return(n,r)=>{const i={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){const e=void 0!==r?r:n.key,o="symbol"==typeof e?Symbol():"__"+e;i.get=function(){return void 0===this[o]&&(this[o]=this.renderRoot.querySelector(t)),this[o]}}return void 0!==r?I(i,n,r):P(i,n)}}function A(t){return(e,n)=>{const r={async get(){return await this.updateComplete,this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return void 0!==n?I(r,e,n):P(r,e)}}function C(t){return(e,n)=>{const r={get(){return this.renderRoot.querySelectorAll(t)},enumerable:!0,configurable:!0};return void 0!==n?I(r,e,n):P(r,e)}}const I=(t,e,n)=>{Object.defineProperty(e,n,t)},P=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t});function D(t){return(e,n)=>void 0!==n?((t,e,n)=>{Object.assign(e[n],t)})(t,e,n):((t,e)=>Object.assign(Object.assign({},e),{finisher(n){Object.assign(n.prototype[e.key],t)}}))(t,e)}const R=Element.prototype;R.msMatchesSelector||R.webkitMatchesSelector;n(20);
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const N=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,L=Symbol();class M{constructor(t,e){if(e!==L)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(N?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const B=(t,...e)=>{const n=e.reduce((e,n,r)=>e+(t=>{if(t instanceof M)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[r+1],t[0]);return new M(n,L)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const U={};class F extends O{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const e=(t,n)=>t.reduceRight((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t),n),n=e(t,new Set),r=[];n.forEach(t=>r.unshift(t)),this._styles=r}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map(t=>{if(t instanceof CSSStyleSheet&&!N){const e=Array.prototype.slice.call(t.cssRules).reduce((t,e)=>t+e.cssText,"");return new M(String(e),L)}return t})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?N?this.renderRoot.adoptedStyleSheets=t.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==U&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){return U}}F.finalized=!0,F.render=(t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,o=c.a.has(e),s=d&&11===e.nodeType&&!!e.host,a=s&&!m.has(i),u=a?document.createDocumentFragment():e;if(Object(c.b)(t,u,Object.assign({templateFactory:f(i)},n)),a){const t=c.a.get(u);c.a.delete(u);const n=t.value instanceof l.a?t.value.template:void 0;y(i,u,n),Object(r.b)(e,e.firstChild),e.appendChild(u),c.a.set(e,t)}!o&&s&&window.ShadyCSS.styleElement(e.host)},F.shadowRootOptions={mode:"open"}},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return Ut})),n.d(e,"b",(function(){return Yt})),n.d(e,"c",(function(){return Jt})),n.d(e,"d",(function(){return S})),n.d(e,"e",(function(){return nt})),n.d(e,"f",(function(){return re})),n.d(e,"g",(function(){return K})),n.d(e,"h",(function(){return te})),n.d(e,"i",(function(){return Xt})),n.d(e,"j",(function(){return fe}));var i=[];Object.freeze(i);var o={};function s(){return++It.mobxGuid}function a(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(o);function u(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var l=function(){};function h(t){return null!==t&&"object"==typeof t}function p(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function d(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function f(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return h(t)&&!0===t[n]}}function g(t){return t instanceof Map}function m(t){return t instanceof Set}function y(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function b(t){return t&&t.toString?t.toString():new String(t).toString()}function v(t){return null===t?null:"object"==typeof t?""+t:t}var w="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,x=Symbol("mobx administration"),_=function(){function t(t){void 0===t&&(t="Atom@"+s()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Q.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Mt(this)},t.prototype.reportChanged=function(){Nt(),function(t){if(t.lowestObserverState===Q.STALE)return;t.lowestObserverState=Q.STALE,t.observers.forEach((function(e){e.dependenciesState===Q.UP_TO_DATE&&(e.isTracing!==Z.NONE&&Bt(e,t),e.onBecomeStale()),e.dependenciesState=Q.STALE}))}(this),Lt()},t.prototype.toString=function(){return this.name},t}(),O=f("Atom",_);function T(t,e,n){void 0===e&&(e=l),void 0===n&&(n=l);var r,i=new _(t);return e!==l&&ne("onBecomeObserved",i,e,r),n!==l&&ee(i,n),i}var S={identity:function(t,e){return t===e},structural:function(t,e){return Je(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return Je(t,e,1)}},E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var j=function(){return(j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function k(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function A(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function C(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(A(arguments[e]));return t}var I=Symbol("mobx did run lazy initializers"),P=Symbol("mobx pending decorators"),D={},R={};function N(t,e){var n=e?D:R;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return L(this),this[t]},set:function(e){L(this),this[t]=e}})}function L(t){var e,n;if(!0!==t[I]){var r=t[P];if(r){d(t,I,!0);var i=C(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=k(i),s=o.next();!s.done;s=o.next()){var a=r[s.value];a.propertyCreator(t,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}}function M(t,e){return function(){var n,r=function(r,i,o,s){if(!0===s)return e(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,P)){var a=r[P];d(r,P,j({},a))}return r[P][i]={prop:i,propertyCreator:e,descriptor:o,decoratorTarget:r,decoratorArguments:n},N(i,t)};return B(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function B(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function U(t,e,n){return le(t)?t:Array.isArray(t)?K.array(t,{name:n}):p(t)?K.object(t,void 0,{name:n}):g(t)?K.map(t,{name:n}):m(t)?K.set(t,{name:n}):t}function F(t){return t}function $(e){c(e);var n=M(!0,(function(t,n,r,i,o){var s=r?r.initializer?r.initializer.call(t):r.value:void 0;Ve(t).addObservableProp(n,s,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var V={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function z(t){return null==t?V:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(V);var q=$(U),W=$((function(t,e,n){return null==t||Ge(t)||De(t)||Me(t)||Fe(t)?t:Array.isArray(t)?K.array(t,{name:n,deep:!1}):p(t)?K.object(t,void 0,{name:n,deep:!1}):g(t)?K.map(t,{name:n,deep:!1}):m(t)?K.set(t,{name:n,deep:!1}):a(!1)})),H=$(F),G=$((function(t,e,n){return Je(t,e)?e:t}));function Y(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?F:U}var X={box:function(t,e){arguments.length>2&&J("box");var n=z(e);return new _t(t,Y(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&J("array");var n=z(e);return ke(t,Y(n),n.name)},map:function(t,e){arguments.length>2&&J("map");var n=z(e);return new Le(t,Y(n),n.name)},set:function(t,e){arguments.length>2&&J("set");var n=z(e);return new Ue(t,Y(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&J("object");var r=z(n);if(!1===r.proxy)return ie({},t,e,r);var i=oe(r),o=ie({},void 0,void 0,r),s=we(o);return se(s,t,e,i),s},ref:H,shallow:W,deep:q,struct:G},K=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return q.apply(null,arguments);if(le(t))return t;var r=p(t)?K.object(t,e,n):Array.isArray(t)?K.array(t,e):g(t)?K.map(t,e):m(t)?K.set(t,e):t;if(r!==t)return r;a(!1)};function J(t){a("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(X).forEach((function(t){return K[t]=X[t]}));var Q,Z,tt=M(!1,(function(t,e,n,r,i){var o=n.get,s=n.set,a=i[0]||{};Ve(t).addComputedProp(t,e,j({get:o,set:s,context:t},a))})),et=tt({equals:S.structural}),nt=function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new Tt(r)};nt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Q||(Q={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Z||(Z={}));var rt=function(t){this.cause=t};function it(t){return t instanceof rt}function ot(t){switch(t.dependenciesState){case Q.UP_TO_DATE:return!1;case Q.NOT_TRACKING:case Q.STALE:return!0;case Q.POSSIBLY_STALE:for(var e=pt(!0),n=lt(),r=t.observing,i=r.length,o=0;o<i;o++){var s=r[o];if(St(s)){if(It.disableErrorBoundaries)s.get();else try{s.get()}catch(t){return ht(n),dt(e),!0}if(t.dependenciesState===Q.STALE)return ht(n),dt(e),!0}}return ft(t),ht(n),dt(e),!1}}function st(t){var e=t.observers.size>0;It.computationDepth>0&&e&&a(!1),It.allowStateChanges||!e&&"strict"!==It.enforceActions||a(!1)}function at(t,e,n){var r=pt(!0);ft(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++It.runId;var i,o=It.trackingDerivation;if(It.trackingDerivation=t,!0===It.disableErrorBoundaries)i=e.call(n);else try{i=e.call(n)}catch(t){i=new rt(t)}return It.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Q.UP_TO_DATE,i=0,o=t.unboundDepsCount,s=0;s<o;s++){0===(a=n[s]).diffValue&&(a.diffValue=1,i!==s&&(n[i]=a),i++),a.dependenciesState>r&&(r=a.dependenciesState)}n.length=i,t.newObserving=null,o=e.length;for(;o--;){0===(a=e[o]).diffValue&&Dt(a,t),a.diffValue=0}for(;i--;){var a;1===(a=n[i]).diffValue&&(a.diffValue=0,Pt(a,t))}r!==Q.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),dt(r),i}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Dt(e[n],t);t.dependenciesState=Q.NOT_TRACKING}function ut(t){var e=lt();try{return t()}finally{ht(e)}}function lt(){var t=It.trackingDerivation;return It.trackingDerivation=null,t}function ht(t){It.trackingDerivation=t}function pt(t){var e=It.allowStateReads;return It.allowStateReads=t,e}function dt(t){It.allowStateReads=t}function ft(t){if(t.dependenciesState!==Q.UP_TO_DATE){t.dependenciesState=Q.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Q.UP_TO_DATE}}var gt=0,mt=1,yt=Object.getOwnPropertyDescriptor((function(){}),"name");yt&&yt.configurable;function bt(t,e,n){var r=function(){return vt(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function vt(t,e,n,r){var i=function(t,e,n){var r=0;var i=lt();Nt();var o=wt(!0),s=pt(!0),a={prevDerivation:i,prevAllowStateChanges:o,prevAllowStateReads:s,notifySpy:!1,startTime:r,actionId:mt++,parentActionId:gt};return gt=a.actionId,a}();try{return e.apply(n,r)}catch(t){throw i.error=t,t}finally{!function(t){gt!==t.actionId&&a("invalid action stack. did you forget to finish an action?");gt=t.parentActionId,void 0!==t.error&&(It.suppressReactionErrors=!0);xt(t.prevAllowStateChanges),dt(t.prevAllowStateReads),Lt(),ht(t.prevDerivation),t.notifySpy&&!1;It.suppressReactionErrors=!1}(i)}}function wt(t){var e=It.allowStateChanges;return It.allowStateChanges=t,e}function xt(t){It.allowStateChanges=t}var _t=function(t){function e(e,n,r,i,o){void 0===r&&(r="ObservableValue@"+s()),void 0===i&&(i=!0),void 0===o&&(o=S.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),a}return function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==It.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(st(this),xe(this)){var e=Oe(this,{object:this,type:"update",newValue:t});if(!e)return It.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?It.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Te(this)&&Ee(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return _e(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Se(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return v(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(_),Ot=f("ObservableValue",_t),Tt=function(){function t(t){this.dependenciesState=Q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+s(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Z.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+s(),t.set&&(this.setter=bt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?S.structural:S.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==Q.UP_TO_DATE)return;t.lowestObserverState=Q.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===Q.UP_TO_DATE&&(e.dependenciesState=Q.POSSIBLY_STALE,e.isTracing!==Z.NONE&&Bt(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&a("Cycle detected in computation "+this.name+": "+this.derivation),0!==It.inBatch||0!==this.observers.size||this.keepAlive?(Mt(this),ot(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===Q.STALE)return;t.lowestObserverState=Q.STALE,t.observers.forEach((function(e){e.dependenciesState===Q.POSSIBLY_STALE?e.dependenciesState=Q.STALE:e.dependenciesState===Q.UP_TO_DATE&&(t.lowestObserverState=Q.UP_TO_DATE)}))}(this)):ot(this)&&(this.warnAboutUntrackedRead(),Nt(),this.value=this.computeValue(!1),Lt());var t=this.value;if(it(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(it(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===Q.NOT_TRACKING,n=this.computeValue(!0),r=e||it(t)||it(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,It.computationDepth++,t)e=at(this,this.derivation,this.scope);else if(!0===It.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new rt(t)}return It.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return Jt((function(){var o=n.get();if(!r||e){var s=lt();t({type:"update",object:n,newValue:o,oldValue:i}),ht(s)}r=!1,i=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return v(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),St=f("ComputedValue",Tt),Et=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},jt={};function kt(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:jt}var At=!0,Ct=!1,It=function(){var t=kt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(At=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Et).version&&(At=!1),At?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Et):(setTimeout((function(){Ct||a("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Et)}();function Pt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Dt(t,e){t.observers.delete(e),0===t.observers.size&&Rt(t)}function Rt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,It.pendingUnobservations.push(t))}function Nt(){It.inBatch++}function Lt(){if(0==--It.inBatch){$t();for(var t=It.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Tt&&n.suspend())}It.pendingUnobservations=[]}}function Mt(t){var e=It.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&It.inBatch>0&&Rt(t),!1)}function Bt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Z.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,r+1)}))}((r=t,ae(Ye(r,i))),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Tt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,i}var Ut=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+s()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+s(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Z.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,It.pendingReactions.push(this),$t())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Nt(),this._isScheduled=!1,ot(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Lt()}},t.prototype.track=function(t){if(!this.isDisposed){Nt();0,this._isRunning=!0;var e=at(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),it(e)&&this.reportExceptionInDerivation(e.cause),Lt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(It.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";It.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),It.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Nt(),ct(this),Lt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[x]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=ge(t);if(!r)return a(!1);r.isTracing===Z.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Z.BREAK:Z.LOG}(this,t)},t}();var Ft=function(t){return t()};function $t(){It.inBatch>0||It.isRunningReactions||Ft(Vt)}function Vt(){It.isRunningReactions=!0;for(var t=It.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}It.isRunningReactions=!1}var zt=f("Reaction",Ut);function qt(t){var e=Ft;Ft=function(n){return t((function(){return e(n)}))}}function Wt(){a(!1)}function Ht(t){return function(e,n,r){if(r){if(r.value)return{value:bt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return bt(t,i.call(this))}}}return Gt(t).apply(this,arguments)}}function Gt(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){d(this,n,Yt(t,e))}})}}var Yt=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?bt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?bt(t,e):1===arguments.length&&"string"==typeof t?Ht(t):!0!==r?Ht(e).apply(null,arguments):void d(t,e,bt(t.name||e,n.value,this))};function Xt(t,e){"string"==typeof t||t.name;return vt(0,"function"==typeof t?t:e,this,void 0)}function Kt(t,e,n){d(t,e,bt(e,n.bind(t)))}function Jt(t,e){void 0===e&&(e=o);var n,r=e&&e.name||t.name||"Autorun@"+s();if(!e.scheduler&&!e.delay)n=new Ut(r,(function(){this.track(c)}),e.onError,e.requiresObservable);else{var i=Zt(e),a=!1;n=new Ut(r,(function(){a||(a=!0,i((function(){a=!1,n.isDisposed||n.track(c)})))}),e.onError,e.requiresObservable)}function c(){t(n)}return n.schedule(),n.getDisposer()}Yt.bound=function(t,e,n,r){return!0===r?(Kt(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Kt(this,e,n.value||n.initializer.call(this)),this[e]},set:Wt}:{enumerable:!1,configurable:!0,set:function(t){Kt(this,e,t)},get:function(){}}};var Qt=function(t){return t()};function Zt(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Qt}function te(t,e,n){void 0===n&&(n=o);var r,i,a,c=n.name||"Reaction@"+s(),u=Yt(c,n.onError?(r=n.onError,i=e,function(){try{return i.apply(this,arguments)}catch(t){r.call(this,t)}}):e),l=!n.scheduler&&!n.delay,h=Zt(n),p=!0,d=!1,f=n.compareStructural?S.structural:n.equals||S.default,g=new Ut(c,(function(){p||l?m():d||(d=!0,h(m))}),n.onError,n.requiresObservable);function m(){if(d=!1,!g.isDisposed){var e=!1;g.track((function(){var n=t(g);e=p||!f(a,n),a=n})),p&&n.fireImmediately&&u(a,g),p||!0!==e||u(a,g),p&&(p=!1)}}return g.schedule(),g.getDisposer()}function ee(t,e,n){return ne("onBecomeUnobserved",t,e,n)}function ne(t,e,n,r){var i="function"==typeof r?Ye(e,n):Ye(e),o="function"==typeof r?r:n,s=t+"Listeners";return i[s]?i[s].add(o):i[s]=new Set([o]),"function"!=typeof i[t]?a(!1):function(){var t=i[s];t&&(t.delete(o),0===t.size&&delete i[s])}}function re(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,i=t.disableErrorBoundaries,o=t.reactionScheduler,s=t.reactionRequiresObservable,c=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((It.pendingReactions.length||It.inBatch||It.isRunningReactions)&&a("isolateGlobalState should be called before MobX is running any reactions"),Ct=!0,At&&(0==--kt().__mobxInstanceCount&&(kt().__mobxGlobals=void 0),It=new Et)),void 0!==e){var u=void 0;switch(e){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:a("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}It.enforceActions=u,It.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(It.computedRequiresReaction=!!n),void 0!==s&&(It.reactionRequiresObservable=!!s),void 0!==c&&(It.observableRequiresReaction=!!c,It.allowStateReads=!It.observableRequiresReaction),void 0!==r&&(It.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),It.disableErrorBoundaries=!!i),o&&qt(o)}function ie(t,e,n,r){var i=oe(r=z(r));return L(t),Ve(t,r.name,i.enhancer),e&&se(t,e,n,i),t}function oe(t){return t.defaultDecorator||(!1===t.deep?H:q)}function se(t,e,n,r){var i,o;Nt();try{var s=w(e);try{for(var a=k(s),c=a.next();!c.done;c=a.next()){var u=c.value,l=Object.getOwnPropertyDescriptor(e,u);0;var h=(n&&u in n?n[u]:l.get?tt:r)(t,u,l,!0);h&&Object.defineProperty(t,u,h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}finally{Lt()}}function ae(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(ae)),r}function ce(){this.message="FLOW_CANCELLED"}function ue(t,e){return null!=t&&(void 0!==e?!!Ge(t)&&t[x].values.has(e):Ge(t)||!!t[x]||O(t)||zt(t)||St(t))}function le(t){return 1!==arguments.length&&a(!1),ue(t)}function he(t){return Ge(t)?t[x].getKeys():Me(t)||Fe(t)?Array.from(t.keys()):De(t)?t.map((function(t,e){return e})):a(!1)}ce.prototype=Object.create(Error.prototype);var pe={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function de(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function fe(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=pe),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),function t(e,n,r){if(!n.recurseEverything&&!le(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Ot(e))return t(e.get(),n,r);if(le(e)&&he(e),!0===n.detectCycles&&null!==e&&r.has(e))return r.get(e);if(De(e)||Array.isArray(e)){var i=de(r,e,[],n),o=e.map((function(e){return t(e,n,r)}));i.length=o.length;for(var s=0,a=o.length;s<a;s++)i[s]=o[s];return i}if(Fe(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===n.exportMapsAsObjects){var c=de(r,e,new Set,n);return e.forEach((function(e){c.add(t(e,n,r))})),c}var u=de(r,e,[],n);return e.forEach((function(e){u.push(t(e,n,r))})),u}if(Me(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=de(r,e,new Map,n);return e.forEach((function(e,i){l.set(i,t(e,n,r))})),l}var h=de(r,e,{},n);return e.forEach((function(e,i){h[i]=t(e,n,r)})),h}var p=de(r,e,{},n);return y(e).forEach((function(i){p[i]=t(e[i],n,r)})),p}(t,e,n)}function ge(t){switch(t.length){case 0:return It.trackingDerivation;case 1:return Ye(t[0]);case 2:return Ye(t[0],t[1])}}function me(t,e){void 0===e&&(e=void 0),Nt();try{return t.apply(e)}finally{Lt()}}function ye(t){return t[x]}function be(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var ve={has:function(t,e){if(e===x||"constructor"===e||e===I)return!0;var n=ye(t);return be(e)?n.has(e):e in t},get:function(t,e){if(e===x||"constructor"===e||e===I)return t[e];var n=ye(t),r=n.values.get(e);if(r instanceof _){var i=r.get();return void 0===i&&n.has(e),i}return be(e)&&n.has(e),t[e]},set:function(t,e,n){return!!be(e)&&(function t(e,n,r){if(2!==arguments.length||Fe(e))if(Ge(e)){var i=e[x],o=i.values.get(n);o?i.write(n,r):i.addObservableProp(n,r,i.defaultEnhancer)}else if(Me(e))e.set(n,r);else if(Fe(e))e.add(n);else{if(!De(e))return a(!1);"number"!=typeof n&&(n=parseInt(n,10)),c(n>=0,"Not a valid index: '"+n+"'"),Nt(),n>=e.length&&(e.length=n+1),e[n]=r,Lt()}else{Nt();var s=n;try{for(var u in s)t(e,u,s[u])}finally{Lt()}}}(t,e,n),!0)},deleteProperty:function(t,e){return!!be(e)&&(ye(t).remove(e),!0)},ownKeys:function(t){return ye(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return a("Dynamic observable objects cannot be frozen"),!1}};function we(t){var e=new Proxy(t,ve);return t[x].proxy=e,e}function xe(t){return void 0!==t.interceptors&&t.interceptors.length>0}function _e(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),u((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Oe(t,e){var n=lt();try{for(var r=C(t.interceptors||[]),i=0,o=r.length;i<o&&(c(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{ht(n)}}function Te(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Se(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),u((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ee(t,e){var n=lt(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);ht(n)}}var je={get:function(t,e){return e===x?t[x]:"length"===e?t[x].getArrayLength():"number"==typeof e?Ce.get.call(t,e):"string"!=typeof e||isNaN(e)?Ce.hasOwnProperty(e)?Ce[e]:t[e]:Ce.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[x].setArrayLength(n),"number"==typeof e&&Ce.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:Ce.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return a("Observable arrays cannot be frozen"),!1}};function ke(t,e,n,r){void 0===n&&(n="ObservableArray@"+s()),void 0===r&&(r=!1);var i,o,a,c=new Ae(n,e,r);i=c.values,o=x,a=c,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(c.values,je);if(c.proxy=u,t&&t.length){var l=wt(!0);c.spliceWithArray(0,0,t),xt(l)}return u}var Ae=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(t||"ObservableArray@"+s()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return _e(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Se(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;st(this.atom);var o=this.values.length;if(void 0===t?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),e=1===arguments.length?o-t:null==e?0:Math.max(0,Math.min(e,o-t)),void 0===n&&(n=i),xe(this)){var s=Oe(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!s)return i;e=s.removedCount,n=s.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,C([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=Te(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&Ee(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=Te(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&Ee(this,o)},t}(),Ce={intercept:function(t){return this[x].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[x].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[x];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[x];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[x].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[x];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[x].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[x];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[x],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[x];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[x],r=n.values;if(t<r.length){st(n.atom);var i=r[t];if(xe(n)){var o=Oe(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Ce[t]=function(){var e=this[x];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Ce[t]=function(e,n){var r=this,i=this[x];return i.atom.reportObserved(),i.dehanceValues(i.values)[t]((function(t,i){return e.call(n,t,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){Ce[t]=function(){var e=this,n=this[x];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,i,o){return i=n.dehanceValue(i),r(t,i,o,e)},n.values[t].apply(n.values,arguments)}}));var Ie,Pe=f("ObservableArrayAdministration",Ae);function De(t){return h(t)&&Pe(t[x])}var Re,Ne={},Le=function(){function t(t,e,n){if(void 0===e&&(e=U),void 0===n&&(n="ObservableMap@"+s()),this.enhancer=e,this.name=n,this[Ie]=Ne,this._keysAtom=T(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!It.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new _t(this._has(t),F,this.name+"."+b(t)+"?",!1);this._hasMap.set(t,r),ee(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(xe(this)){var r=Oe(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if((st(this._keysAtom),xe(this))&&!(r=Oe(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=Te(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return me((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&Ee(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==It.UNCHANGED){var r=Te(this),i=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&Ee(this,i)}},t.prototype._addValue=function(t,e){var n=this;st(this._keysAtom),me((function(){var r=new _t(e,n.enhancer,n.name+"."+b(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=Te(this),i=r?{type:"add",object:this,name:t,newValue:e}:null;r&&Ee(this,i)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return tn({next:function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t.get(i)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return tn({next:function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,t.get(i)]}}})},t.prototype[(Ie=x,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=k(this),o=i.next();!o.done;o=i.next()){var s=A(o.value,2),a=s[0],c=s[1];t.call(e,c,a,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return Me(t)&&(t=t.toJS()),me((function(){var n=wt(!0);try{p(t)?y(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=A(t,2),r=n[0],i=n[1];return e.set(r,i)})):g(t)?(t.constructor!==Map&&a("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&a("Cannot initialize map from "+t)}finally{xt(n)}})),this},t.prototype.clear=function(){var t=this;me((function(){ut((function(){var e,n;try{for(var r=k(t.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return me((function(){var n,r,i,o,s=function(t){if(g(t)||Me(t))return t;if(Array.isArray(t))return new Map(t);if(p(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return a("Cannot convert to map from '"+t+"'")}(t),c=new Map,u=!1;try{for(var l=k(e._data.keys()),h=l.next();!h.done;h=l.next()){var d=h.value;if(!s.has(d))if(e.delete(d))u=!0;else{var f=e._data.get(d);c.set(d,f)}}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var m=k(s.entries()),y=m.next();!y.done;y=m.next()){var b=A(y.value,2),v=(d=b[0],f=b[1],e._data.has(d));if(e.set(d,f),e._data.has(d)){var w=e._data.get(d);c.set(d,w),v||(u=!0)}}}catch(t){i={error:t}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}if(!u)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var x=e._data.keys(),_=c.keys(),O=x.next(),T=_.next();!O.done;){if(O.value!==T.value){e._keysAtom.reportChanged();break}O=x.next(),T=_.next()}e._data=c})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=k(this),i=r.next();!i.done;i=r.next()){var o=A(i.value,2),s=o[0],a=o[1];n["symbol"==typeof s?s:b(s)]=a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return b(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return Se(this,t)},t.prototype.intercept=function(t){return _e(this,t)},t}(),Me=f("ObservableMap",Le),Be={},Ue=function(){function t(t,e,n){if(void 0===e&&(e=U),void 0===n&&(n="ObservableSet@"+s()),this.name=n,this[Re]=Be,this._data=new Set,this._atom=T(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;me((function(){ut((function(){var e,n;try{for(var r=k(t._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var i=k(this),o=i.next();!o.done;o=i.next()){var s=o.value;t.call(e,s,s,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((st(this._atom),xe(this))&&!(r=Oe(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){me((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=Te(this),r=n?{type:"add",object:this,newValue:t}:null;0,n&&Ee(this,r)}return this},t.prototype.delete=function(t){var e=this;if(xe(this)&&!(r=Oe(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=Te(this),r=n?{type:"delete",object:this,oldValue:t}:null;return me((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&Ee(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return tn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return tn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Fe(t)&&(t=t.toJS()),me((function(){var n=wt(!0);try{Array.isArray(t)||m(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&a("Cannot initialize set from "+t)}finally{xt(n)}})),this},t.prototype.observe=function(t,e){return Se(this,t)},t.prototype.intercept=function(t){return _e(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(Re=x,Symbol.iterator)]=function(){return this.values()},t}(),Fe=f("ObservableSet",Ue),$e=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new _(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof Tt)r.set(e);else{if(xe(this)){if(!(o=Oe(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==It.UNCHANGED){var i=Te(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),i&&Ee(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new _t(r,F,this.name+"."+b(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(xe(this)){var i=Oe(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new _t(e,n,this.name+"."+b(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return ze[t]||(ze[t]={configurable:!0,enumerable:!0,get:function(){return this[x].read(t)},set:function(e){this[x].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,s=this.target;n.name=n.name||this.name+"."+b(e),this.values.set(e,new Tt(n)),(t===s||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return qe[t]||(qe[t]={configurable:It.computedConfigurable,enumerable:!1,get:function(){return We(this).read(t)},set:function(e){We(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(xe(this))if(!(s=Oe(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Nt();var n=Te(this),r=this.values.get(t),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var s=n?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null;0,n&&Ee(this,s)}finally{Lt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return Se(this,t)},t.prototype.intercept=function(t){return _e(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=Te(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&Ee(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=k(this.values),i=r.next();!i.done;i=r.next()){var o=A(i.value,2),s=o[0];o[1]instanceof _t&&n.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function Ve(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=U),Object.prototype.hasOwnProperty.call(t,x))return t[x];p(t)||(e=(t.constructor.name||"ObservableObject")+"@"+s()),e||(e="ObservableObject@"+s());var r=new $e(t,new Map,b(e),n);return d(t,x,r),r}var ze=Object.create(null),qe=Object.create(null);function We(t){var e=t[x];return e||(L(t),t[x])}var He=f("ObservableObjectAdministration",$e);function Ge(t){return!!h(t)&&(L(t),He(t[x]))}function Ye(t,e){if("object"==typeof t&&null!==t){if(De(t))return void 0!==e&&a(!1),t[x].atom;if(Fe(t))return t[x];if(Me(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||a(!1),r)}var r;if(L(t),e&&!t[x]&&t[e],Ge(t))return e?((r=t[x].values.get(e))||a(!1),r):a(!1);if(O(t)||St(t)||zt(t))return t}else if("function"==typeof t&&zt(t[x]))return t[x];return a(!1)}function Xe(t,e){return t||a("Expecting some object"),void 0!==e?Xe(Ye(t,e)):O(t)||St(t)||zt(t)||Me(t)||Fe(t)?t:(L(t),t[x]?t[x]:void a(!1))}var Ke=Object.prototype.toString;function Je(t,e,n){return void 0===n&&(n=-1),function t(e,n,r,i,o){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;var a=Ke.call(e);if(a!==Ke.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}e=Qe(e),n=Qe(n);var c="[object Array]"===a;if(!c){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,l=n.constructor;if(u!==l&&!("function"==typeof u&&u instanceof u&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var h=(i=i||[]).length;for(;h--;)if(i[h]===e)return o[h]===n;if(i.push(e),o.push(n),c){if((h=e.length)!==n.length)return!1;for(;h--;)if(!t(e[h],n[h],r-1,i,o))return!1}else{var p=Object.keys(e),d=void 0;if(h=p.length,Object.keys(n).length!==h)return!1;for(;h--;)if(d=p[h],!Ze(n,d)||!t(e[d],n[d],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(t,e,n)}function Qe(t){return De(t)?t.slice():g(t)||Me(t)||m(t)||Fe(t)?Array.from(t.entries()):t}function Ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tn(t){return t[Symbol.iterator]=en,t}function en(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(t,e){return(void 0!==e?Ye(t,e):Ge(t)||Me(t)||Fe(t)?Xe(t):Ye(t)).name}},$mobx:x})}).call(this,n(94),n(25))},function(t,e,n){"use strict";n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return x}));n(20),n(7);var r=n(5),i=n.n(r),o=n(107),s=n.n(o),a=n(0),c=n(49),u=n(13);const l=s.a.create({timeout:3e4});let h=!1;const p=[],d=()=>new i.a(async(t,e)=>{if(p.push({resolve:t,reject:e}),!h){h=!0;try{let t;if(c.a){const e=a.l&&window.updateFromThirtyFiveStatus,{data:n}=await u.l.read(e?"localstorage":null);t=n}else{t=(await Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,428))).userStore}const{refreshToken:e}=t;if(!e)return t.setOutdated(),h=!1,void p.forEach(t=>{t.reject(new Error("no refreshtoken"))});const{status:r,data:i}=await l.post(a.x+"/refresh_token",{refresh_token:e},{headers:{"i-lang":a.C.lang}});if(200===r&&0===i.code){const{token:e,refreshToken:n}=i.data;t.setToken(i.data),t.setRefreshToken(n),h=!1,p.forEach(t=>{t.resolve(e)})}else{if(200!==r||3010!==i.code&&3012!==i.code)throw new Error(null==i?void 0:i.message);t.setOutdated(),h=!1,p.forEach(t=>{t.reject(i.message)})}}catch(t){h=!1,p.forEach(e=>{e.reject(t)})}}});var f=n(15);const g=["params","data","_auth"],m=async t=>{const{slave:e}=await n.e(9).then(n.bind(null,161)),r=((t,e={})=>{const n=Object.keys(e).map(t=>`${t}=${encodeURIComponent(e[t])}`);return n.length?t.includes("?")?t+n.join("&"):t+"?"+n.join("&"):t})(t.url,t.params),{request:i,option:o}=(t=>{const e={},n={};return t.data&&!e.body&&(e.body=JSON.stringify(t.data)),Object.keys(t).forEach(r=>{g.includes(r)||(r.startsWith("_")?n[r]=t[r]:e[r]=t[r])}),{request:e,option:n}})(t);return e.postTask("slave:fetch",{url:r,request:i,option:o})},y=s.a.CancelToken,b=s.a.create({timeout:6e4});b.interceptors.response.use(null,t=>(t.message=i18n("network_error"),i.a.reject(t)));const v=Object.create(null),w=t=>{v[t]&&v[t]()},x=async t=>{if(t._single){const e=(t=>{let e;return e=!0===t._single?t.method+"-"+t.url.split("?")[0]:t._single,e})(t);v[e]&&v[e](),t.cancelToken=new y(t=>{v[e]=t})}var e;t._delay&&await(e=t._delay,new i.a(t=>{setTimeout(t,e)}));const r={};if(t._auth){let e=null;if(c.a){const t=a.l&&window.updateFromThirtyFiveStatus,{data:n}=await u.l.read(t?"localstorage":null);e=n}else{const{userStore:t}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,428));e=t}if(!e||!e.token)throw new Error("error token");{const n=f.a.parseJwt(e.token),i=await f.a.getTimestamp();if(t._Authorization)r.Authorization=t._Authorization,r["i-token"]=t._Authorization;else if(Math.floor(i/1e3)>n.exp-60){const t=await d();r.Authorization="Bearer "+t,r["i-token"]="Bearer "+t}else r.Authorization="Bearer "+e.token,r["i-token"]="Bearer "+e.token}}let o;if(t.url.includes(a.x)&&(r["i-lang"]=a.C.lang,r["i-edition"]=a.e,r["i-version"]=a.C.extVersion),t.headers=Object.assign(Object.assign({},r),t.headers),o=t._proxy?await m(t):await b(t),t._responseAll)return o;let{data:s}=o;if(!t._Authorization&&3010===(null==s?void 0:s.code)){const e=await d();t._Authorization="Bearer "+e,delete t.headers.Authorization,delete t.headers["i-token"],s=await x(t)}return s};["get","delete"].forEach(t=>{x[t]=(e,n,r={})=>x(Object.assign({url:e,params:n,method:t},r))}),["post","patch","put"].forEach(t=>{x[t]=(e,n,r={})=>x(Object.assign({url:e,data:n,method:t},r))}),x.jsonp=(t,e,n={})=>x(Object.assign({url:t,params:e},n))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(25))},function(t,e,n){t.exports=n(266)},function(t,e,n){"use strict";n.r(e),n.d(e,"i18n",(function(){return u})),n.d(e,"IS_ZH",(function(){return l})),n.d(e,"initMasterI18n",(function(){return h})),n.d(e,"initI18n",(function(){return p})),n.d(e,"setLangToLocal",(function(){return f})),n.d(e,"getLangFromLocal",(function(){return g}));n(20),n(61),n(7);var r=n(0),i=n(107),o=n.n(i),s=n(24),a=n.n(s);let c={};const u=function(t,e){var n;if(r.l&&!r.r)return chrome.i18n.getMessage(t,e)||t;if(r.s||r.r){if(r.r&&void 0===e)return chrome.i18n.getMessage(t,e)||t;const i=null===(n=c[t])||void 0===n?void 0:n.message,o=[];"string"==typeof e?o.push(e):Array.isArray(e)&&o.push(...e);const s=/(\$.+?\$)/g;let a=s.exec(i),u=i;for(;a;){let[t]=o.splice(0,1);void 0===t&&(t=""),u=u.replace(a[1],t),a=s.exec(i)}return u||t}return t};r.t?globalThis.i18n=u:window.i18n=u;const l="zh-CN"===r.C.lang;async function h(){const t=await g();c=t}async function p(){if(!r.s&&!r.r)return;const{slave:t}=await Promise.all([n.e(27),n.e(33)]).then(n.bind(null,161)),e=r.C.lang;try{const n=await g(),r=localStorage.getItem("setLangCode"),i=localStorage.getItem("langCode");null!==r&&null!==n||i===e&&null!==n?(c=n,d(r?i:e)):await d(r?i:e),t.postTask("slave:master-init-i18n",c)}catch(t){}}async function d(t){const e=t.replace("-","_"),n=(await o.a.get(`${r.A}/_locales/${Object(r.F)(e)}/messages.json?v=1725952562563`)).data;Object.keys(n).length>50&&(c=n,localStorage.setItem("langCode",t),f(n))}function f(t){return a.a.setItem("current-language",t)}function g(){return a.a.getItem("current-language")}},function(t,e,n){"use strict";var r,i,o,s,a=n(77),c=n(56),u=n(4),l=n(19),h=n(88),p=n(26),d=n(118),f=n(83),g=n(120),m=n(102),y=n(12),b=n(27),v=n(122),w=n(40),x=n(123),_=n(128),O=n(89),T=n(72).set,S=n(129),E=n(90),j=n(131),k=n(74),A=n(132),C=n(48),I=n(60),P=n(8),D=n(133),R=n(42),N=n(59),L=P("species"),M="Promise",B=C.get,U=C.set,F=C.getterFor(M),$=h&&h.prototype,V=h,z=$,q=u.TypeError,W=u.document,H=u.process,G=k.f,Y=G,X=!!(W&&W.createEvent&&u.dispatchEvent),K="function"==typeof PromiseRejectionEvent,J=!1,Q=I(M,(function(){var t=w(V),e=t!==String(V);if(!e&&66===N)return!0;if(c&&!z.finally)return!0;if(N>=51&&/native code/.test(t))return!1;var n=new V((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[L]=r,!(J=n.then((function(){}))instanceof r)||!e&&D&&!K})),Z=Q||!_((function(t){V.all(t).catch((function(){}))})),tt=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},et=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;S((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,p=u.reject,d=u.domain;try{l?(i||(2===t.rejection&&ot(t),t.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===u.promise?p(q("Promise-chain cycle")):(a=tt(s))?a.call(s,h,p):h(s)):p(r)}catch(t){d&&!c&&d.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)}))}},nt=function(t,e,n){var r,i;X?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!K&&(i=u["on"+t])?i(r):"unhandledrejection"===t&&j("Unhandled promise rejection",n)},rt=function(t){T.call(u,(function(){var e,n=t.facade,r=t.value;if(it(t)&&(e=A((function(){R?H.emit("unhandledRejection",r,n):nt("unhandledrejection",n,r)})),t.rejection=R||it(t)?2:1,e.error))throw e.value}))},it=function(t){return 1!==t.rejection&&!t.parent},ot=function(t){T.call(u,(function(){var e=t.facade;R?H.emit("rejectionHandled",e):nt("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},at=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,et(t,!0))},ct=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw q("Promise can't be resolved itself");var r=tt(e);r?S((function(){var n={done:!1};try{r.call(e,st(ct,n,t),st(at,n,t))}catch(e){at(n,e,t)}})):(t.value=e,t.state=1,et(t,!1))}catch(e){at({done:!1},e,t)}}};if(Q&&(z=(V=function(t){v(this,V,M),b(t),r.call(this);var e=B(this);try{t(st(ct,e),st(at,e))}catch(t){at(e,t)}}).prototype,(r=function(t){U(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(z,{then:function(t,e){var n=F(this),r=G(O(this,V));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=R?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&et(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=B(t);this.promise=t,this.resolve=st(ct,e),this.reject=st(at,e)},k.f=G=function(t){return t===V||t===o?new i(t):Y(t)},!c&&"function"==typeof h&&$!==Object.prototype)){s=$.then,J||(p($,"then",(function(t,e){var n=this;return new V((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),p($,"catch",z.catch,{unsafe:!0}));try{delete $.constructor}catch(t){}f&&f($,z)}a({global:!0,wrap:!0,forced:Q},{Promise:V}),g(V,M,!1,!0),m(M),o=l(M),a({target:M,stat:!0,forced:Q},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),a({target:M,stat:!0,forced:c||Q},{resolve:function(t){return E(c&&this===o?V:this,t)}}),a({target:M,stat:!0,forced:Z},{all:function(t){var e=this,n=G(e),r=n.resolve,i=n.reject,o=A((function(){var n=b(e.resolve),o=[],s=0,a=1;x(t,(function(t){var c=s++,u=!1;o.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,i=A((function(){var i=b(e.resolve);x(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(4),i=n(54),o=n(11),s=n(58),a=n(69),c=n(121),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)&&(a||"string"==typeof u[t])||(a&&o(l,t)?u[t]=l[t]:u[t]=h("Symbol."+t)),u[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(12);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(78),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(r(t),e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"g",(function(){return g})),n.d(e,"h",(function(){return m})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return w})),n.d(e,"n",(function(){return x})),n.d(e,"o",(function(){return _})),n.d(e,"m",(function(){return O})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return S})),n.d(e,"f",(function(){return E})),n.d(e,"e",(function(){return j}));var r,i=n(5),o=n.n(i),s=(n(7),n(0)),a=n(49),c=n(24),u=n.n(c),l=n(165);async function h(t,e,n,r=!1){try{if("idb"===n)await u.a.setItem(t,e);else if("localstorage"===n){let n=e;r||(n=JSON.stringify(e)),s.l&&a.a?await Object(l.d)(t,n):localStorage.setItem(t,n)}else"storage.local"===n&&await new o.a((n,r)=>chrome.storage.local.set({[t]:e},()=>{const t=chrome.runtime.lastError;t&&r(t),n(!0)}));return{data:!0}}catch(t){return console.error("setStorage -> error",t),{error:t}}}async function p(t,e){try{return"idb"===e?await u.a.removeItem(t):"localstorage"===e?s.l&&a.a?await Object(l.c)(t):localStorage.removeItem(t):"storage.local"===e&&await new o.a((e,n)=>chrome.storage.local.remove(t,()=>{const t=chrome.runtime.lastError;t&&n(t),e(null)})),{data:!0}}catch(t){return console.error("clearStorage -> error",t),{error:t}}}!function(t){t.storeNote="store-notes",t.storeSearch="store-search",t.storeSetting="store-setting",t.storeSite="store-site",t.storeSync="store-sync",t.storeTodo="store-todo",t.storeUser="store-user",t.storeWallpaper="store-wallpaper",t.storeWeather="store-weather",t.storeBookmarks="store-bookmarks",t.storeGmail="store-gmail",t.storePrivacy="store-privacy",t.storeWallpaperAutoData="store-wallpaper-auto-data",t.storeNotification="store-notification"}(r||(r={}));class d{constructor(t,e,n){this.options={ensureStringValue:!1,keepWithLogout:!1},this.key=t,this.type=e,this.options=Object.assign(Object.assign({},this.options),n),this.setInstanceMapper()}static getInstanceFromKey(t){return this.instanceKeyMapper.has(t)?this.instanceKeyMapper.get(t):null}static async deleteAllForLogout(){const t=Array.from(this.instanceKeyMapper.values());let e;return(await o.a.all(t.map(async t=>await t.deleteForLogout()))).some(t=>!!t.error&&(e=t.error,!0))?{error:e}:{data:!0}}setInstanceMapper(){d.instanceKeyMapper.set(this.key,this)}async create(t){return await h(this.key,t,this.type)}async read(t){return await async function(t,e,n=!1){try{if("idb"===e){return{data:await u.a.getItem(t)}}if("localstorage"===e){let e;return e=s.l&&a.a?await Object(l.a)(t):localStorage.getItem(t),!n&&e?"undefined"===e?{data:void 0}:{data:JSON.parse(e)}:{data:e}}if("storage.local"===e){return{data:await new o.a((e,n)=>chrome.storage.local.get(t,r=>{const i=chrome.runtime.lastError;i&&n(i),e(null==r?void 0:r[t])}))}}}catch(t){return console.error("getStorage -> error",t),{error:t}}}(this.key,t||this.type)}async update(t){const{data:e,error:n}=await this.read();if(n)return{error:n};if(e&&"object"==typeof e){const n=Object.assign(Object.assign({},e),t);return await this.create(n)}return{error:{data:e}}}async delete(t){return await p(this.key,t||this.type)}async deleteWithRetain(...t){if(0===t.length)return{error:{keys:t}};const{data:e,error:n}=await this.read();if(n)return{error:n};if(e&&"object"==typeof e){const n={};return t.forEach(t=>{n[t]=e[t]}),await this.create(n)}return{error:{data:e}}}async deleteForLogout(){return this.options.keepWithLogout?{data:!0}:await this.delete()}}d.instanceKeyMapper=new Map;const f=new d(r.storeNote,"idb"),g=new class extends d{async create(t){return"localstorage"!==this.type&&setTimeout(()=>{h(this.key,t,"localstorage")},0),super.create(t)}async delete(){return"localstorage"!==this.type&&requestAnimationFrame(()=>{p(this.key,"localstorage")}),super.delete()}async deleteForLogout(){return await super.deleteWithRetain("ignoreSuggest")}}(r.storeSearch,s.i?"localstorage":"idb"),m=new class extends d{async create(t){return"localstorage"!==this.type&&setTimeout(()=>{h(this.key,t,"localstorage")},0),super.create(t)}async delete(){return"localstorage"!==this.type&&requestAnimationFrame(()=>{p(this.key,"localstorage")}),super.delete()}async deleteForLogout(){return await super.deleteWithRetain("permission")}}(r.storeSetting,s.i?"localstorage":"idb"),y=new class extends d{async create(t){return"localstorage"!==this.type&&setTimeout(()=>{h(this.key,t,"localstorage")},0),super.create(t)}async delete(){return"localstorage"!==this.type&&requestAnimationFrame(()=>{p(this.key,"localstorage")}),super.delete()}}(r.storeSite,s.i?"localstorage":"idb"),b=new class extends d{constructor(){super(...arguments),this.userStore=null,this.sendTabsSync=t=>{console.warn("SyncStorageManager ~ sync: need inject sendTabsSync",t)}}injectUserStore(t){this.userStore=t}injectSendTabsSync(t){this.sendTabsSync=t}async updateSyncPipe(t,e){var n;if(!(null===(n=this.userStore)||void 0===n?void 0:n.isLogin))return{error:"isLogin false"};const{data:r,error:i}=await this.read();if(i||!r)return{error:"read error"};if(!r.isOpenSync)return{error:"isOpenSync false"};const{autoBackupPipe:o}=r;o.data[t]=e,o.timestamp=Date.now(),o.websocketKeys.includes(t)||o.websocketKeys.push(t);const s=await this.update({autoBackupPipe:o});return this.sendTabsSync(this.key),s}}(r.storeSync,"idb"),v=new d(r.storeTodo,"idb"),w=new d(r.storeUser,s.i?"localstorage":"idb"),x=new d(r.storeWallpaper,"idb"),_=new d(r.storeWeather,"idb"),O=new d(r.storeWallpaperAutoData,"idb"),T=new d(r.storeBookmarks,"localstorage",{keepWithLogout:!0}),S=new d(r.storeGmail,"localstorage",{keepWithLogout:!0}),E=new d(r.storePrivacy,"localstorage",{keepWithLogout:!0}),j=new d(r.storeNotification,"idb")},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(25))},function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=(n(7),n(20),n(61),n(256),n(0)),s=n(6),a=n(85),c=n(378),u=n(213);const l=t=>{t&&(o.s?window.open(t,"_self"):window.chrome.tabs.getCurrent(e=>window.chrome.tabs.update(e.id,{url:t},()=>{chrome.runtime.lastError&&(t.startsWith("http")?window.open(t,"_self"):window.chrome.tabs.create({url:t}))})))},h={randomId:u.c,group:(t,e)=>{const n=[],r=Math.ceil(t.length/e);for(let i=0;i<r;i++)i===r-1?n.push(t.slice(i*e,t.length)):n.push(t.slice(i*e,(i+1)*e));return n},openUrl:(t,e=!0,n)=>{!n||1!==n.button&&!h.ctrlKeyStatus(n)?e?o.s?window.open(t,"_blank").focus():window.chrome.tabs.create({url:t,active:!0}):l(t):o.s?window.open(t,"_blank"):window.chrome.tabs.create({url:t,active:!1})},openChromeApp:async(t,e=!0,r)=>{if(!await a.a.has(["management"]))try{await a.a.request(["management"])}catch(t){const{message:e}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,106));return void e.error(i18n("no_permission_to_open_app",o.C.vendor))}chrome.management.get(t,async({type:i,launchType:s,enabled:a,appLaunchUrl:c}={})=>{if(chrome.runtime.lastError){const{message:t}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,106));t.error(i18n("target_chrome_app_not_installed",o.C.vendor))}else{const o=()=>{!r||1!==r.button&&!h.ctrlKeyStatus(r)?e||"hosted_app"!==i||"OPEN_AS_REGULAR_TAB"!==s?chrome.management.launchApp(t):l(c):chrome.management.launchApp(t)};if(a)o();else{const{IConfirm:e}=await Promise.all([n.e(0),n.e(37)]).then(n.bind(null,468));e.create().toShow({text:i18n("app_disabled_enable_first"),onConfirm:()=>{window.chrome.management.setEnabled(t,!0,()=>{o()})}})}}})},send:async function({key:t,data:e}){o.s||window.chrome.runtime.sendMessage({key:t,data:e},()=>{chrome.runtime.lastError&&console.warn("sendMessage: ",chrome.runtime.lastError.message)})},downloadImg:function(t,e,n){if(!e)if(e="infinity-"+Math.ceil(Date.now()*Math.random()/(555555*Math.random())),t.startsWith("blob:"))e=`${e}.${n||"png"}`;else{const n=t.indexOf("?");let r=t;~n&&(r=t.slice(0,n));e=`${e}.${r.split("/").reverse()[0].split(".").reverse()[0]}`}const r=e,i=document.createElement("a");let s=t;t.startsWith("blob:")||(s=t.includes("?")?`${t}&attname=${r}`:`${t}?attname=${r}`),o.r?window.open(s,"_blank"):(o.n&&i.setAttribute("target","_blank"),i.setAttribute("download",r),i.setAttribute("href",s),document.body.appendChild(i),i.click(),document.body.removeChild(i))},fmtTime:(t,e)=>new Date(t).toLocaleString(o.C.lang,e||{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}),getTimestamp:async function(){return Date.now()},parseJwt:t=>{const e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)},compress:(t,e=10,n)=>new i.a(r=>{const i=new Image,o=document.createElement("canvas"),s=o.getContext("2d");i.onload=()=>{n=n||i.height*e/i.width,o.width=e,o.height=n,s.fillRect(0,0,e,n),s.drawImage(i,0,0,e,n),o.toBlob(r,"image/jpeg")},i.src=t}),mergeArray:function(t=[],e=[],n="id",r="updatetime"){if(!t||0===t.length)return{result:e||[],isLocalEffective:!1};const i=e.filter(t=>!!t),o=Object.create(null);e.forEach((t,e)=>{if(t[n]){const r=t[n];o[r]=e}});let s=!1;return t.filter(t=>0!==t[r]).forEach(t=>{const e=t[n],a=o[e];if(void 0!==a){(i[a][r]||0)<(t[r]||0)&&(i[a]=t,s=!0)}else s=!0,i.push(t)}),{result:i.filter(t=>!!t),isLocalEffective:s}},throttle:function(t,e){let n;return function(...r){const i=this;n||(n=setTimeout(()=>{t.apply(i,r),n=null},e))}},debounce:function(t,e){let n=null;return function(){const r=this,i=arguments;n&&(clearTimeout(n),n=null),n=setTimeout(()=>{t.apply(r,i)},e)}},setStyle:function(t,e=document.body){Object.keys(t).forEach(n=>{e.style.setProperty(n,t[n])})},isInputType:t=>!!t&&(!("INPUT"!==t.tagName||t.getAttribute("type")&&"text"!==t.getAttribute("type")&&"search"!==t.getAttribute("type"))||("TEXTAREA"===t.tagName||(!!t.getAttribute("contenteditable")||void 0))),convertBase64ToBlob:t=>{const e=t.split(",");let n="",r="";e.length>1&&(r=e[1],n=e[0].substring(e[0].indexOf(":")+1,e[0].indexOf(";")));const i=atob(r),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let t=0;t<i.length;t++)s[t]=i.charCodeAt(t);return new Blob([o],{type:n})},isTouchScreendevice:()=>!(!("ontouchstart"in window)&&!navigator.maxTouchPoints),stopBubble(t){t.stopPropagation()},hexColorDelta(t,e){let n,r,i,o,s,a;Array.isArray(t)?[n,r,i]=t:(n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16)),Array.isArray(e)?[o,s,a]=e:(o=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16));let c=255-Math.abs(n-o),u=255-Math.abs(r-s),l=255-Math.abs(i-a);return c/=255,u/=255,l/=255,(c+u+l)/3},async getSimilarColor(t){const e=window.URL.createObjectURL(t),n=await new i.a(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),r=(new ColorThief).getColor(n),o=window.__INFINITY__.color_list,s=o.map(t=>h.hexColorDelta(r,t)),a=Math.max.apply(null,s),c=o[s.indexOf(a)];return window.URL.revokeObjectURL(e),c},getPrivacyUrl(){const t=s.IS_ZH?"zh":"en";return o.n?`/privacy/${t}/privacy.html`:`${o.u}/${o.e}/${o.c}/${t}/privacy.html`},sleep:(t=0)=>new i.a(e=>{setTimeout(()=>{e(null)},t)}),checkImage(){let t;return[e=>new i.a((n,r)=>{t=new Image,t.onload=n,t.onerror=r,t.src=e}),()=>{t&&(t.src="")}]},requestFirefoxThrottle(t,e,n=!1){if(o.n||n){const n="throttle-"+t;if("boolean"==typeof e&&localStorage.setItem(n,Date.now()+""),"number"==typeof e){const t=localStorage.getItem(n),r=Date.now();if(t&&Number(t)<r&&Number(t)+e>r)return!1}}return!0},chooseFile:(t,e)=>(t=t||"image/jpg,image/jpeg,image/png,image/gif,image/bmp,image/webp,image/svg",e=e||"readAsDataURL",new i.a(n=>{try{document.querySelectorAll(".choose-file").forEach(t=>{document.body.removeChild(t)})}catch(t){}const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("class","choose-file"),r.setAttribute("accept",t),r.style.opacity="0",r.style.width="0",r.style.height="0",r.value="",r.addEventListener("change",t=>{const i=t.target.files[0],o=new FileReader;o[e](i),o.onload=function(t){const e=t.target.result;n(e);try{document.body.removeChild(r)}catch(t){}}},{once:!0}),document.body.appendChild(r),r.click()})),exportJsonFile(t,e){const n=JSON.stringify(t);let r="text/infinity";o.r&&(r="custom/infinity");const i=new Blob([n],{type:r}),s=window.URL.createObjectURL(i);if(o.r)window.open(s,"_blank");else{const t=new Date,n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),r=document.createElement("a");r.href=s,r.download=e+n+".infinity",document.body.appendChild(r),r.click(),document.body.removeChild(r)}URL.revokeObjectURL(s)},stopShowMenu(t){if(!h.isInputType(t.target))return t.stopPropagation(),t.preventDefault(),document.querySelector("i-menu").toHide(),!1},ctrlKeyStatus:t=>o.o?t.metaKey:t.ctrlKey,getFavIconSrc:t=>d(t)?t:function(t){try{return new c.a(t).host}catch(e){return t}}(function(t){if(function(t){return/^(.+?):\/\//.test(t)}(t)||d(t))return t;return"http://"+t}(t)).replace("^www.",""),getLastReqValue(t){const e=[],n=this;return async function(r,i,o){const s=n.randomId("req");e.push(s);const a=await t(r,i,o),c=e.findIndex(t=>t===s),u=e.length;return e.splice(0,c+1),c===u-1?a:null}},isFirstDate(t){const e=new Date("2013/11/30").toLocaleDateString(t);let n="";if(e.replace(/(\d{1,4})\D+(\d{1,2})\D+(\d{1,4})/,(t,e)=>(n=e,"")),"2013"===n)return!0;const r=String(new Date("2013/11/30").getDate());return n===r},internaDateToStan:u.a,getTargetLogDomain(t){if(!t)return"";try{if(t.startsWith("http://")||t.startsWith("https://")){const e=new URL(t);if(e.host)return e.host}return t.split("?")[0]}catch(e){return t}}};const p=/^\w+:\w/;function d(t){return p.test(t)}e.a=h;const f=document.createElement("script");f.src="/vendor/color-thief.min.js",document.head.appendChild(f),f.onload=()=>{f.remove()}},function(t,e){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},function(t,e,n){var r=n(9);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(14),i=n(192),o=n(36),s=n(193),a=n(197),c=n(279),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)&&(a||"string"==typeof u[t])||(a&&o(l,t)?u[t]=l[t]:u[t]=h("Symbol."+t)),u[t]}},function(t,e,n){var r=n(114),i=n(4),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){"use strict";var r=n(77),i=n(136);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(17),i=n(22),o=n(66);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(17),i=n(68),o=n(10),s=n(67),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return E})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return Ct})),n.d(e,"b",(function(){return a}));var r={};n.r(r),n.d(r,"getLocalCity",(function(){return h})),n.d(r,"getForecastWeather",(function(){return p})),n.d(r,"getCityList",(function(){return d}));var i={};n.r(i),n.d(i,"getSearchSuggest",(function(){return v})),n.d(i,"getEnginesList",(function(){return w}));var o={};n.r(o),n.d(o,"getIcon",(function(){return C})),n.d(o,"getUrlInfoWithPermission",(function(){return D})),n.d(o,"getUrlIcon",(function(){return M})),n.d(o,"getFetchiconUrls",(function(){return B})),n.d(o,"getLogoList",(function(){return U})),n.d(o,"getRedirectTargets",(function(){return F}));var s={};n.r(s),n.d(s,"register",(function(){return V})),n.d(s,"login",(function(){return z})),n.d(s,"updateProfile",(function(){return q})),n.d(s,"getUserProfile",(function(){return W})),n.d(s,"uploadAvatar",(function(){return H})),n.d(s,"modifyPassword",(function(){return G})),n.d(s,"forgetPassword",(function(){return Y})),n.d(s,"resetPassword",(function(){return X})),n.d(s,"getEmailCode",(function(){return K})),n.d(s,"getRegisterCode",(function(){return J})),n.d(s,"inspceCode",(function(){return Q})),n.d(s,"checkTokenIsExpired",(function(){return Z})),n.d(s,"deleteAccount",(function(){return tt})),n.d(s,"loginWithUid",(function(){return et})),n.d(s,"v1BasicLogin",(function(){return nt})),n.d(s,"getMobileUid",(function(){return rt})),n.d(s,"getMobileloginUrl",(function(){return it})),n.d(s,"checkMobileloginUrl",(function(){return ot})),n.d(s,"sendPhoneCode",(function(){return st})),n.d(s,"sendEmailCode",(function(){return at})),n.d(s,"bindEmail",(function(){return ct})),n.d(s,"bindPhoneNumber",(function(){return ut})),n.d(s,"unbindEmail",(function(){return lt})),n.d(s,"unbindPhoneNumber",(function(){return ht})),n.d(s,"verifyPhoneVCode",(function(){return pt})),n.d(s,"ThirdLoginType",(function(){return dt})),n.d(s,"bindThird",(function(){return ft})),n.d(s,"unbindThird",(function(){return gt})),n.d(s,"getAreaCodeList",(function(){return mt})),n.d(s,"verifyPassword",(function(){return yt})),n.d(s,"geVerifyTokenImg",(function(){return bt}));var a={};n.r(a),n.d(a,"getRepairConcat",(function(){return vt})),n.d(a,"postErrorCollect",(function(){return wt})),n.d(a,"sendLog",(function(){return xt}));var c={};n.r(c),n.d(c,"getSyncList",(function(){return St})),n.d(c,"getSyncDetail",(function(){return Et})),n.d(c,"autoBackup",(function(){return jt})),n.d(c,"manualBackup",(function(){return kt})),n.d(c,"getV2DataFromV1",(function(){return At}));n(7);var u=n(0),l=n(3);const h=async()=>{try{const t=await l.a.get(u.z+"/city/locate",{lang:u.C.lang},{timeout:1e4});if(t&&t.city)return{data:t.city}}catch(t){return{error:t}}},p=async t=>{try{return{data:(await l.a.get(u.z+"/weather/forecast",{lang:u.C.lang,cid:t},{timeout:1e4})).forecast}}catch(t){return{error:t}}},d=async t=>{try{return{data:await l.a.get(u.z+"/city/list",{lang:u.C.lang,searchkey:t},{timeout:1e4})}}catch(t){return{error:t}}};n(20);var f=n(15),g=n(82),m=n.n(g),y=n(305),b=n.n(y);const v=async t=>u.C.isZh?u.h||u.s?_(t):T(t):u.h||u.s?O(t):S(t),w=async t=>{let e=u.q?6e5:6e4;t||(e=0);try{if(!f.a.requestFirefoxThrottle("/search/list",e,!0))return{error:"request throttle error"};const n=await l.a.get(u.x+"/search/list",{lang:u.C.lang,platform:u.C.platform,platformVersion:u.C.platformVersion,edition:u.e,maybe360:u.H,version:t||""+Date.now()});if(0===n.code){const t=n.data.map(t=>{const e={};return e.name=t.name,e.uuid=t.seId,e.logo=t.logo,e.desc=t.desc,e.types=t.types,e.hide=t.hide,e});return f.a.requestFirefoxThrottle("/search/list",!0,!0),{data:{list:t,hash:m()(JSON.stringify(t)),meta:n.meta}}}if(2005===n.code)return f.a.requestFirefoxThrottle("/search/list",!0,!0),{error:n};throw n}catch(t){return{error:t}}},x=f.a.getLastReqValue(l.a.jsonp),_=async t=>{var e;try{const n=await x(u.b+"/su?ie=utf-8&p=3",{wd:t},{adapter:b.a,callbackParamName:"cb"});return{data:(null===(e=null==n?void 0:n.s)||void 0===e?void 0:e.map(t=>({text:t})))||[]}}catch(t){return{error:t}}},O=async t=>{var e;try{const n=await x(u.g+"/complete/search?client=chrome",{q:t},{adapter:b.a,callbackParamName:"jsonp"});return{data:(null==n?void 0:n.length)&&(null===(e=n[1])||void 0===e?void 0:e.length)?n[1].map(t=>({text:t})):[]}}catch(t){return{error:t}}},T=async t=>{try{const e=await l.a.get(u.b+"/su?p=3&ie=UTF-8&cb=",{wd:t},{_single:!0,_delay:0}),n=/s:(\[[\w\W]*\])/.exec(e),r=JSON.parse(n[1]);return{data:r.map(t=>({text:t}))}}catch(t){return{error:t}}},S=async t=>{try{const e=await l.a.get(u.g+"/complete/search?client=chrome",{q:t},{_single:!0,_delay:200});return{data:e[2].map((t,n)=>(t||(t=e[1][n]),{text:t}))}}catch(t){return{error:t}}};var E=n(164),j=n(5),k=n.n(j);n(61);const A=u.C.lang,C=async({page:t=0,type:e,keyword:n,source:r}={})=>{try{const i=await l.a.get(u.w+"/get-icons",{lang:A,page:t,type:e,source:r,keyword:n,version:u.l?u.y:""},{_single:!0,_delay:200});if(i.success)return i.icons.forEach(t=>{if("infinity"===t.source)switch("infinity://wallpaper"===t.url&&(t.name="wallpaper_library"),t.url){case"infinity://wallpaper":case"infinity://weather":case"infinity://todos":case"infinity://notes":case"infinity://history":case"infinity://bookmarks":case"infinity://settings":t.name=i18n(t.name),t.description=i18n(t.description);break;case"infinity://extension":t.name=i18n(t.name),t.description=i18n(t.description,u.C.vendor)}t._footer=t.description||i18n("no_description")}),{data:i};throw i}catch(t){return{error:t}}},I=async t=>{try{const e=await l.a.get(u.x+"/icon/title",{url:t},{_single:!0,_delay:0,timeout:3e3});if(0===e.code)return{data:{name:e.data.title}};throw e}catch(t){return{error:t}}},P=/<title[^>]*>\s*(.*)\s*<\/title>/,D=t=>window.__INFINITY__.hasAllUrlPermission?new k.a(async e=>{let n=0;I(t).then(t=>{n+=1,t.error&&2!==n||e(t)}),(async t=>{try{const e=await l.a.get(t,{},{_single:"getUrlInfoFromFE",timeout:3e3,responseType:"text",_responseAll:!0}),n=e.data;if(n&&e.status>=200&&e.status<300){const t=n.indexOf("<title");if(t>0){const e=n.slice(t,t+200),r=P.exec(e),i=null==r?void 0:r[1];if(i)return{data:{name:i}}}}return{error:"error"}}catch(t){return{error:t}}})(t).then(t=>{n+=1,t.error&&2!==n||e(t)})}):new k.a(async e=>{e(await I(t))}),R=(t,e)=>{if(0===e.length)return e;const n=new Map,r=[];return t.forEach((t,e)=>{n.set(t,e)}),e.forEach(t=>{const e=n.get(t);r[e]=t}),r.filter(t=>!!t)},N=t=>new k.a(e=>{const n=()=>{const e=R(t,o),n=R(t,s),r=R(t,a);return e.concat(n,r)},r=t.length;let i=0;const o=[],s=[],a=[];t.forEach(t=>{const c=new Image;c.onload=function(){i+=1;const{width:c,height:u}=this,l=Math.max(c,u),h=Math.min(c,u);l/h<5?h>50&&l>100?o.push(t):h>50||l>100?s.push(t):a.push(t):a.push(t),i===r&&e(n())},c.onerror=()=>{i+=1,i===r&&e(n())},c.src=t}),setTimeout(()=>{e(n())},3e3)}),L=/\.(ico|png|jpg|jpeg|svg|webp)$/,M=async t=>{var e;try{if(t.startsWith("infinity://"))return{data:[]};const n=await l.a.get(t,{},{_single:"getUrlIcon",_delay:100,timeout:3e3,responseType:"text",_responseAll:!0}),r=n.data;if(r&&n.status>=200&&n.status<300){const i=(null===(e=n.request)||void 0===e?void 0:e.responseURL)||t;let o=((t,e)=>{const n=[];return e.replace(/<link [^>]*href=['"]([^'"]+)[^>]*/gi,(t,e)=>{n.push(e)}),n.reduce((e,n)=>{if(n&&L.test(n)){const r=new URL(n,t);e.push(r.href)}return e},[])})(i,r);if(o.length<6){const t=((t,e)=>{const n=[];return e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*/gi,(t,e)=>{n.push(e)}),n.reduce((e,n)=>{if(n&&L.test(n)){const r=new URL(n,t);e.push(r.href)}return e},[])})(i,r);o=o.concat(t)}o.length>4&&(o.length=4);let s=await N(o);return s=Array.from(new Set(s)),s.length>2&&(s.length=2),{data:s}}return{error:""}}catch(t){return{error:t}}},B=async t=>{try{const{host:e}=new URL(t),n=await l.a.get(u.x+"/icon/get_icon_urls",{host:e});return 0!==n.code?{error:n}:{data:n.data.map(t=>t.url)}}catch(t){return{error:t}}},U=async t=>{try{const{host:e}=new URL(t);if(!e.includes("."))return{data:[]};const n=await l.a.get(u.x+"/icon/get_logo_list",{host:e,limit:2},{_single:!0,_delay:100});return 0!==n.code?{error:n}:{data:n.data.map(t=>t.src)}}catch(t){return{error:t}}},F=async t=>{var e;let n=u.q?36e5:6e4;t||(n=0);try{if(!f.a.requestFirefoxThrottle("/icon/rt",n,!0))return{error:"request throttle error"};const r=await l.a.post(u.x+"/icon/rt",{version:t||""+Date.now()});return 0===r.code&&f.a.requestFirefoxThrottle("/icon/rt",!0,!0),0===r.code&&r.data?{data:{list:r.data,version:null===(e=r.meta)||void 0===e?void 0:e.version}}:{error:r}}catch(t){return{error:t}}};n(247);var $=n(13);const V=async({email:t,password:e,repeatPassword:n,code:r})=>{const i={email:t.trim(),password:m()(e),repeatPassword:m()(n),code:r.trim()};try{return await l.a.post(u.x+"/user/register",i)}catch(t){return t}},z=async({email:t,password:e,phone_number:n})=>{const r={email:t?t.trim():void 0,phone_number:n?n.trim():void 0,password:m()(e)};try{return await l.a.post(u.x+"/user/login",r)}catch(t){return t}};async function q(t){const{data:e}=await $.l.read(),n=e.userInfo.uid;try{return await l.a.post(u.x+"/user/update_profile/"+n,t,{_auth:!0})}catch(t){throw new Error(t.message)}}async function W(){try{return await l.a.get(u.x+"/user/get_user_profile",{},{_auth:!0,_proxy:!0})}catch(t){return t}}async function H(t){const e=new FormData;e.append("file",t);try{const t=await l.a.post(u.x+"/upload/avatar",e,{_auth:!0,headers:{"Content-Type":"multipart/form-data"}});if(0===(null==t?void 0:t.code))return t;throw new Error(i18n("upload_avatar_failure"))}catch(t){throw new Error(t)}}async function G({originPassword:t,newPassword:e}){const{data:n}=await $.l.read(),r=n.userInfo.uid,{token:i}=n;if(!i)throw new Error(i18n("unknown_mistake"));const o={originPassword:m()(t),newPassword:m()(e)};try{return await l.a.post(u.x+"/user/modify_password/"+r,o,{_auth:!0})}catch(t){return t}}async function Y(t){try{const e=await l.a.post(u.x+"/user/forget_password",t);return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function X({password:t,repeatPassword:e,email:n,code:r,phone_number:i}){const o={password:m()(t),repeatPassword:m()(e),email:n?n.trim():void 0,code:r.trim(),phone_number:i?i.trim():void 0};try{return await l.a.post(u.x+"/user/reset_password",o)}catch(t){return t}}async function K(t){try{const e=await l.a.post(`${u.x}/get_code2?lang=${u.C.lang}`,t,{withCredentials:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function J(t){try{return await l.a.post(`${u.x}/get_register_code2?lang=${u.C.lang}`,t,{withCredentials:!0})}catch(t){return t}}async function Q(t){try{return await l.a.post(u.x+"/inspce_code",t)}catch(t){return t}}async function Z(){try{return await l.a.get(u.x+"/check_token",{},{_auth:!0})}catch(t){return t}}async function tt(){const{data:t}=await $.l.read(),e=t.userInfo.uid;try{return await l.a.post(u.x+"/user/delete/"+e,{},{_auth:!0})}catch(t){return t}}const et=async t=>{try{return await l.a.post(u.x+"/user/login_uid",t,{timeout:1e4})}catch(t){return t}},nt=async t=>{try{return await l.a.post(u.x+"/user/v1_basic_login",t,{timeout:1e4})}catch(t){return t}},rt=async(t,e)=>{try{return await l.a.get(`${u.x}/user/user_hash?uid=${t}&secret=${e}`)}catch(t){return t}},it=async()=>{try{const t=await l.a.get(u.x+"/login_code/mobile_code",{},{_auth:!0});return 0===t.code?{data:t.data}:{error:t}}catch(t){return{error:t}}},ot=async(t,e)=>{try{const n=await l.a.post(u.x+"/login_code/check",{code:t,type:e},{_auth:!0});return 0===n.code?{data:n.data}:{error:n}}catch(t){return{error:t}}};async function st(t){try{const e=await l.a.post(u.x+"/phone/send_code",t,{withCredentials:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function at(t){try{const e=await l.a.post(u.x+"/get_email_bind_code",t,{_auth:!0,withCredentials:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function ct(t){try{const e=await l.a.post(u.x+"/bind/email",t,{_auth:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function ut(t){try{const e=await l.a.post(u.x+"/bind/phone",t,{_auth:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function lt(){try{const t=await l.a.post(u.x+"/unbind/email",{},{_auth:!0});return 0===t.code?{data:t.data}:{error:t}}catch(t){return{error:t}}}async function ht(){try{const t=await l.a.post(u.x+"/unbind/phone",{},{_auth:!0});return 0===t.code?{data:t.data}:{error:t}}catch(t){return{error:t}}}async function pt(t,e){try{const n=await l.a.post(u.x+"/phone/verify_code",{phone_number:t,code:e});return 0===n.code?{data:n.data}:{error:n}}catch(t){return{error:t}}}var dt;async function ft(t,e){try{const n=await l.a.post(`${u.x}/bind/${t}`,{access_code:e},{_auth:!0});return 0===n.code?{data:n.data}:{error:n}}catch(t){return{error:t}}}async function gt(t){try{const e=await l.a.post(`${u.x}/unbind/${t}`,{},{_auth:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function mt(){try{const t=await(await l.a.get(u.x+"/phone/area_list"));return 0===t.code?{data:t.data}:{error:t}}catch(t){return{error:t}}}async function yt(t){try{const e=await l.a.post(u.x+"/user/verify_password",{password:m()(t)},{_auth:!0});return 0===e.code?{data:e.data}:{error:e}}catch(t){return{error:t}}}async function bt(){try{const t=await l.a.get(u.x+"/verify/get_token_img");return 0===t.code?{data:t.data}:{error:t}}catch(t){return{error:t}}}!function(t){t.weibo="weibo",t.facebook="facebook",t.google="google",t.wechat="wechat",t.qq="qq"}(dt||(dt={}));const vt=async()=>{try{const t=await l.a.get(u.x+"/get_concat_info");if(0===t.code)return{data:t.data};throw t}catch(t){return{error:t}}},wt=async(t,e)=>{try{const{response:n,stack:r,config:i}=e;let o=n||i;o&&(o=JSON.stringify(o,(t,e)=>{if(e instanceof FormData){const t={};for(const[n,r]of e)t[n]=r;return t}if(e instanceof File){return{lastModified:e.lastModified,name:e.name,size:e.size,type:e.type}}return e}));let{data:s,error:a}=await $.l.read();if(!a&&s){const t=["mobileuid","avatar","refreshToken","secret","gender","name"];s=JSON.stringify(s,(e,n)=>{if(!t.includes(e))return n})}const c=await l.a.post(u.x+"/collect",{type:t,user:s,stack:r,info:o,env:Object.assign({},u.C)});if(0===c.code)return{data:c.data};throw c}catch(t){return{error:t}}},xt=async t=>{await l.a.get(t,void 0,{_proxy:!0,_proxyIgnoreRes:!0})},_t=t=>{const e=JSON.stringify(t),n=(new TextEncoder).encode(e);return new Blob([n],{type:"application/json;charset=utf-8"})},Ot=t=>{const e={};return t.forEach(t=>{const{platform:n}=t;e[n]?e[n].push(t):e[n]=[t]}),e},Tt=t=>{const{_id:e,_platform:n="pc"}=t;return{id:e,time:f.a.fmtTime(Number(e)),platform:n}},St=async()=>{try{const t=await l.a.get(u.x+"/sync/list",void 0,{_auth:!0,_proxy:!0});if(0!==t.code)return{error:t};const e={};return e.auto=t.meta.auto.map(Tt),e.manual=Ot(t.meta.manual.map(Tt)),{data:e}}catch(t){return{error:t}}},Et=async(t,e,n="all")=>{try{const r=await l.a.get(u.x+"/sync/download_url",{id:t,type:e,keys:n},{_auth:!0});if(0!==r.code)return{error:r};const i=r.data;let o={};const s=await k.a.all(i.map(e=>l.a.get(e.url+"&timestampid="+("latest"===t?Date.now():t),{},{timeout:18e4})));return i.forEach((t,n)=>{const r=t.fileKey;"manual"===e?o=Object.assign(Object.assign({},o),s[n]):"auto"===e&&(o[r]=s[n])}),{data:o}}catch(t){return wt("getSyncDetail",t),{error:t}}},jt=async(t,e="")=>{const n=Object.keys(t).join(",");try{const r=await l.a.get(u.x+"/sync/token",{type:"auto",keys:n},{_auth:!0});if(0!==r.code||!r.data.length)return{error:r};const i=r.data;await k.a.all(i.map(e=>{const{url:n,key:r,token:i,host:o}=e,s=new FormData;return s.append("token",i),s.append("key",n),s.append("file",_t(t[r])),l.a.post(o,s,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4})})),localStorage.setItem("pre-sync-id",i[0].timestamp+"");const o=await l.a.post(u.x+"/sync/done",{type:"auto",websocketkeys:e,keys:n,record_time:i[0].timestamp},{_auth:!0});return 0!==o.code?{error:o}:{data:o.meta.map(Tt)}}catch(t){return wt("autoBackup",t),{error:t}}},kt=async t=>{try{const e=await l.a.get(u.x+"/sync/token",{type:"manual",keys:"data"},{_auth:!0});if(0!==e.code||!e.data.length)return{error:e};const{token:n,url:r,timestamp:i,host:o}=e.data[0],s=new FormData;s.append("token",n),s.append("key",r),s.append("file",_t(t)),await l.a.post(o,s,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4});const a=await l.a.post(u.x+"/sync/done",{type:"manual",keys:"data",record_time:i},{_auth:!0});return 0!==a.code?{error:a}:{data:Ot(a.meta.map(Tt))}}catch(t){return wt("manualBackup",t),{error:t}}},At=t=>"pro"===t?async function(){try{const{data:{userInfo:t}}=await $.l.read(),{uid:e,secret:n}=t,r=await l.a.get(u.w+"/user/recovery-pro",{uid:e,secret:n},{timeout:2e5});if(r.success)return{data:r.data};throw r}catch(t){return wt("getProV1Data",t),{error:t}}}():"basic"===t?async function(){try{const t=await l.a.get(u.x+"/sync/recover_basic",{},{_auth:!0,timeout:2e5});return 0!==t.code?{error:t}:{data:t.data}}catch(t){return wt("getBasicV1Data",t),{error:t}}}():void 0;var Ct=n(315)},function(t,e,n){(function(e){t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){var n=e[s][1][t];return i(n||t)}),u,u.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,n,r){(function(t){"use strict";var e,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(l),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),e=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,e=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;r=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}r=!1}n.exports=function(t){1!==u.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r((function(){var r;try{r=e(n)}catch(e){return o.reject(t,e)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var s=f((function(){e(i,r)}));"error"===s.status&&r(s.value)}function f(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(i);return this.state!==c?h(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=f(p,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},u.reject=function(t){var e=new this(i);return o.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,c=-1,u=new this(i);++c<n;)l(t[c],c);return u;function l(t,i){e.resolve(t).then((function(t){s[i]=t,++a!==n||r||(r=!0,o.resolve(u,s))}),(function(t){r||(r=!0,o.reject(u,t))}))}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s,a=-1,c=new this(i);++a<n;)s=t[a],e.resolve(s).then((function(t){r||(r=!0,o.resolve(c,t))}),(function(t){r||(r=!0,o.reject(c,t))}));return c}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h=void 0,p={},d=Object.prototype.toString;function f(t){return"boolean"==typeof h?s.resolve(h):function(t){return new s((function(e){var n=t.transaction("local-forage-detect-blob-support","readwrite"),r=o([""]);n.objectStore("local-forage-detect-blob-support").put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return h=t}))}function g(t){var e=p[t.name],n={};n.promise=new s((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function m(t){var e=p[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=p[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new s((function(n,r){if(p[t.name]=p[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);g(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=i.open.apply(i,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore("local-forage-detect-blob-support")}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),m(t)}}))}function v(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function _(t){return o([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function O(t){return t&&t.__local_forage_encoded_blob}function T(t){var e=this,n=e._initReady().then((function(){var t=p[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return c(n,t,t),n}function S(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){g(t);for(var e=p[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,v(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(e){throw y(t,e),e}))}(t).then((function(){S(t,e,n,r-1)}))})).catch(n);n(i)}}var E={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=p[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=T);var o=[];function a(){return s.resolve()}for(var c=0;c<i.forages.length;c++){var u=i.forages[c];u!==e&&o.push(u._initReady().catch(a))}var l=i.forages.slice(0);return s.all(o).then((function(){return n.db=i.db,v(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new s((function(e,r){n.ready().then((function(){S(n._dbInfo,"readonly",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;O(r)&&(r=_(r));var i=t(r,n.key,a++);void 0!==i?e(i):n.continue()}else e()},s.onerror=function(){r(s.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new s((function(e,r){n.ready().then((function(){S(n._dbInfo,"readonly",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),O(t)&&(t=_(t)),e(t)},s.onerror=function(){r(s.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var i=new s((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===d.call(e)?f(o.db).then((function(t){return t?e:(n=e,new s((function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):e})).then((function(e){S(r._dbInfo,"readwrite",(function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var c=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=c.error?c.error:c.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,n),i},removeItem:function(t,e){var n=this;t=u(t);var r=new s((function(e,r){n.ready().then((function(){S(n._dbInfo,"readwrite",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,e),r},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){S(e._dbInfo,"readwrite",(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){S(e._dbInfo,"readonly",(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,r=new s((function(e,r){t<0?e(null):n.ready().then((function(){S(n._dbInfo,"readonly",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},c.onerror=function(){r(c.error)}}catch(t){r(t)}}))})).catch(r)}));return a(r,e),r},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){S(e._dbInfo,"readonly",(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;if(t.name){var c=t.name===n.name&&o._dbInfo.db,u=c?s.resolve(o._dbInfo.db):v(t).then((function(e){var n=p[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));r=t.storeName?u.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;g(t);var r=p[t.name],o=r.forages;e.close();for(var a=0;a<o.length;a++){var c=o[a];c._dbInfo.db=null,c._dbInfo.version=n}return new s((function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,m(n._dbInfo)}})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}})):u.then((function(e){g(t);var n=p[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new s((function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<r.length;e++)m(r[e]._dbInfo)})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}))}else r=s.reject("Invalid arguments");return a(r,e),r}},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=/^~~local_forage_type~([^~]+)~/,A="__lfsc__:".length,C=A+"arbf".length,I=Object.prototype.toString;function P(t){var e,n,r,i,o,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),l=new Uint8Array(u);for(e=0;e<a;e+=4)n=j.indexOf(t[e]),r=j.indexOf(t[e+1]),i=j.indexOf(t[e+2]),o=j.indexOf(t[e+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}function D(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=j[n[e]>>2],r+=j[(3&n[e])<<4|n[e+1]>>4],r+=j[(15&n[e+1])<<2|n[e+2]>>6],r+=j[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var R={serialize:function(t,e){var n="";if(t&&(n=I.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===I.call(t.buffer))){var r,i="__lfsc__:";t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===n?i+="si08":"[object Uint8Array]"===n?i+="ui08":"[object Uint8ClampedArray]"===n?i+="uic8":"[object Int16Array]"===n?i+="si16":"[object Uint16Array]"===n?i+="ur16":"[object Int32Array]"===n?i+="si32":"[object Uint32Array]"===n?i+="ui32":"[object Float32Array]"===n?i+="fl32":"[object Float64Array]"===n?i+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(i+D(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+D(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if("__lfsc__:"!==t.substring(0,A))return JSON.parse(t);var e,n=t.substring(C),r=t.substring(A,C);if("blob"===r&&k.test(n)){var i=n.match(k);e=i[1],n=n.substring(i[0].length)}var s=P(n);switch(r){case"arbf":return s;case"blob":return o([s],{type:e});case"si08":return new Int8Array(s);case"ui08":return new Uint8Array(s);case"uic8":return new Uint8ClampedArray(s);case"si16":return new Int16Array(s);case"ur16":return new Uint16Array(s);case"si32":return new Int32Array(s);case"ui32":return new Uint32Array(s);case"fl32":return new Float32Array(s);case"fl64":return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:P,bufferToString:D};function N(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function L(t,e,n,r,i,o){t.executeSql(n,r,i,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?o(t,s):N(t,e,(function(){t.executeSql(n,r,i,o)}),o)}),o):o(t,s)}),o)}function M(t,e,n,r){var i=this;t=u(t);var o=new s((function(o,s){i.ready().then((function(){void 0===e&&(e=null);var a=e,c=i._dbInfo;c.serializer.serialize(e,(function(e,u){u?s(u):c.db.transaction((function(n){L(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(M.apply(i,[t,a,n,r-1]));s(e)}}))}))})).catch(s)}));return a(o,n),o}function B(t){return new s((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var U={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new s((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction((function(i){N(i,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=R,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){L(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var c=o.item(a),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=t(u,c.key,a+1)))return void e(u)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){L(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},setItem:function(t,e,n){return M.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=u(t);var r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){L(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){L(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){L(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){L(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){L(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return a(r=t.name?new s((function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(B(r))})).then((function(t){return new s((function(e,n){t.db.transaction((function(r){function i(t){return new s((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],a=0,c=t.storeNames.length;a<c;a++)o.push(i(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):s.reject("Invalid arguments"),e),r}};function F(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function $(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var V={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=F(t,this._defaultConfig),$()?(this._dbInfo=e,e.serializer=R,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(i),s++)))return u}}}));return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return a(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var i=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new s((function(i,o){var s=r._dbInfo;s.serializer.serialize(e,(function(e,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+t,e),i(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return a(i,n),i},removeItem:function(t,e){var n=this;t=u(t);var r=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(r,e),r},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return a(r,e),r},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r}));return a(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return a(r=t.name?new s((function(e){t.storeName?e(F(t,i._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),e),r}},z=function(t,e){for(var n,r,i=t.length,o=0;o<i;){if((n=t[o])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},q=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},W={},H={},G={INDEXEDDB:E,WEBSQL:U,LOCALSTORAGE:V},Y=[G.INDEXEDDB._driver,G.WEBSQL._driver,G.LOCALSTORAGE._driver],X=["dropInstance"],K=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(X),J={description:"",driver:Y.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Q(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function Z(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(q(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var tt=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),G)if(G.hasOwnProperty(n)){var r=G[n],i=r._driver;this[n]=i,W[i]||this.defineDriver(r)}this._defaultConfig=Z({},J),this._config=Z({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new s((function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=K.concat("_initStorage"),c=0,u=o.length;c<u;c++){var l=o[c];if((!z(X,l)||t[l])&&"function"!=typeof t[l])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,r=X.length;n<r;n++){var i=X[n];t[i]||(t[i]=e(i))}}();var h=function(n){W[r]&&console.info("Redefining LocalForage driver: "+r),W[r]=t,H[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(t){n(t)}}));return c(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=W[t]?s.resolve(W[t]):s.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=s.resolve(R);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;q(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function a(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=u.then((function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=s.reject(c),r._driverSet}()}}(i)}))})).catch((function(){o();var t=new Error("No available storage method found.");return r._driverSet=s.reject(t),r._driverSet})),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!H[t]},t.prototype._extend=function(t){Z(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=K.length;t<e;t++)Q(this,K[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=tt},{3:3}]},{},[4])(4)}).call(this,n(25))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),i=n(21),o=n(11),s=n(39),a=n(40),c=n(48),u=c.get,l=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var c,u=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(c=l(n)).source||(c.source=h.join("string"==typeof e?e:""))),t!==r?(u?!d&&t[e]&&(p=!0):delete t[e],p?t[e]=n:i(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(19);t.exports=r("navigator","userAgent")||""},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(62),i=n(97),o=n(95);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(225),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===i.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var r=n(44);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return y}));var r,i=n(5),o=n.n(i),s=(n(7),n(257),{randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}),a=new Uint8Array(16);function c(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}for(var u=[],l=0;l<256;++l)u.push((l+256).toString(16).slice(1));function h(t,e=0){return(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase()}var p,d=function(t,e,n){if(s.randomUUID&&!e&&!t)return s.randomUUID();var r=(t=t||{}).random||(t.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return h(r)};!function(t){t.BG_PLAY_AUDIO="BG_PLAY_AUDIO",t.BG_GET_LOCAL_STORAGE="BG_GET_LOCAL_STORAGE",t.BG_SET_LOCAL_STORAGE="BG_SET_LOCAL_STORAGE",t.BG_REMOVE_LOCAL_STORAGE="BG_REMOVE_LOCAL_STORAGE"}(p||(p={}));var f=n(0);function g(t,e){return Array.isArray(t)?t.includes(e):"string"==typeof t&&t===e}function m(t){const e={};return t instanceof Error?(e.message=t.message,e.stack=t.stack):e.message=t.message||t||"error",e}const y=new class{constructor(){this.responseTimeout=5e3,this.actionListeners=new Map,this.responseListeners=new Map,f.l&&this.initListener()}async execSendTypeCb(t){const e=this.actionListeners.get(t.action);if(!e)return;const{listenInfo:n,listenCb:r}=e;if(g(n.from,t.from)&&g(t.to,n.to)){f.j&&console.log("--\x3e> ~ execSendTypeCb:",t);const e=await r(t.payload);if(t.needResponse&&t.responseId){const n={type:"ext_response",responseId:t.responseId,response:{responseData:e,responseSuccess:!0}};chrome.runtime.sendMessage(n,()=>{chrome.runtime.lastError&&console.warn("Response sendMessage: ",chrome.runtime.lastError.message)})}return e}}async execResponseTypeCb(t){const e=this.responseListeners.get(t.responseId);if(!e)return;f.j&&console.log("--\x3e> ~ execResponseTypeCb:",t);return await e(t.response)}initListener(){chrome.runtime.onMessage.addListener((t,e,n)=>{try{const{type:e}=t;if("ext_send"===e){const e=t;return this.execSendTypeCb(e).catch(t=>{if(console.warn("onMessage",e,t),e.needResponse&&e.responseId){const n={type:"ext_response",responseId:e.responseId,response:{responseData:m(t),responseSuccess:!1}};chrome.runtime.sendMessage(n,()=>{chrome.runtime.lastError&&console.warn("Response sendMessage: ",chrome.runtime.lastError.message)})}}).finally(()=>{n(null)}),!0}if("ext_response"===e)return this.execResponseTypeCb(t).catch(e=>{console.warn("onMessage",t,e)}).finally(()=>{n(null)}),!0}catch(e){console.warn("onMessage",t,e)}})}_listenResponse(t,e,n){const r=t.action+":"+d(),i=setTimeout(()=>{this.responseListeners.delete(r),n(new Error("response timeout"))},t.responseTimeout||this.responseTimeout);return this.responseListeners.set(r,t=>{const{responseData:o,responseSuccess:s}=t;clearTimeout(i),s?e(o):n(o),this.responseListeners.delete(r)}),r}listen(t,e){this.actionListeners.has(t.action)?console.warn("key already exists: "+t.action):this.actionListeners.set(t.action,{listenInfo:t,listenCb:e})}sendToRuntime(t){return new o.a((e,n)=>{const r=Object.assign(Object.assign({},t),{type:"ext_send"});if(!t.needResponse)return chrome.runtime.sendMessage(r,()=>{chrome.runtime.lastError&&console.warn("sendMessage: ",chrome.runtime.lastError.message)}),void e(null);const i=this._listenResponse(t,e,n);chrome.runtime.sendMessage(Object.assign(Object.assign({},r),{responseId:i}),()=>{chrome.runtime.lastError&&(console.warn("sendMessage: ",chrome.runtime.lastError.message),n(chrome.runtime.lastError))})})}sendToContent(t){return new o.a((e,n)=>{"content_scripts"===t.to?chrome.tabs.query({active:!0,currentWindow:!0},([r])=>{const i=r.id;if(!i)return void n(new Error("No tabId"));const o=Object.assign(Object.assign({},t),{type:"ext_send"});if(!t.needResponse)return chrome.tabs.sendMessage(i,o,()=>{chrome.runtime.lastError&&console.warn("sendMessage: ",chrome.runtime.lastError.message)}),void e(null);const s=this._listenResponse(t,e,n);chrome.tabs.sendMessage(i,Object.assign(Object.assign({},o),{responseId:s}),()=>{chrome.runtime.lastError&&(console.warn("sendMessage: ",chrome.runtime.lastError.message),n(chrome.runtime.lastError))})}):n(new Error("Not to content_scripts"))})}}},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,h,p,d,f,g,m,y,b,v={}.hasOwnProperty;b=n(57),y=b.isObject,m=b.isFunction,g=b.isEmpty,f=b.getValue,u=null,i=null,o=null,s=null,a=null,p=null,d=null,h=null,c=null,r=null,l=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=n(168),i=n(170),o=n(171),s=n(172),a=n(173),p=n(178),d=n(179),h=n(180),c=n(236),r=n(16),l=n(339),n(169),e=n(340))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,n,i,o;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(o="",e=0,n=(i=this.children).length;e<n;e++)(t=i[e]).textContent&&(o+=t.textContent);return o}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,n,r,i,o;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),o=[],n=0,r=(i=this.children).length;n<r;n++)e=i[n],o.push(e.setParent(this));return o},t.prototype.element=function(t,e,n){var r,i,o,s,a,c,u,l,h,p,d;if(c=null,null===e&&null==n&&(e=(h=[{},null])[0],n=h[1]),null==e&&(e={}),e=f(e),y(e)||(n=(p=[e,n])[0],e=p[1]),null!=t&&(t=f(t)),Array.isArray(t))for(o=0,u=t.length;o<u;o++)i=t[o],c=this.element(i);else if(m(t))c=this.element(t.apply());else if(y(t)){for(a in t)if(v.call(t,a))if(d=t[a],m(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))c=this.attribute(a.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&g(d))c=this.dummy();else if(y(d)&&g(d))c=this.element(a);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(s=0,l=d.length;s<l;s++)i=d[s],(r={})[a]=i,c=this.element(r);else y(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?c=this.element(d):(c=this.element(a)).element(d):c=this.element(a,d);else c=this.dummy()}else c=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n):this.dummy();if(null==c)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return c},t.prototype.insertBefore=function(t,e,n){var r,i,o,s,a;if(null!=t?t.type:void 0)return s=e,(o=t).setParent(this),s?(i=children.indexOf(s),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,a),r},t.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=f(t)),e||(e={}),e=f(e),y(e)||(n=(i=[e,n])[0],e=i[1]),r=new u(this,t,e),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(t){var e;return y(t)&&this.element(t),e=new d(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(t){var e;return e=new p(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new c(this)},t.prototype.instruction=function(t,e){var n,r,i,o,s;if(null!=t&&(t=f(t)),null!=e&&(e=f(e)),Array.isArray(t))for(o=0,s=t.length;o<s;o++)n=t[o],this.instruction(n);else if(y(t))for(n in t)v.call(t,n)&&(r=t[n],this.instruction(n,r));else m(e)&&(e=e.apply()),i=new h(this,t,e),this.children.push(i);return this},t.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(t,e,n){var i,o;return i=this.document(),o=new s(i,t,e,n),0===i.children.length?i.children.unshift(o):i.children[0].type===r.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},t.prototype.dtd=function(t,e){var n,i,o,s,c,u,l,h,p;for(n=this.document(),i=new a(n,t,e),o=s=0,u=(h=n.children).length;s<u;o=++s)if(h[o].type===r.DocType)return n.children[o]=i,i;for(o=c=0,l=(p=n.children).length;c<l;o=++c)if(p[o].isRoot)return n.children.splice(o,0,i),i;return n.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===r.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===r.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,n;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var n;return this,this===t?0:this.document()!==t.document()?(n=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?n|=e.Preceding:n|=e.Following,n):this.isAncestor(t)?e.Contains|e.Preceding:this.isDescendant(t)?e.Contains|e.Following:this.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,n,r;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++){if(t===(e=i[n]))return!0;if(e.isDescendant(t))return!0}return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e<n},t.prototype.isFollowing=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e>n},t.prototype.treePosition=function(t){var e,n;return n=0,e=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!e&&r===t)return e=!0})),e?n:-1},t.prototype.foreachTreeNode=function(t,e){var n,r,i,o,s;for(t||(t=this.document()),r=0,i=(o=t.children).length;r<i;r++){if(s=e(n=o[r]))return s;if(s=this.foreachTreeNode(n,e))return s}},t}()}).call(this)},function(t,e,n){var r=n(189),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(r(t),e)}},function(t,e,n){var r=n(17),i=n(109),o=n(66),s=n(38),a=n(67),c=n(11),u=n(68),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(110),i=n(45);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(4),i=n(21);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(41),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(4),i=n(39),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(33),i=n(4);t.exports="process"==r(i.process)},function(t,e,n){"use strict";var r=n(14),i=n(187).f,o=n(191),s=n(104),a=n(138),c=n(30),u=n(36),l=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,h,p,d,f,g,m,y,b=t.target,v=t.global,w=t.stat,x=t.proto,_=v?r:w?r[b]:(r[b]||{}).prototype,O=v?s:s[b]||(s[b]={}),T=O.prototype;for(p in e)n=!o(v?p:b+(w?".":"#")+p,t.forced)&&_&&u(_,p),f=O[p],n&&(g=t.noTargetGet?(y=i(_,p))&&y.value:_[p]),d=n&&g?g:e[p],n&&typeof f==typeof d||(m=t.bind&&n?a(d,r):t.wrap&&n?l(d):x&&"function"==typeof d?a(Function.call,d):d,(t.sham||d&&d.sham||f&&f.sham)&&c(m,"sham",!0),O[p]=m,x&&(u(s,h=b+"Prototype")||c(s,h,{}),s[h][p]=d,t.real&&T&&!T[p]&&c(T,p,d)))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(46),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r,i,o,s=n(111),a=n(4),c=n(12),u=n(21),l=n(11),h=n(41),p=n(79),d=n(55),f=a.WeakMap;if(s||h.state){var g=h.state||(h.state=new f),m=g.get,y=g.has,b=g.set;r=function(t,e){if(y.call(g,t))throw new TypeError("Object already initialized");return e.facade=t,b.call(g,t,e),e},i=function(t){return m.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var v=p("state");d[v]=!0,r=function(t,e){if(l(t,v))throw new TypeError("Object already initialized");return e.facade=t,u(t,v,e),e},i=function(t){return l(t,v)?t[v]:{}},o=function(t){return l(t,v)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return s}));n(20);const r=n(0).s?"serviceworker":"background";let i=!1;"background"===r?i="function"==typeof ServiceWorkerGlobalScope&&"object"==typeof chrome:"serviceworker"===r&&(i="function"==typeof ServiceWorkerGlobalScope);const o={timeout:0,taskId:""},s=()=>(""+Date.now()/1e3/1e5).split(".")[1].substr(0,8)+(""+Math.random()).split(".")[1].substr(0,8).padEnd(8,"0")},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));n(20);const r="store-wallpaper-cache",i="infinity-image-base64",o=navigator.userAgent.toLowerCase().match(/version\/([\d.]+).*safari/),s="format/webp/",a="https://infinitypro-img.infinitynewtab.com/findaphoto/bigLink/default.png",c=()=>`${a}?imageView2/2/w/${screen.width}/${o?"":s}interlace/1`},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n(50);const i=/^http[s]?:\/\//;function o(t){return i.test(t)}const s=(t,e)=>{const n="https://infinityicon.infinitynewtab.com/assets/images/"+t;return!0===e?a(n):!1===e?n:/\.(png|jpg|jpeg)$/.test(t)?a(n):n};function a(t){return o(t)?t.includes("?")?t:r.e?t+"?imageView2/0/q/100":t+"?imageView2/0/format/webp/q/100":t}function c(t){return o(t)?t.includes("?")?t:r.e?t+"?imageMogr2/thumbnail/240x/blur/1x0/quality/100|imageslim":t+"?imageMogr2/thumbnail/240x/format/webp/blur/1x0/quality/100|imageslim":t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(4),i=n(12),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(56),i=n(41);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports={}},function(t,e){t.exports=!1},function(t,e){(function(){var e,n,r,i,o,s,a,c=[].slice,u={}.hasOwnProperty;e=function(){var t,e,n,r,i,s;if(s=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=i.length;t<n;t++)if(null!=(r=i[t]))for(e in r)u.call(r,e)&&(s[e]=r[e]);return s},o=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return o(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},i=function(t){var e;if(r(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},a=function(t){var e,n;return s(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},n=function(t){return o(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=o,t.exports.isObject=s,t.exports.isArray=r,t.exports.isEmpty=i,t.exports.isPlainObject=a,t.exports.getValue=n}).call(this)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r,i,o=n(4),s=n(28),a=o.process,c=a&&a.versions,u=c&&c.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(9),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var r=n(261),i=n(9),o=n(10),s=n(47),a=n(46),c=n(45),u=n(262),l=n(264),h=n(265),p=n(8)("replace"),d=Math.max,f=Math.min,g="$0"==="a".replace(/./,"$0"),m=!!/./[p]&&""===/./[p]("a","$0");r("replace",(function(t,e,n){var r=m?"$":"$0";return[function(t,n){var r=c(this),i=null==t?void 0:t[p];return void 0!==i?i.call(t,r,n):e.call(String(r),t,n)},function(t,i){if("string"==typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var c=n(e,this,t,i);if(c.done)return c.value}var p=o(this),g=String(t),m="function"==typeof i;m||(i=String(i));var y=p.global;if(y){var b=p.unicode;p.lastIndex=0}for(var v=[];;){var w=h(p,g);if(null===w)break;if(v.push(w),!y)break;""===String(w[0])&&(p.lastIndex=u(g,s(p.lastIndex),b))}for(var x,_="",O=0,T=0;T<v.length;T++){w=v[T];for(var S=String(w[0]),E=d(f(a(w.index),g.length),0),j=[],k=1;k<w.length;k++)j.push(void 0===(x=w[k])?x:String(x));var A=w.groups;if(m){var C=[S].concat(j,E,g);void 0!==A&&C.push(A);var I=String(i.apply(void 0,C))}else I=l(S,g,E,j,A,i);E>=O&&(_+=g.slice(O,E)+I,O=E+S.length)}return _+g.slice(O)}]}),!!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!g||m)},function(t,e,n){var r=n(29);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(104),i=n(14),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(12);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(17),i=n(9),o=n(53);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(59),i=n(9);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e){t.exports={}},function(t,e,n){var r=n(27);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r,i,o,s=n(4),a=n(9),c=n(71),u=n(87),l=n(53),h=n(73),p=n(42),d=s.location,f=s.setImmediate,g=s.clearImmediate,m=s.process,y=s.MessageChannel,b=s.Dispatch,v=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},_=function(t){return function(){x(t)}},O=function(t){x(t.data)},T=function(t){s.postMessage(t+"",d.protocol+"//"+d.host)};f&&g||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++v]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(v),v},g=function(t){delete w[t]},p?r=function(t){m.nextTick(_(t))}:b&&b.now?r=function(t){b.now(_(t))}:y&&!h?(o=(i=new y).port2,i.port1.onmessage=O,r=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&d&&"file:"!==d.protocol&&!a(T)?(r=T,s.addEventListener("message",O,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),x(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:f,clear:g}},function(t,e,n){var r=n(28);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(27),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return h}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${r}--\x3e`,o=new RegExp(`${r}|${i}`),s="$lit$";class a{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],a=document.createTreeWalker(e.content,133,null,!1);let u=0,p=-1,d=0;const{strings:f,values:{length:g}}=t;for(;d<g;){const t=a.nextNode();if(null!==t){if(p++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)c(e[t].name,s)&&r++;for(;r-- >0;){const e=f[d],n=h.exec(e)[2],r=n.toLowerCase()+s,i=t.getAttribute(r);t.removeAttribute(r);const a=i.split(o);this.parts.push({type:"attribute",index:p,name:n,strings:a}),d+=a.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),a.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(r)>=0){const r=t.parentNode,i=e.split(o),a=i.length-1;for(let e=0;e<a;e++){let n,o=i[e];if(""===o)n=l();else{const t=h.exec(o);null!==t&&c(t[2],s)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-s.length)+t[3]),n=document.createTextNode(o)}r.insertBefore(n,t),this.parts.push({type:"node",index:++p})}""===i[a]?(r.insertBefore(l(),t),n.push(t)):t.data=i[a],d+=a}}else if(8===t.nodeType)if(t.data===r){const e=t.parentNode;null!==t.previousSibling&&p!==u||(p++,e.insertBefore(l(),t)),u=p,this.parts.push({type:"node",index:p}),null===t.nextSibling?t.data="":(n.push(t),p--),d++}else{let e=-1;for(;-1!==(e=t.data.indexOf(r,e+1));)this.parts.push({type:"node",index:-1}),d++}}else a.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const c=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},u=t=>-1!==t.index,l=()=>document.createComment(""),h=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(4),i=n(37).f,o=n(21),s=n(26),a=n(39),c=n(112),u=n(60);t.exports=function(t,e){var n,l,h,p,d,f=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[f]||a(f,{}):(r[f]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(d=i(n,l))&&d.value:n[l],!u(g?l:f+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;c(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),s(n,l,p,t)}}},function(t,e,n){var r=n(45);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(54),i=n(58),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){"use strict";var r=n(157),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=Object.create(n(108));o.inherits=n(91);var s=n(240),a=n(184);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){"use strict";var r=n(52),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){var r,i,o,s,a;r=n(401),i=n(316).utf8,o=n(402),s=n(316).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=r.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,h=-1732584194,p=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=a._ff,g=a._gg,m=a._hh,y=a._ii;for(d=0;d<n.length;d+=16){var b=u,v=l,w=h,x=p;u=f(u,l,h,p,n[d+0],7,-680876936),p=f(p,u,l,h,n[d+1],12,-389564586),h=f(h,p,u,l,n[d+2],17,606105819),l=f(l,h,p,u,n[d+3],22,-1044525330),u=f(u,l,h,p,n[d+4],7,-176418897),p=f(p,u,l,h,n[d+5],12,1200080426),h=f(h,p,u,l,n[d+6],17,-1473231341),l=f(l,h,p,u,n[d+7],22,-45705983),u=f(u,l,h,p,n[d+8],7,1770035416),p=f(p,u,l,h,n[d+9],12,-1958414417),h=f(h,p,u,l,n[d+10],17,-42063),l=f(l,h,p,u,n[d+11],22,-1990404162),u=f(u,l,h,p,n[d+12],7,1804603682),p=f(p,u,l,h,n[d+13],12,-40341101),h=f(h,p,u,l,n[d+14],17,-1502002290),u=g(u,l=f(l,h,p,u,n[d+15],22,1236535329),h,p,n[d+1],5,-165796510),p=g(p,u,l,h,n[d+6],9,-1069501632),h=g(h,p,u,l,n[d+11],14,643717713),l=g(l,h,p,u,n[d+0],20,-373897302),u=g(u,l,h,p,n[d+5],5,-701558691),p=g(p,u,l,h,n[d+10],9,38016083),h=g(h,p,u,l,n[d+15],14,-660478335),l=g(l,h,p,u,n[d+4],20,-405537848),u=g(u,l,h,p,n[d+9],5,568446438),p=g(p,u,l,h,n[d+14],9,-1019803690),h=g(h,p,u,l,n[d+3],14,-187363961),l=g(l,h,p,u,n[d+8],20,1163531501),u=g(u,l,h,p,n[d+13],5,-1444681467),p=g(p,u,l,h,n[d+2],9,-51403784),h=g(h,p,u,l,n[d+7],14,1735328473),u=m(u,l=g(l,h,p,u,n[d+12],20,-1926607734),h,p,n[d+5],4,-378558),p=m(p,u,l,h,n[d+8],11,-2022574463),h=m(h,p,u,l,n[d+11],16,1839030562),l=m(l,h,p,u,n[d+14],23,-35309556),u=m(u,l,h,p,n[d+1],4,-1530992060),p=m(p,u,l,h,n[d+4],11,1272893353),h=m(h,p,u,l,n[d+7],16,-155497632),l=m(l,h,p,u,n[d+10],23,-1094730640),u=m(u,l,h,p,n[d+13],4,681279174),p=m(p,u,l,h,n[d+0],11,-358537222),h=m(h,p,u,l,n[d+3],16,-722521979),l=m(l,h,p,u,n[d+6],23,76029189),u=m(u,l,h,p,n[d+9],4,-640364487),p=m(p,u,l,h,n[d+12],11,-421815835),h=m(h,p,u,l,n[d+15],16,530742520),u=y(u,l=m(l,h,p,u,n[d+2],23,-995338651),h,p,n[d+0],6,-198630844),p=y(p,u,l,h,n[d+7],10,1126891415),h=y(h,p,u,l,n[d+14],15,-1416354905),l=y(l,h,p,u,n[d+5],21,-57434055),u=y(u,l,h,p,n[d+12],6,1700485571),p=y(p,u,l,h,n[d+3],10,-1894986606),h=y(h,p,u,l,n[d+10],15,-1051523),l=y(l,h,p,u,n[d+1],21,-2054922799),u=y(u,l,h,p,n[d+8],6,1873313359),p=y(p,u,l,h,n[d+15],10,-30611744),h=y(h,p,u,l,n[d+6],15,-1560198380),l=y(l,h,p,u,n[d+13],21,1309151649),u=y(u,l,h,p,n[d+4],6,-145523070),p=y(p,u,l,h,n[d+11],10,-1120210379),h=y(h,p,u,l,n[d+2],15,718787259),l=y(l,h,p,u,n[d+9],21,-343485551),u=u+b>>>0,l=l+v>>>0,h=h+w>>>0,p=p+x>>>0}return r.endian([u,l,h,p])})._ff=function(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._gg=function(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._hh=function(t,e,n,r,i,o,s){var a=t+(e^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._ii=function(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?s.bytesToString(n):r.bytesToHex(n)}},function(t,e,n){var r=n(10),i=n(119);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(5),i=n.n(r),o=n(0);const s={};const a=new class{constructor(){this.request=(t,e)=>((o.n||o.h)&&t.includes("favicon")&&(t=Array.from(new Set(t))).length>1&&t.splice(t.findIndex(t=>"favicon"===t),1),new i.a((n,r)=>{if(o.s)return void r();let i="";if(o.n){if(i=t.join(",")+(null==e?void 0:e.join(",")),s[i])return void r(new Error("repeat"));s[i]=!0}chrome.permissions.request({permissions:t,origins:e},t=>{o.n&&s[i]&&delete s[i],chrome.runtime.lastError?r(chrome.runtime.lastError):t?n(!0):r(new Error("REJECT"))})})),this.has=(t,e)=>((o.n||o.h)&&t.includes("favicon")&&(t=Array.from(new Set(t))).length>1&&t.splice(t.findIndex(t=>"favicon"===t),1),new i.a(n=>{o.s?n(!1):chrome.permissions.contains({permissions:t,origins:e},t=>{n(t)})}))}}},function(t,e,n){var r=n(11),i=n(38),o=n(115).indexOf,s=n(55);t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(19);t.exports=r("document","documentElement")},function(t,e,n){var r=n(4);t.exports=r.Promise},function(t,e,n){var r=n(10),i=n(27),o=n(8)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r=n(10),i=n(12),o=n(74);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";n.d(e,"h",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return m})),n.d(e,"d",(function(){return b}));var r=n(223),i=n(160),o=n(134),s=n(306),a=n(251),c=n(75);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const u=t=>null===t||!("object"==typeof t||"function"==typeof t),l=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class h{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new p(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!l(t))return t}let r="";for(let i=0;i<e;i++){r+=t[i];const e=n[i];if(void 0!==e){const t=e.value;if(u(t)||!l(t))r+="string"==typeof t?t:String(t);else for(const e of t)r+="string"==typeof e?e:String(e)}}return r+=t[e],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class p{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===o.a||u(t)&&t===this.value||(this.value=t,Object(r.b)(t)||(this.committer.dirty=!0))}commit(){for(;Object(r.b)(this.value);){const t=this.value;this.value=o.a,t(this)}this.value!==o.a&&this.committer.commit()}}class d{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(Object(c.c)()),this.endNode=t.appendChild(Object(c.c)())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=Object(c.c)()),t.__insert(this.endNode=Object(c.c)())}insertAfterPart(t){t.__insert(this.startNode=Object(c.c)()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;Object(r.b)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=o.a,t(this)}const t=this.__pendingValue;t!==o.a&&(u(t)?t!==this.value&&this.__commitText(t):t instanceof a.b?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):l(t)?this.__commitIterable(t):t===o.b?(this.value=o.b,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof s.a&&this.value.template===e)this.value.update(t.values);else{const n=new s.a(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)n=e[r],void 0===n&&(n=new d(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){Object(i.b)(this.startNode.parentNode,t.nextSibling,this.endNode)}}class f{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;Object(r.b)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=o.a,t(this)}if(this.__pendingValue===o.a)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=o.a}}class g extends h{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new m(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class m extends p{}let y=!1;(()=>{try{const t={get capture(){return y=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class b{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;Object(r.b)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=o.a,t(this)}if(this.__pendingValue===o.a)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=v(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=o.a}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const v=t=>t&&(y?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)},function(t,e,n){var r=n(126),i=n(33),o=n(8)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,h=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(269),i=n(103);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(62),i=n(190),o=n(32),s=n(188),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(32),i=n(278),o=n(158),s=n(138),a=n(280),c=n(281),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,h,p,d,f,g,m,y=n&&n.that,b=!(!n||!n.AS_ENTRIES),v=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=s(e,y,1+b+w),_=function(t){return l&&c(l),new u(!0,t)},O=function(t){return b?(r(t),w?x(t[0],t[1],_):x(t[0],t[1])):w?x(t,_):x(t)};if(v)l=t;else{if("function"!=typeof(h=a(t)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,d=o(t.length);d>p;p++)if((f=O(t[p]))&&f instanceof u)return f;return new u(!1)}l=h.call(t)}for(g=l.next;!(m=g.call(l)).done;){try{f=O(m.value)}catch(t){throw c(l),t}if("object"==typeof f&&f&&f instanceof u)return f}return new u(!1)}},function(t,e,n){var r=n(30);t.exports=function(t,e,n,i){i&&i.enumerable?t[e]=n:r(t,e,n)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(86),i=n(76).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(19),i=n(22),o=n(8),s=n(17),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports={}},function(t,e,n){var r,i,o,s=n(292),a=n(14),c=n(44),u=n(30),l=n(36),h=n(141),p=n(140),d=n(144),f=a.WeakMap;if(s||h.state){var g=h.state||(h.state=new f),m=g.get,y=g.has,b=g.set;r=function(t,e){if(y.call(g,t))throw new TypeError("Object already initialized");return e.facade=t,b.call(g,t,e),e},i=function(t){return m.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var v=p("state");d[v]=!0,r=function(t,e){if(l(t,v))throw new TypeError("Object already initialized");return e.facade=t,u(t,v,e),e},i=function(t){return l(t,v)?t[v]:{}},o=function(t){return l(t,v)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"iMessage",(function(){return h})),n.d(e,"message",(function(){return p}));var r=n(395),i=n(1),o=n(381),s=n(432),a=n.n(s),c=n(433),u=n.n(c),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let h=class extends i.a{constructor(){super(...arguments),this.content="",this.type="error"}render(){const t={"infinity-message":!0,"position-top":"top"===this.type};return i.e`
      <div class=${Object(o.a)(t)}>
        ${this.renderImg()}
        <span>${this.content}</span>
      </div>
    `}renderImg(){return"error"===this.type?i.e`<img .src=${a.a} />`:"warn"===this.type?i.e`<img .src=${u.a} />`:void 0}};h.styles=i.b`
    :host {
      box-sizing: border-box;
      display: flex;
      position: fixed;
      min-width: 330px;
      padding: 0 20px;
      height: 60px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 1);
      box-shadow: 0px 6px 48px 0px rgba(0, 0, 0, 0.24);
      border-radius: 6px;
      z-index: 99999999999;
    }
    :host([type='top']) {
      width: 100%;
      margin: 0;
      left: 0;
      top: var(--top-bar-height);
      height: auto;
      padding: 5px;
      border-radius: 0;
      background: rgba(95, 92, 92, 0.6);
      color: #fff;
      transform: none;
      transition: all 300ms;
      opacity: 0;
      pointer-events: none;
    }
    :host(.anim[type='top']) {
      opacity: 1;
    }

    .infinity-message {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
    }
    img {
      width: 20px;
      height: 20px;
      margin-right: 8px;
    }
  `,l([Object(i.g)({type:String})],h.prototype,"content",void 0),l([Object(i.g)({type:String})],h.prototype,"type",void 0),h=l([Object(i.c)("i-message")],h);const p={newInstance:function(t,e=2,n,r){let i;if(document.querySelector("i-message"))return void clearInterval(i);const o=document.createElement("i-message");return o.setAttribute("content",t),o.setAttribute("type",n),document.body.appendChild(o),0!==e&&(i=setTimeout(()=>{document.body.removeChild(o),r&&r()},1e3*e)),o},error:function(t,e,n){r.default.error(t,e),n&&setTimeout(n,e)},success:function(t,e,n){r.default.success(t,e),n&&setTimeout(n,e)},top:function(t,e,n){const r=this.newInstance(t,e,"top",n);setTimeout(()=>null==r?void 0:r.classList.add("anim"))},warn:function(t,e,n){this.newInstance(t,e,"warn",n)}}},function(t,e,n){t.exports=n(317)},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(153).Buffer)},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(9),i=n(33),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(4),i=n(40),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(11),i=n(113),o=n(37),s=n(22);t.exports=function(t,e){for(var n=i(e),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||a(t,l,c(e,l))}}},function(t,e,n){var r=n(19),i=n(101),o=n(117),s=n(10);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(4);t.exports=r},function(t,e,n){var r=n(38),i=n(47),o=n(116),s=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(46),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(26);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(12);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(22).f,i=n(11),o=n(8)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(69);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(10),i=n(124),o=n(47),s=n(71),a=n(125),c=n(127),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,h,p,d,f,g,m,y=n&&n.that,b=!(!n||!n.AS_ENTRIES),v=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=s(e,y,1+b+w),_=function(t){return l&&c(l),new u(!0,t)},O=function(t){return b?(r(t),w?x(t[0],t[1],_):x(t[0],t[1])):w?x(t,_):x(t)};if(v)l=t;else{if("function"!=typeof(h=a(t)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,d=o(t.length);d>p;p++)if((f=O(t[p]))&&f instanceof u)return f;return new u(!1)}l=h.call(t)}for(g=l.next;!(m=g.call(l)).done;){try{f=O(m.value)}catch(t){throw c(l),t}if("object"==typeof f&&f&&f instanceof u)return f}return new u(!1)}},function(t,e,n){var r=n(8),i=n(70),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(93),i=n(70),o=n(8)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r={};r[n(8)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(10);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e,n){var r=n(8)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r,i,o,s,a,c,u,l,h=n(4),p=n(37).f,d=n(72).set,f=n(73),g=n(130),m=n(42),y=h.MutationObserver||h.WebKitMutationObserver,b=h.document,v=h.process,w=h.Promise,x=p(h,"queueMicrotask"),_=x&&x.value;_||(r=function(){var t,e;for(m&&(t=v.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},f||m||g||!y||!b?w&&w.resolve?((u=w.resolve(void 0)).constructor=w,l=u.then,s=function(){l.call(u,r)}):s=m?function(){v.nextTick(r)}:function(){d.call(h,r)}:(a=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(28);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(4);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r={},i={}},function(t,e,n){"use strict";n.d(e,"e",(function(){return s.a})),n.d(e,"g",(function(){return a.c})),n.d(e,"a",(function(){return r.b})),n.d(e,"b",(function(){return r.e})),n.d(e,"c",(function(){return r.g})),n.d(e,"d",(function(){return o.b})),n.d(e,"f",(function(){return c}));var r=n(92);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const i=new class{handleAttributeExpressions(t,e,n,i){const o=e[0];if("."===o){return new r.f(t,e.slice(1),n).parts}if("@"===o)return[new r.d(t,e.slice(1),i.eventContext)];if("?"===o)return[new r.c(t,e.slice(1),n)];return new r.a(t,e,n).parts}handleTextExpression(t){return new r.e(t)}};var o=n(251),s=n(223),a=n(160);n(134),n(222),n(221),n(306),n(75);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const c=(t,...e)=>new o.b(t,e,"html",i)},function(t,e,n){"use strict";var r,i,o=n(215),s=n(216),a=n(54),c=n(258),u=n(48).get,l=n(217),h=n(218),p=RegExp.prototype.exec,d=a("native-string-replace",String.prototype.replace),f=p,g=(r=/a/,i=/b*/g,p.call(r,"a"),p.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),m=s.UNSUPPORTED_Y||s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(g||y||m||l||h)&&(f=function(t){var e,n,r,i,s,a,l,h=this,b=u(h),v=b.raw;if(v)return v.lastIndex=h.lastIndex,e=f.call(v,t),h.lastIndex=v.lastIndex,e;var w=b.groups,x=m&&h.sticky,_=o.call(h),O=h.source,T=0,S=t;if(x&&(-1===(_=_.replace("y","")).indexOf("g")&&(_+="g"),S=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(O="(?: "+O+")",S=" "+S,T++),n=new RegExp("^(?:"+O+")",_)),y&&(n=new RegExp("^"+O+"$(?!\\s)",_)),g&&(r=h.lastIndex),i=p.call(x?n:h,S),x?i?(i.input=i.input.slice(T),i[0]=i[0].slice(T),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:g&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),y&&i&&i.length>1&&d.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&w)for(i.groups=a=c(null),s=0;s<w.length;s++)a[(l=w[s])[0]]=i[l[1]];return i}),t.exports=f},function(t,e,n){var r=n(14),i=n(44),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(52);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(36),i=n(189),o=n(140),s=n(271),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(192),i=n(193),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(14),i=n(270),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(32),i=n(272);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports={}},function(t,e,n){var r=n(63);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(147),i=n(84),o=n(18)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r={};r[n(18)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(147),i=n(97).f,o=n(30),s=n(36),a=n(285),c=n(18)("toStringTag");t.exports=function(t,e,n,u){if(t){var l=n?t:t.prototype;s(l,c)||i(l,c,{configurable:!0,value:e}),u&&!r&&o(l,"toString",a)}}},function(t,e,n){var r=n(84),i=n(14);t.exports="process"==r(i.process)},function(t,e,n){var r=n(310),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n(162);const i={notice:{gmail:!1,gmailVoice:!1,gmailNumber:!1,todoNumber:!0},link:{icon:!!n(0).s,search:!0,bookmark:!1,history:!1},view:{topBookmark:!1,topUseful:!1,windmill:!0,pagin:!1,hideInfinityAI:!1,isShowHomepageBtn:!0,isHideIcp:!1,scaleSide:1,scaleMain:1},layout:{row:3,col:6,rowGap:.4,colGap:.3,custom:!0,customItem:[3,6]},animation:{easing:"linear"},icon:{miniMode:!1,shadow:!1,startAnimation:!1,opacity:1,radius:.5,scale:.6,isHideIconName:!1},search:{hide:!1,searchSuggest:!0,keepSearchInput:!1,hideCategory:!1,hideButton:!0,shadow:!0,scale:.75,radius:r.j,opacity:1},font:{shadow:!0,size:13,color:"rgb(221, 221, 221)"}},o=function(t,e){let n=null;switch(t+"*"+e){case"2*4":case"2*5":n={iconScale:.5,colGap:.3,rowGap:.2,searchScale:.82};break;case"2*6":n={iconScale:.6,colGap:.3,rowGap:.3,searchScale:.9};break;case"2*7":n={iconScale:.7,colGap:.3,rowGap:.3,searchScale:.9};break;case"3*3":n={iconScale:.7,colGap:.24,rowGap:.2,searchScale:.82}}return n}},,function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(345),i=n(346),o=n(239);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return j(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,p=0;p<c;p++)if(u(t,o+p)!==u(e,p)){h=!1;break}if(h)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return V(F(e,t.length-n),t,n,r)}function x(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return x(t,e,n,r)}function O(t,e,n,r){return V($(e),t,n,r)}function T(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n),h=0;h<a;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function C(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,o){return o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:F(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(25))},function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n(35),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},function(t,e){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&y(t,"error",e,n)}(t,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return f(this,t,!0)},a.prototype.rawListeners=function(t){return f(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(94))},function(t,e,n){var r=n(143),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(32),i=n(52),o=n(18)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(t,e,n=null,r=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,r),e=n}},o=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}}},function(t,e,n){"use strict";n.r(e),n.d(e,"slave",(function(){return a}));n(7);var r=n(5),i=n.n(r),o=n(314),s=n(49);const a=new class{constructor(){if(this.channel=null,this.initResolve=[],this.initReject=[],this.messageScheduler=new o.a,this.initChannel=()=>{"serviceworker"===s.b?this.initServiceworker():"background"===s.b&&this.initBackground()},this.awaitChannel=()=>new i.a(async(t,e)=>{"serviceworker"===s.b?this.channel?(await this.channel.active,await this.channel.controlling,t(null)):(this.initResolve.push(t),this.initReject.push(e)):"background"===s.b&&t(null)}),this.initServiceworker=async()=>{try{const{createWorkBox:t}=await n.e(10).then(n.bind(null,602)),e=await t();if(!e)return;e.addEventListener("message",t=>{const{type:e,payload:n={}}=t.data;"master:bordcast-message"===e&&this.messageScheduler.execTask(n.type,n.payload)}),await e.active,await e.controlling,this.channel=e,this.initResolve.forEach(t=>{t()}),this.channel.postTask=this.channel.messageSW}catch(t){console.log("slave初始化错误：",t),this.initReject.forEach(t=>{t()})}},this.initBackground=()=>{this.channel={postTask:t=>new i.a((e,n)=>{chrome.runtime.sendMessage(t,t=>{chrome.runtime.lastError&&n(chrome.runtime.lastError),e(t)})})},chrome.runtime.onMessage.addListener(({type:t,payload:e,ignoreId:n})=>{"master:bordcast-message"===t?chrome.tabs.getCurrent(t=>{n!==t.id&&this.messageScheduler.execTask(e.type,e.payload)}):"slave:bordcast-message"===t&&this.messageScheduler.execTask(e.data.type,e.data.payload)})},s.a)throw new Error("it's not page");this.initChannel()}postTask(t,e,n){return new i.a(async(r,i)=>{let o=!1;await this.awaitChannel();const a=Object.assign(Object.assign(Object.assign({},s.d),{taskId:Object(s.c)()}),n);a.timeout&&setTimeout(()=>{o||r({error:"timeout"})},a.timeout);try{const n=await this.channel.postTask({type:t,payload:Object.assign({data:e},a)});o=!0,r(n)}catch(t){r({error:t})}})}listenMessage(t,e){this.messageScheduler.listenTask(t,e)}sendMessage(t,e=""){this.postTask("slave:bordcast-message",{type:t,payload:e})}}},function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"g",(function(){return d}));var r=n(0);const i=.5;function o(t){return`https://chrome.google.com/webstore/detail/infinity-new-tab-producti/${t}/reviews?utm_source=infinity-rate`}const s="https://addons.mozilla.org/"+r.C.lang+"/firefox/addon/infinity-new-tab-firefox/";function a(t){return"https://microsoftedge.microsoft.com/addons/detail/infinity-new-tab-produc/"+t}const c="privacy_data_uninstall_title",u="privacy_data_uninstall_confirm",l=!0,h=()=>{},p=()=>{r.C.isZh?chrome.runtime.setUninstallURL("https://hello.wetab.link/"):chrome.runtime.setUninstallURL("https://uninstall.infinitynewtab.com/?from="+r.c)},d="https://infinityicon.infinitynewtab.com/assets/logo-basic.png"},,function(t,e,n){"use strict";n.r(e),n.d(e,"imgConfig",(function(){return c})),n.d(e,"getRandomWallpaper",(function(){return u})),n.d(e,"getBingWallpaper",(function(){return l})),n.d(e,"getWallpapers",(function(){return h})),n.d(e,"getWallpaperListByType",(function(){return p})),n.d(e,"likeWallpaper",(function(){return d})),n.d(e,"collectionWallpaper",(function(){return f})),n.d(e,"addCustomColor",(function(){return g})),n.d(e,"setCustomColorItems",(function(){return m})),n.d(e,"getCustomColor",(function(){return y})),n.d(e,"removeCustomColor",(function(){return b})),n.d(e,"uploadWallpaper",(function(){return v})),n.d(e,"getWallpapersById",(function(){return w})),n.d(e,"createWallpaperLibrary",(function(){return x})),n.d(e,"getUserWallpaperLibrary",(function(){return _})),n.d(e,"hasWallpaperLibrary",(function(){return O})),n.d(e,"getLikedWallpaper",(function(){return T})),n.d(e,"getCollectionWallpaper",(function(){return S})),n.d(e,"getWallpaperLibraryItems",(function(){return E})),n.d(e,"getUserWallpaperLibraryItemsById",(function(){return j})),n.d(e,"removeWallpaperLibraryItem",(function(){return k})),n.d(e,"removeWallpaperLibrary",(function(){return A})),n.d(e,"addImagesToLibrary",(function(){return C})),n.d(e,"renameWallpaperLibrary",(function(){return I})),n.d(e,"getNextWallpaper",(function(){return P})),n.d(e,"convertURL",(function(){return D}));n(7);var r=n(0),i=n(3),o=n(50);const s=Math.floor(screen.width*window.devicePixelRatio),a=Math.floor(203*window.devicePixelRatio),c={smallWidth:a>3840?3840:a,normalWidth:s>3840?3840:s,format:o.e?"":o.f},u=async()=>{try{const t=await i.a.get(r.w+"/random-wallpaper",{_:(new Date).getTime()});if(!t.success)throw t;const{src:e,_id:n,source:o}=t.data[0],{url:s,rawUrl:a}=D(e.rawSrc);return{data:{url:s,rawUrl:a,id:n,source:o}}}catch(t){return{error:t}}},l=async()=>{try{const t=await i.a.get(r.x+"/get_bing_wallpaper",null,{_single:"getBingWallpaper"});if(t.error)throw t.error;const{data:e}=t,{content:n,url:o,rawUrl:s}=D(e.src.rawSrc);return e.thumbnail=n,e.url=o,e.rawUrl=s,t}catch(t){return{error:t}}},h=async t=>{const{source:e}=t;t.source="all"===e?"":e;try{const e=await i.a.get(r.w+"/get-wallpaper",t,{_single:"getWallpapers"}),{data:n}=e;return n.forEach(t=>{const{content:e,url:n,rawUrl:r}=D(t.src.rawSrc);t.thumbnail=e,t.url=n,t.rawUrl=r}),{result:e}}catch(t){return{error:t}}};async function p(t){"1"===t.order?t.order="like":"2"===t.order&&(t.order="_id");try{const e=await i.a.get(r.x+"/get_wallpaper_list",Object.assign({client:"pc"},t),{_single:"getWallpaperListByType"});if(0!==e.code)throw new Error(e.message);const{data:n}=e;return n.list.forEach(t=>{const{content:e,url:n,rawUrl:r}=D(t.src.rawSrc);t.thumbnail=e,t.url=n,t.rawUrl=r}),n.data=n.list,n.success=1,{result:n}}catch(t){return{error:t}}}const d=async(t,e)=>{try{const n=await i.a.post(r.x+"/like_wallpaper",{id:t,state:e},{_auth:!0});if(0!==n.code)throw n;return n}catch(t){return{error:t}}},f=async(t,e)=>{try{const n=await i.a.post(r.x+"/collection_wallpaper",{id:t,state:e},{_auth:!0});if(0!==n.code)throw n;return n}catch(t){return{error:t}}},g=async t=>{try{const e=await i.a.post(r.x+"/add_custom_color",Object.assign(Object.assign({},t),{newVer:!0}),{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},m=async t=>{try{const e=await i.a.post(r.x+"/set_custom_color_items",t,{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},y=async()=>{try{const t=await i.a.get(r.x+"/get_custom_color",null,{_auth:!0});if(0!==t.code)throw t;return t}catch(t){return{error:t}}},b=async t=>{try{const e=await i.a.post(r.x+"/remove_custom_color",{id:t,newVer:!0},{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},v=async t=>{try{const e=await i.a.post(r.x+"/upload_wallpaper",t,{headers:{"Content-Type":"multipart/form-data"}});if(0!==e.code)throw e;return{data:e.data}}catch(t){return{error:t}}},w=async t=>{try{const e=await i.a.get(r.x+"/get_wallpapers_by_id",{id:t});if(0!==e.code)throw e;const{data:n}=e;return n.forEach(t=>{const{content:e,url:n,rawUrl:r}=D(t.src.rawSrc);t.thumbnail=e,t.url=n,t.rawUrl=r}),{data:n}}catch(t){return{error:t}}},x=async({libraryName:t,libraryId:e,wallpapers:n})=>{try{return await i.a.post(r.x+"/create_wallpaper_library",{libraryName:t,libraryId:e,wallpapers:n},{_auth:!0})}catch(t){return{error:t}}},_=async()=>await i.a.get(r.x+"/get_user_wallpaper_library",null,{_auth:!0}),O=async t=>{try{return await i.a.get(r.x+"/has_wallpaper_library",{libraryId:t},{_auth:!0,_proxy:!0})}catch(t){return{error:t}}},T=async()=>{try{return await i.a.get(r.x+"/get_liked_wallpaper",null,{_auth:!0})}catch(t){return{error:t}}},S=async()=>{try{return await i.a.get(r.x+"/get_collection_wallpaper",null,{_auth:!0})}catch(t){return{error:t}}},E=async t=>{const e=await i.a.get(r.x+"/get_user_wallpaper_library_items",{libraryId:t});e.data.map(t=>{const{content:e,url:n,rawUrl:r}=D(t.url);return t.content=e,t.url=n,t.rawUrl=r,t});const{data:n}=e;return e.data={items:n,count:n.length},e.data},j=async t=>{try{const e=await i.a.get(r.x+"/get_user_wallpaper_library_items_by_id",{libraryItemsId:t}),{data:n}=e;return e.data={items:n,count:n.length},e.data}catch(t){return{error:t}}},k=async(t,e,n)=>{try{return await i.a.post(r.x+"/remove_wallpaper_library_item",{libraryId:t,libraryItemId:e,ext:n},{_auth:!0})}catch(t){return{error:t}}},A=async t=>{try{return await i.a.post(r.x+"/remove_wallpaper_library",{libraryId:t},{_auth:!0})}catch(t){return{error:t}}},C=async(t,e)=>{try{return await i.a.post(r.x+"/add_images_to_library",{libraryId:t,wallpapers:e},{_auth:!0})}catch(t){return{error:t}}},I=async(t,e)=>{try{return await i.a.post(r.x+"/rename_wallpaper_library",{libraryId:t,libraryName:e},{_auth:!0})}catch(t){return{error:t}}},P=async(t,e,n="library")=>{const o={source:t,type:n};e&&(o._id=e);const s=await i.a.get(r.x+"/get_next_wallpaper",o,{_single:"getNextWallpaper"});if(0!==s.code)throw new Error;const{data:a}=s,{content:c,url:u,rawUrl:l}=D(a.rawUrl);return a.thumbnail=c,a.url=u,a.rawUrl=l,s},D=t=>({rawUrl:t,url:`${t}?imageView2/2/w/${c.normalWidth}/${c.format}interlace/1`,content:`${t}?imageView2/2/w/${c.smallWidth}/${c.format}interlace/1`})},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u}));var r=n(214),i=n.n(r),o=(n(7),n(34));const s=async t=>{try{const e="AUDIO_PLAYBACK";await h("off_screen/index.html",e),o.b.sendToRuntime({action:o.a.BG_PLAY_AUDIO,from:"background",to:"offscreen",payload:{audioUrl:chrome.runtime.getURL(t)}})}catch(t){console.error(t)}},a=async t=>{try{const e="LOCAL_STORAGE";await h("off_screen/index.html",e);return await o.b.sendToRuntime({action:o.a.BG_GET_LOCAL_STORAGE,payload:{key:t},from:"background",to:"offscreen",needResponse:!0})}catch(t){console.error(t)}},c=async t=>{try{const e="LOCAL_STORAGE";await h("off_screen/index.html",e),await o.b.sendToRuntime({action:o.a.BG_REMOVE_LOCAL_STORAGE,payload:{key:t},from:"background",to:"offscreen",needResponse:!0})}catch(t){console.error(t)}},u=async(t,e)=>{try{const n="LOCAL_STORAGE";await h("off_screen/index.html",n),await o.b.sendToRuntime({action:o.a.BG_SET_LOCAL_STORAGE,payload:{key:t,valueStr:e},from:"background",to:"offscreen",needResponse:!0})}catch(t){console.error(t)}};let l;async function h(t,e){try{if(await async function(t){const e=chrome.runtime.getURL(t);if("getContexts"in chrome.runtime){const t=await chrome.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"],documentUrls:[e]});return Boolean(t.length)}{var n;const t=await i()(n=self.clients).call(n);return await t.some(t=>t.url.includes(chrome.runtime.id))}}(t))return;l?await l:(l=chrome.offscreen.createDocument({url:t,reasons:[e],justification:"Specifies that the offscreen document is responsible for playing audio."}),await l,l=null)}catch(t){}}},,function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l={}.hasOwnProperty;u=n(57),c=u.isObject,a=u.isFunction,s=u.getValue,o=n(35),e=n(16),r=n(235),i=n(169),t.exports=function(t){function n(t,r,i){var o,s,a,c;if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(s=0,a=(c=t.children).length;s<a;s++)if((o=c[s]).type===e.DocType){o.name=this.name;break}}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var t,e,n,r;for(e in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)l.call(r,e)&&(t=r[e],n.attribs[e]=t.clone());return n.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=n,n.children.push(e)})),n},n.prototype.attribute=function(t,e){var n,i;if(null!=t&&(t=s(t)),c(t))for(n in t)l.call(t,n)&&(i=t[n],this.attribute(n,i));else a(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new r(this,t,""):null!=e&&(this.attribs[t]=new r(this,t,e));return this},n.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=s(t),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attribs[e];else delete this.attribs[t];return this},n.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},n.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},n.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},n.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},n.prototype.setIdAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(t){var e,r,i;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=r=0,i=this.attribs.length-1;0<=i?r<=i:r>=i;e=0<=i?++r:--r)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},n}(o)}).call(this)},function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(16),r=n(154),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(16),r=n(154),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(57).isObject,r=n(35),e=n(16),t.exports=function(t){function n(t,r,o,s){var a;n.__super__.constructor.call(this,t),i(r)&&(r=(a=r).version,o=a.encoding,s=a.standalone),r||(r="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(r),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l={}.hasOwnProperty;u=n(57).isObject,c=n(35),e=n(16),r=n(174),o=n(175),i=n(176),s=n(177),a=n(169),t.exports=function(t){function n(t,r,i){var o,s,a,c,l,h;if(n.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(s=0,a=(c=t.children).length;s<a;s++)if((o=c[s]).type===e.Element){this.name=o.name;break}this.documentObject=t,u(r)&&(r=(l=r).pubID,i=l.sysID),null==i&&(i=(h=[r,i])[0],r=h[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"entities",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type!==e.EntityDeclaration||t.pe||(i[t.name]=t);return new a(i)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type===e.NotationDeclaration&&(i[t.name]=t);return new a(i)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},n.prototype.attList=function(t,e,n,i,o){var s;return s=new r(this,t,e,n,i,o),this.children.push(s),this},n.prototype.entity=function(t,e){var n;return n=new o(this,!1,t,e),this.children.push(n),this},n.prototype.pEntity=function(t,e){var n;return n=new o(this,!0,t,e),this.children.push(n),this},n.prototype.notation=function(t,e){var n;return n=new s(this,t,e),this.children.push(n),this},n.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},n.prototype.ele=function(t,e){return this.element(t,e)},n.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},n.prototype.ent=function(t,e){return this.entity(t,e)},n.prototype.pent=function(t,e){return this.pEntity(t,e)},n.prototype.not=function(t,e){return this.notation(t,e)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&(t.name===this.name&&(t.publicId===this.publicId&&t.systemId===this.systemId))},n}(c)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(35),e=n(16),t.exports=function(t){function n(t,r,i,o,s,a){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(57).isObject,r=n(35),e=n(16),t.exports=function(t){function n(t,r,o,s){if(n.__super__.constructor.call(this,t),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!r,this.name=this.stringify.name(o),this.type=e.EntityDeclaration,i(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(35),e=n(16),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(35),e=n(16),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=e.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(16),r=n(35),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(16),r=n(154),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var t,e,n;for(n="",e=this.previousSibling;e;)n=e.data+n,e=e.previousSibling;for(n+=this.data,t=this.nextSibling;t;)n+=t.data,t=t.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},n.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(16),r=n(154),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},n}(r)}).call(this)},function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n(238),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.document=function(t,e){var n,r,i,o,s;for(e=this.filterOptions(e),o="",r=0,i=(s=t.children).length;r<i;r++)n=s[r],o+=this.writeChildNode(n,e,0);return e.pretty&&o.slice(-e.newline.length)===e.newline&&(o=o.slice(0,-e.newline.length)),o},e}(e)}).call(this)},function(t,e,n){(e=t.exports=n(240)).Stream=e,e.Readable=e,e.Writable=n(184),e.Duplex=n(80),e.Transform=n(244),e.PassThrough=n(354)},function(t,e,n){var r=n(153),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,r,i){var o=n(157);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;b.WritableState=y;var u=Object.create(n(108));u.inherits=n(91);var l={deprecate:n(352)},h=n(241),p=n(183).Buffer,d=i.Uint8Array||function(){};var f,g=n(242);function m(){}function y(t,e){a=a||n(80),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),T(t,e))}(t,n,r,e,i);else{var s=_(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(t,n),r?c(w,t,n,s,i):w(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(t){if(a=a||n(80),!(f.call(b,this)||this instanceof a))return new b(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),T(t,e)}function x(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,v(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(v(t,e,!1,e.objectMode?1:u.length,u,l,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),T(t,e)}))}function T(t,e){var n=_(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(O,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(b,h),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===b&&(t&&t._writableState instanceof y)}})):f=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=t,p.isBuffer(r)||r instanceof d);return a&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return c}(this,i,a,t,e,n)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||x(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,T(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(94),n(243).setImmediate,n(25))},function(t,e,n){"use strict";var r=n(353).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var r=n(43),i=n(139),o=n(142),s=n(194),a=n(30),c=n(95),u=n(98),l=function(t,e){var n=this;if(!(n instanceof l))return new l(t,e);o&&(n=o(new Error(void 0),i(n))),void 0!==e&&a(n,"message",String(e));var r=[];return u(t,r.push,{that:r}),a(n,"errors",r),n};l.prototype=s(Error.prototype,{constructor:c(5,l),message:c(5,""),name:c(5,"AggregateError")}),r({global:!0},{AggregateError:l})},function(t,e,n){var r=n(62),i=n(268),o=n(95),s=n(96),a=n(188),c=n(36),u=n(190),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(44);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(103);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(62),i=n(29),o=n(137);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(29),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(65),i=n(141);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r,i=n(32),o=n(273),s=n(195),a=n(144),c=n(196),u=n(137),l=n(140),h=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=i(t),n=new p,p.prototype=null,n[h]=t):n=f(),void 0===e?n:o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(63);t.exports=r("document","documentElement")},function(t,e,n){var r=n(198),i=n(29);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r,i,o=n(14),s=n(145),a=o.process,c=a&&a.versions,u=c&&c.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(14);t.exports=r.Promise},function(t,e,n){var r=n(141),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r,i,o,s=n(14),a=n(29),c=n(138),u=n(196),l=n(137),h=n(202),p=n(149),d=s.location,f=s.setImmediate,g=s.clearImmediate,m=s.process,y=s.MessageChannel,b=s.Dispatch,v=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},_=function(t){return function(){x(t)}},O=function(t){x(t.data)},T=function(t){s.postMessage(t+"",d.protocol+"//"+d.host)};f&&g||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++v]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(v),v},g=function(t){delete w[t]},p?r=function(t){m.nextTick(_(t))}:b&&b.now?r=function(t){b.now(_(t))}:y&&!h?(o=(i=new y).port2,i.port1.onmessage=O,r=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&d&&"file:"!==d.protocol&&!a(T)?(r=T,s.addEventListener("message",O,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),x(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:f,clear:g}},function(t,e,n){var r=n(145);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(32),i=n(44),o=n(81);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(43),i=n(52),o=n(81),s=n(100),a=n(98);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,c=n.reject,u=s((function(){var n=i(e.resolve),o=[],s=0,c=1;a(t,(function(t){var i=s++,a=!1;o.push(void 0),c++,n.call(e,t).then((function(t){a||(a=!0,o[i]={status:"fulfilled",value:t},--c||r(o))}),(function(t){a||(a=!0,o[i]={status:"rejected",reason:t},--c||r(o))}))})),--c||r(o)}));return u.error&&c(u.value),n.promise}})},function(t,e,n){"use strict";var r=n(43),i=n(52),o=n(63),s=n(81),a=n(100),c=n(98);r({target:"Promise",stat:!0},{any:function(t){var e=this,n=s.f(e),r=n.resolve,u=n.reject,l=a((function(){var n=i(e.resolve),s=[],a=0,l=1,h=!1;c(t,(function(t){var i=a++,c=!1;s.push(void 0),l++,n.call(e,t).then((function(t){c||h||(h=!0,r(t))}),(function(t){c||h||(c=!0,s[i]=t,--l||u(new(o("AggregateError"))(s,"No one promise resolved")))}))})),--l||u(new(o("AggregateError"))(s,"No one promise resolved"))}));return l.error&&u(l.value),n.promise}})},function(t,e,n){"use strict";var r=n(43),i=n(212),o=n(139),s=n(142),a=n(148),c=n(30),u=n(99),l=n(18),h=n(65),p=n(64),d=n(207),f=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),y=function(){return this};t.exports=function(t,e,n,l,d,b,v){i(n,e,l);var w,x,_,O=function(t){if(t===d&&k)return k;if(!g&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",S=!1,E=t.prototype,j=E[m]||E["@@iterator"]||d&&E[d],k=!g&&j||O(d),A="Array"==e&&E.entries||j;if(A&&(w=o(A.call(new t)),f!==Object.prototype&&w.next&&(h||o(w)===f||(s?s(w,f):"function"!=typeof w[m]&&c(w,m,y)),a(w,T,!0,!0),h&&(p[T]=y))),"values"==d&&j&&"values"!==j.name&&(S=!0,k=function(){return j.call(this)}),h&&!v||E[m]===k||c(E,m,k),p[e]=k,d)if(x={values:O("values"),keys:b?k:O("keys"),entries:O("entries")},v)for(_ in x)(g||S||!(_ in E))&&u(E,_,x[_]);else r({target:e,proto:!0,forced:g||S},x);return x}},function(t,e,n){"use strict";var r,i,o,s=n(29),a=n(139),c=n(30),u=n(36),l=n(18),h=n(65),p=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0);var f=null==r||s((function(){var t={};return r[p].call(t)!==t}));f&&(r={}),h&&!f||u(r,p)||c(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},,,function(t,e,n){var r=n(143),i=n(103),o=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){"use strict";var r=n(207).IteratorPrototype,i=n(194),o=n(95),s=n(148),a=n(64),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,u,!1,!0),a[u]=c,t}},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(5),i=n.n(r),o=(n(256),n(20),n(61),n(0));function s(t){return function(e){const n=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(n),t+(new Date).getTime().toString(32)+function(t){let e="";const n="abcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}(18)}()}function a(t,e=o.C.lang){const n=this,r=/(\d{1,4})\D+(\d{1,2})\D+(\d{1,4})/;let i,s,a;return r.test(t)?(t.replace(r,(t,r,o,c)=>{4===r.length?(i=r,s=o,a=c):n.isFirstDate(e)?(a=r,s=o,i=c):(a=o,s=r,i=c),"th"===e&&(i=Number(i)-543)}),new Date(`${i}/${s}/${a}`)):null}function c(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function u(t,e,n){return new i.a((r,i)=>{const o=new Image(e,n);o.onload=()=>r(o),o.onerror=i,o.crossOrigin="anonymous",o.src=t})}},function(t,e,n){t.exports=n(368)},function(t,e,n){"use strict";var r=n(10);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(9),i=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(9);t.exports=r((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(9);t.exports=r((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){var r=n(150).Symbol;t.exports=r},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n(75);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function i(t){let e=o.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},o.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const i=t.strings.join(r.f);return n=e.keyString.get(i),void 0===n&&(n=new r.a(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const o=new Map},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n(160),i=n(92),o=n(221);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const s=new WeakMap,a=(t,e,n)=>{let a=s.get(e);void 0===a&&(Object(r.b)(e,e.firstChild),s.set(e,a=new i.e(Object.assign({templateFactory:o.b},n))),a.appendInto(e)),a.setValue(t),a.commit()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=new WeakMap,i=t=>(...e)=>{const n=t(...e);return r.set(n,!0),n},o=t=>"function"==typeof t&&r.has(t)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2);const i=Symbol("LitMobxRenderReaction"),o=Symbol("LitMobxRequestUpdate");var s=n(1);class a extends(function(t){var e,n;return n=class extends t{constructor(){super(...arguments),this[e]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();const t=this.constructor.name||this.nodeName;this[i]=new r.a(t+".update()",this[o]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[i]&&(this[i].dispose(),this[i]=void 0)}update(t){this[i]?this[i].track(super.update.bind(this,t)):super.update(t)}},e=o,n}(s.a)){}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(31);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(31),i=n(322),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(a=n(229)),a),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(o)})),t.exports=c}).call(this,n(94))},function(t,e,n){"use strict";var r=n(31),i=n(323),o=n(226),s=n(325),a=n(328),c=n(329),u=n(230);t.exports=function(t){return new Promise((function(e,l){var h=t.data,p=t.headers;r.isFormData(h)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",g=t.auth.password||"";p.Authorization="Basic "+btoa(f+":"+g)}var m=s(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),o(m,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,l,r),d=null}},d.onabort=function(){d&&(l(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(u(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=n(330),b=(t.withCredentials||c(m))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(p,(function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),l(t),d=null)})),void 0===h&&(h=null),d.send(h)}))}},function(t,e,n){"use strict";var r=n(324);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){"use strict";var r=n(31);t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(o,(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),r.forEach(s,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var a=i.concat(o).concat(s),c=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return r.forEach(c,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u={}.hasOwnProperty;c=n(57).isPlainObject,i=n(233),r=n(336),o=n(35),e=n(16),a=n(237),s=n(181),t.exports=function(t){function n(t){n.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new r,t||(t={}),t.writer||(t.writer=new s),this.options=t,this.stringify=new a(t)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"implementation",{value:new i}),Object.defineProperty(n.prototype,"doctype",{get:function(){var t,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++)if((t=i[n]).type===e.DocType)return t;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(t){var e;return e={},t?c(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},n.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},n.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(o)}).call(this)},function(t,e,n){(function(){var e;e=n(16),n(35),t.exports=function(){function t(t,n,r){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&(t.prefix===this.prefix&&(t.localName===this.localName&&t.value===this.value))},t}()}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(35),e=n(16),t.exports=function(t){function n(t){n.__super__.constructor.call(this,t),this.type=e.Dummy}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return""},n}(r)}).call(this)},function(t,e){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){var r,i,o;for(r in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),i=t.stringify||{})n.call(i,r)&&(o=i[r],this[r]=o)}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,n;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+n.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+n.index);return t},t.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},t.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(57).assign,e=n(16),n(172),n(173),n(170),n(171),n(168),n(178),n(179),n(180),n(236),n(174),n(176),n(175),n(177),r=n(155),t.exports=function(){function t(t){var e,n,r;for(e in t||(t={}),this.options=t,n=t.writer||{})o.call(n,e)&&(r=n[e],this["_"+e]=this[e],this[e]=r)}return t.prototype.filterOptions=function(t){var e,n,o,s,a,c,u,l;return t||(t={}),t=i({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(n=t.indent)?n:"  ",e.newline=null!=(o=t.newline)?o:"\n",e.offset=null!=(s=t.offset)?s:0,e.dontPrettyTextNodes=null!=(a=null!=(c=t.dontPrettyTextNodes)?c:t.dontprettytextnodes)?a:0,e.spaceBeforeSlash=null!=(u=null!=(l=t.spaceBeforeSlash)?l:t.spacebeforeslash)?u:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=r.None,e},t.prototype.indent=function(t,e,n){var r;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(r=(n||0)+e.offset+1)>0?new Array(r).join(e.indent):""},t.prototype.endline=function(t,e,n){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,n){var r;return this.openAttribute(t,e,n),r=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,n),r},t.prototype.cdata=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<![CDATA[",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+="]]>"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.comment=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"\x3c!-- ",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=" --\x3e"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.declaration=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?xml",e.state=r.InsideTag,i+=' version="'+t.version+'"',null!=t.encoding&&(i+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(i+=' standalone="'+t.standalone+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.docType=function(t,e,n){var i,o,s,a,c;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,a=this.indent(t,e,n),a+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(a+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(a+=" [",a+=this.endline(t,e,n),e.state=r.InsideTag,o=0,s=(c=t.children).length;o<s;o++)i=c[o],a+=this.writeChildNode(i,e,n+1);e.state=r.CloseTag,a+="]"}return e.state=r.CloseTag,a+=e.spaceBeforeSlash+">",a+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),a},t.prototype.element=function(t,n,i){var s,a,c,u,l,h,p,d,f,g,m,y,b,v;for(f in i||(i=0),g=!1,m="",this.openNode(t,n,i),n.state=r.OpenTag,m+=this.indent(t,n,i)+"<"+t.name,y=t.attribs)o.call(y,f)&&(s=y[f],m+=this.attribute(s,n,i));if(u=0===(c=t.children.length)?null:t.children[0],0===c||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))n.allowEmpty?(m+=">",n.state=r.CloseTag,m+="</"+t.name+">"+this.endline(t,n,i)):(n.state=r.CloseTag,m+=n.spaceBeforeSlash+"/>"+this.endline(t,n,i));else if(!n.pretty||1!==c||u.type!==e.Text&&u.type!==e.Raw||null==u.value){if(n.dontPrettyTextNodes)for(l=0,p=(b=t.children).length;l<p;l++)if(((a=b[l]).type===e.Text||a.type===e.Raw)&&null!=a.value){n.suppressPrettyCount++,g=!0;break}for(m+=">"+this.endline(t,n,i),n.state=r.InsideTag,h=0,d=(v=t.children).length;h<d;h++)a=v[h],m+=this.writeChildNode(a,n,i+1);n.state=r.CloseTag,m+=this.indent(t,n,i)+"</"+t.name+">",g&&n.suppressPrettyCount--,m+=this.endline(t,n,i),n.state=r.None}else m+=">",n.state=r.InsideTag,n.suppressPrettyCount++,g=!0,m+=this.writeChildNode(u,n,i+1),n.suppressPrettyCount--,g=!1,n.state=r.CloseTag,m+="</"+t.name+">"+this.endline(t,n,i);return this.closeNode(t,n,i),m},t.prototype.writeChildNode=function(t,n,r){switch(t.type){case e.CData:return this.cdata(t,n,r);case e.Comment:return this.comment(t,n,r);case e.Element:return this.element(t,n,r);case e.Raw:return this.raw(t,n,r);case e.Text:return this.text(t,n,r);case e.ProcessingInstruction:return this.processingInstruction(t,n,r);case e.Dummy:return"";case e.Declaration:return this.declaration(t,n,r);case e.DocType:return this.docType(t,n,r);case e.AttributeDeclaration:return this.dtdAttList(t,n,r);case e.ElementDeclaration:return this.dtdElement(t,n,r);case e.EntityDeclaration:return this.dtdEntity(t,n,r);case e.NotationDeclaration:return this.dtdNotation(t,n,r);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?",e.state=r.InsideTag,i+=t.target,t.value&&(i+=" "+t.value),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.raw=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.text=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdAttList=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ATTLIST",e.state=r.InsideTag,i+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(i+=" "+t.defaultValueType),t.defaultValue&&(i+=' "'+t.defaultValue+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdElement=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ELEMENT",e.state=r.InsideTag,i+=" "+t.name+" "+t.value,e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdEntity=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ENTITY",e.state=r.InsideTag,t.pe&&(i+=" %"),i+=" "+t.name,t.value?i+=' "'+t.value+'"':(t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.nData&&(i+=" NDATA "+t.nData)),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdNotation=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!NOTATION",e.state=r.InsideTag,i+=" "+t.name,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?i+=' PUBLIC "'+t.pubID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.openNode=function(t,e,n){},t.prototype.closeNode=function(t,e,n){},t.prototype.openAttribute=function(t,e,n){},t.prototype.closeAttribute=function(t,e,n){},t}()}).call(this)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e,r){var i=n(157);t.exports=v;var o,s=n(239);v.ReadableState=b;n(156).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(241),u=n(183).Buffer,l=e.Uint8Array||function(){};var h=Object.create(n(108));h.inherits=n(91);var p=n(348),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var f,g=n(349),m=n(242);h.inherits(v,c);var y=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var r=e instanceof(o=o||n(80));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(185).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||n(80),!(this instanceof v))return new v(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,O(t)}(t,s)):(i||(o=function(t,e){var n;r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?x(t,s,e,!1):S(t,s)):x(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function x(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),S(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},v.prototype.unshift=function(t){return w(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return f||(f=n(185).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(T,t):T(t))}function T(t){d("emit readable"),t.emit("readable"),A(t)}function S(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(E,t,e))}function E(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function j(t){d("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function C(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function D(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):O(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&I(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(n,e))),null===(r=t>0?C(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:v;function u(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",b),t.removeListener("drain",h),t.removeListener("error",m),t.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",g),p=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function l(){d("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",u);var h=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",h);var p=!1;var f=!1;function g(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==D(o.pipes,t))&&!p&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function m(e){d("onerror",e),v(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",b),v()}function b(){d("onfinish"),t.removeListener("close",y),v()}function v(){d("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",y),t.once("finish",b),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=D(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&O(this):i.nextTick(j,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(k,t,e))}(this,t)),this},v.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=C}).call(this,n(25),n(94))},function(t,e,n){t.exports=n(156).EventEmitter},function(t,e,n){"use strict";var r=n(157);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(351),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(25))},function(t,e,n){"use strict";t.exports=s;var r=n(80),i=Object.create(n(108));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(91),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},function(t,e,n){"use strict";var r=n(43),i=n(212),o=n(103),s=n(158),a=n(52),c=n(32),u=n(84),l=n(370),h=n(371),p=n(30),d=n(29),f=n(18),g=n(159),m=n(372),y=n(105),b=n(65),v=f("matchAll"),w=y.set,x=y.getterFor("RegExp String Iterator"),_=RegExp.prototype,O=_.exec,T="".matchAll,S=!!T&&!d((function(){"a".matchAll(/./)})),E=i((function(t,e,n,r){w(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=x(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return O.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=m(n,s(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),j=function(t){var e,n,r,i,o,a,u=c(this),l=String(t);return e=g(u,RegExp),void 0===(n=u.flags)&&u instanceof RegExp&&!("flags"in _)&&(n=h.call(u)),r=void 0===n?"":String(n),i=new e(e===RegExp?u.source:u,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=s(u.lastIndex),new E(i,l,o,a)};r({target:"String",proto:!0,forced:S},{matchAll:function(t){var e,n,r,i=o(this);if(null!=t){if(l(t)&&!~String(o("flags"in _?t.flags:h.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(S)return T.apply(i,arguments);if(void 0===(n=t[v])&&b&&"RegExp"==u(t)&&(n=j),null!=n)return a(n).call(t,i)}else if(S)return T.apply(i,arguments);return e=String(i),r=new RegExp(t,"g"),b?j.call(r,e):r[v](e)}}),b||v in _||p(_,v,j)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(7),n(20);var r=n(0),i=n(249);function o(t){return fetch(function(t){return r.f+"/mail/feed/atom?zx="+encodeURIComponent(t)}(t)).then(t=>{if(!t.ok)throw new Error("response not ok");return t.text()}).then(async t=>{const e=(await i.parseStringPromise(t)).feed;let n=e.title[0];if(n)try{n=/(\w+)@(\w+\.\w+)/.exec(n)[0]}catch(t){}const r=parseInt(e.fullcount,10),o=e.entry||[],s=[];let a=-1;return o.forEach(t=>{const e={id:t.id[0],issued:t.issued[0],title:t.title[0],summary:t.summary[0],link:t.link[0].$.href,authorName:t.author[0].name[0],authorEmail:t.author[0].email[0]};e.issued&&(e.issued=new Date(e.issued).valueOf(),a=Math.max(a,e.issued)),s.push(e)}),{count:r,account:n,lastIssuedTime:a,emails:s}}).catch(t=>{throw t})}},function(t,e,n){var r=n(219),i=n(376),o=n(377),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},function(t,e,n){(function(){"use strict";var t,r,i,o,s={}.hasOwnProperty;r=n(167),t=n(334),i=n(343),o=n(245),e.defaults=r.defaults,e.processors=o,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=i.Parser,e.parseString=i.parseString,e.parseStringPromise=i.parseStringPromise}).call(this)},,function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n(160),i=n(75);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const o=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),s=` ${i.f} `;class a{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],o=t.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===t.indexOf("--\x3e",o+1);const a=i.e.exec(t);e+=null===a?t+(n?s:i.g):t.substr(0,a.index)+a[1]+a[2]+i.b+a[3]+i.f}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==o&&(e=o.createHTML(e)),t.innerHTML=e,t}}class c extends a{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),Object(r.c)(e,n.firstChild),t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(20);var r=n(254),i=n(0);const o=(t,e=null)=>`<svg\n      class="icon-svg"\n      preserveAspectRatio="xMinYMin meet"\n      viewBox="0,0,90,90"\n      style="${i.r?"will-change:transform;":""}background-color:${t.bgColor||"transparent"};${null===e?"border-radius: var(--svg-radius);":`border-radius: ${e};`} display: block;width: 100%;height: 100%;"\n    >\n      <foreignObject width="100%" height="100%">\n          <div\n            style="width:90px;height:90px;display:flex;flex-direction: column;align-items: center;justify-content: center;"\n          >\n            ${t.bgText.split("\n").map(e=>`<p\n                style="line-height:1.1;margin:0;font-size:${t.bgFont}px;color:#ffffff;text-align:center;white-space: nowrap;min-height:4px;flex-shrink: 0;"\n              >\n              ${Object(r.a)(e)}\n              </p>`).join("")}\n        </div>\n      </foreignObject>\n    </svg> `},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(20),n(61);const r=function(t){return(t=""+t).replace(/</g,"&lt;").replace(/>/g,"&gt;")}},,function(t,e,n){"use strict";var r=n(360),i=n(4),o=n(9),s=n(27),a=n(47),c=n(364),u=n(365),l=n(366),h=n(59),p=n(367),d=r.aTypedArray,f=r.exportTypedArrayMethod,g=i.Uint16Array,m=g&&g.prototype.sort,y=!!m&&!o((function(){var t=new g(2);t.sort(null),t.sort({})})),b=!!m&&!o((function(){if(h)return h<74;if(u)return u<67;if(l)return!0;if(p)return p<602;var t,e,n=new g(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(n.sort((function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));f("sort",(function(t){if(void 0!==t&&s(t),b)return m.call(this,t);d(this);var e,n=a(this.length),r=Array(n);for(e=0;e<n;e++)r[e]=this[e];for(r=c(this,function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t)),e=0;e<n;e++)this[e]=r[e];return this}),!b||y)},function(t,e,n){"use strict";var r=n(77),i=n(56),o=n(88),s=n(9),a=n(19),c=n(89),u=n(90),l=n(26);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&"function"==typeof o){var h=a("Promise").prototype.finally;o.prototype.finally!==h&&l(o.prototype,"finally",h,{unsafe:!0})}},function(t,e,n){var r,i=n(10),o=n(259),s=n(76),a=n(55),c=n(87),u=n(53),l=n(79),h=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=i(t),n=new p,p.prototype=null,n[h]=t):n=f(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(17),i=n(22),o=n(10),s=n(260);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,c=0;a>c;)i.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(86),i=n(76);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";n(20);var r=n(26),i=n(136),o=n(9),s=n(8),a=n(21),c=s("species"),u=RegExp.prototype;t.exports=function(t,e,n,l){var h=s(t),p=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),d=p&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!p||!d||n){var f=/./[h],g=e(h,""[t],(function(t,e,n,r,o){var s=e.exec;return s===i||s===u.exec?p&&!o?{done:!0,value:f.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));r(String.prototype,t,g[0]),r(u,h,g[1])}l&&a(u[h],"sham",!0)}},function(t,e,n){"use strict";var r=n(263).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(46),i=n(45),o=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(78),i=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,l){var h=n+t.length,p=c.length,d=a;return void 0!==u&&(u=r(u),d=s),o.call(l,d,(function(r,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":s=u[o.slice(1,-1)];break;default:var a=+o;if(0===a)return r;if(a>p){var l=i(a/10);return 0===l?r:l<=p?void 0===c[l-1]?o.charAt(1):c[l-1]+o.charAt(1):r}s=c[a-1]}return void 0===s?"":s}))}},function(t,e,n){var r=n(33),i=n(136);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(267);n(300),n(301),n(302),n(303),t.exports=r},function(t,e,n){n(186),n(282),n(283),n(204),n(205),n(294),n(295),n(296);var r=n(104);t.exports=r.Promise},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(29),i=n(84),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(14),i=n(30);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(29);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(44);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(62),i=n(97),o=n(32),s=n(274);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,c=0;a>c;)i.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(275),i=n(195);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(36),i=n(96),o=n(276).indexOf,s=n(144);t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(96),i=n(158),o=n(277),s=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(143),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(18),i=n(64),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(197);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(146),i=n(64),o=n(18)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(32);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e){},function(t,e,n){"use strict";var r,i,o,s,a=n(43),c=n(65),u=n(14),l=n(63),h=n(199),p=n(99),d=n(284),f=n(142),g=n(148),m=n(286),y=n(44),b=n(52),v=n(287),w=n(200),x=n(98),_=n(288),O=n(159),T=n(201).set,S=n(289),E=n(203),j=n(291),k=n(81),A=n(100),C=n(105),I=n(191),P=n(18),D=n(293),R=n(149),N=n(198),L=P("species"),M="Promise",B=C.get,U=C.set,F=C.getterFor(M),$=h&&h.prototype,V=h,z=$,q=u.TypeError,W=u.document,H=u.process,G=k.f,Y=G,X=!!(W&&W.createEvent&&u.dispatchEvent),K="function"==typeof PromiseRejectionEvent,J=!1,Q=I(M,(function(){var t=w(V),e=t!==String(V);if(!e&&66===N)return!0;if(c&&!z.finally)return!0;if(N>=51&&/native code/.test(t))return!1;var n=new V((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[L]=r,!(J=n.then((function(){}))instanceof r)||!e&&D&&!K})),Z=Q||!_((function(t){V.all(t).catch((function(){}))})),tt=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},et=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;S((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,p=u.reject,d=u.domain;try{l?(i||(2===t.rejection&&ot(t),t.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===u.promise?p(q("Promise-chain cycle")):(a=tt(s))?a.call(s,h,p):h(s)):p(r)}catch(t){d&&!c&&d.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)}))}},nt=function(t,e,n){var r,i;X?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!K&&(i=u["on"+t])?i(r):"unhandledrejection"===t&&j("Unhandled promise rejection",n)},rt=function(t){T.call(u,(function(){var e,n=t.facade,r=t.value;if(it(t)&&(e=A((function(){R?H.emit("unhandledRejection",r,n):nt("unhandledrejection",n,r)})),t.rejection=R||it(t)?2:1,e.error))throw e.value}))},it=function(t){return 1!==t.rejection&&!t.parent},ot=function(t){T.call(u,(function(){var e=t.facade;R?H.emit("rejectionHandled",e):nt("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},at=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,et(t,!0))},ct=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw q("Promise can't be resolved itself");var r=tt(e);r?S((function(){var n={done:!1};try{r.call(e,st(ct,n,t),st(at,n,t))}catch(e){at(n,e,t)}})):(t.value=e,t.state=1,et(t,!1))}catch(e){at({done:!1},e,t)}}};if(Q&&(z=(V=function(t){v(this,V,M),b(t),r.call(this);var e=B(this);try{t(st(ct,e),st(at,e))}catch(t){at(e,t)}}).prototype,(r=function(t){U(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(z,{then:function(t,e){var n=F(this),r=G(O(this,V));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=R?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&et(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=B(t);this.promise=t,this.resolve=st(ct,e),this.reject=st(at,e)},k.f=G=function(t){return t===V||t===o?new i(t):Y(t)},!c&&"function"==typeof h&&$!==Object.prototype)){s=$.then,J||(p($,"then",(function(t,e){var n=this;return new V((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),p($,"catch",z.catch,{unsafe:!0}));try{delete $.constructor}catch(t){}f&&f($,z)}a({global:!0,wrap:!0,forced:Q},{Promise:V}),g(V,M,!1,!0),m(M),o=l(M),a({target:M,stat:!0,forced:Q},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),a({target:M,stat:!0,forced:c||Q},{resolve:function(t){return E(c&&this===o?V:this,t)}}),a({target:M,stat:!0,forced:Z},{all:function(t){var e=this,n=G(e),r=n.resolve,i=n.reject,o=A((function(){var n=b(e.resolve),o=[],s=0,a=1;x(t,(function(t){var c=s++,u=!1;o.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,i=A((function(){var i=b(e.resolve);x(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(99);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(147),i=n(146);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r=n(63),i=n(97),o=n(18),s=n(62),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(18)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r,i,o,s,a,c,u,l,h=n(14),p=n(187).f,d=n(201).set,f=n(202),g=n(290),m=n(149),y=h.MutationObserver||h.WebKitMutationObserver,b=h.document,v=h.process,w=h.Promise,x=p(h,"queueMicrotask"),_=x&&x.value;_||(r=function(){var t,e;for(m&&(t=v.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},f||m||g||!y||!b?w&&w.resolve?((u=w.resolve(void 0)).constructor=w,l=u.then,s=function(){l.call(u,r)}):s=m?function(){v.nextTick(r)}:function(){d.call(h,r)}:(a=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(145);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){var r=n(14),i=n(200),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e){t.exports="object"==typeof window},function(t,e,n){"use strict";var r=n(43),i=n(65),o=n(199),s=n(29),a=n(63),c=n(159),u=n(203),l=n(99);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&"function"==typeof o){var h=a("Promise").prototype.finally;o.prototype.finally!==h&&l(o.prototype,"finally",h,{unsafe:!0})}},function(t,e,n){"use strict";var r=n(211).charAt,i=n(105),o=n(206),s=i.set,a=i.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){n(297);var r=n(299),i=n(14),o=n(146),s=n(30),a=n(64),c=n(18)("toStringTag");for(var u in r){var l=i[u],h=l&&l.prototype;h&&o(h)!==c&&s(h,c,u),a[u]=a.Array}},function(t,e,n){"use strict";var r=n(96),i=n(298),o=n(64),s=n(105),a=n(206),c=s.set,u=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){n(186)},function(t,e,n){n(204)},function(t,e,n){"use strict";var r=n(43),i=n(81),o=n(100);r({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){n(205)},function(t,e,n){var r=n(497),i=n(500);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){var n=1;function r(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}t.exports=function(t){return new Promise((function(e,i){var o=document.createElement("script"),s=t.url;if(t.params){var a=r(t.params);a&&(s+=(s.indexOf("?")>=0?"&":"?")+a)}function c(){o&&(o.onload=o.onreadystatechange=o.onerror=null,o.parentNode&&o.parentNode.removeChild(o),o=null)}o.async=!0;var u="axiosJsonpCallback"+n++,l=window[u],h=!1;window[u]=function(t){(window[u]=l,h)||e({data:t,status:200})};var p={_:(new Date).getTime()};p[t.callbackParamName||"callback"]=u,s+=(s.indexOf("?")>=0?"&":"?")+r(p),o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||c()},o.onerror=function(){c(),i(new Error("Network Error"))},t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(h=!0,i(t))})),o.src=s,document.head.appendChild(o)}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(160),i=n(75);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class o{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=r.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,o=document.createTreeWalker(t,133,null,!1);let s,a=0,c=0,u=o.nextNode();for(;a<n.length;)if(s=n[a],Object(i.d)(s)){for(;c<s.index;)c++,"TEMPLATE"===u.nodeName&&(e.push(u),o.currentNode=u.content),null===(u=o.nextNode())&&(o.currentNode=e.pop(),u=o.nextNode());if("node"===s.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(u.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,s.name,s.strings,this.options));a++}else this.__parts.push(void 0),a++;return r.a&&(document.adoptNode(t),customElements.upgrade(t)),t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));n(7);var r=n(2),i=n(161),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const s={},a=new Set;class c{constructor(){this.firstSync=!1,this.syncTabTime=0,this._lockRollback=!1,this.isRollbackFromStorage=!1,this.backupFileKey="",this.backupValueKeys=[],this.rollbackFromStorage=()=>null,this.stopToStorageReaction=()=>{},this.stopAutoBackupReaction=()=>{},this.convertBackupEquals=t=>t}async initSyncStore(t,e,n={},o=20){const a=t.key;if(s[a])throw new Error("storage key 重复");s[a]=this,0!==e.length&&(this.rollbackFromStorage=async()=>{let i=!1;const s=Object.create(null);Object.keys(n).forEach(t=>{e.includes(t)&&(s[t]=n[t])});try{const{data:n,error:r}=await t.read();if(r)throw r;const o=n?Object.keys(n):[];n&&o.forEach(t=>{e.includes(t)&&(s[t]=n[t])}),this.firstSync||n&&!e.some(t=>!o.includes(t))||(i=!0)}catch(t){console.error("storageSync",t)}this.isRollbackFromStorage=!0,this.stopToStorageReaction(),this.stopAutoBackupReaction(),Object(r.i)(()=>{for(const t in s)this[t]=s[t];this.firstSync||(this.firstSync=!0)}),this.restartAutoBackupReaction(),this.stopToStorageReaction=Object(r.h)(()=>{const t={};return e.forEach(e=>{t[e]=Object(r.j)(this[e])}),t},e=>{this.isRollbackFromStorage=!1,t.create(e).then(()=>{Object(r.i)(()=>{this.syncTabTime=Date.now()})})},{equals:r.d.structural,delay:o,fireImmediately:i})},await this.rollbackFromStorage(),Object(r.h)(()=>this.syncTabTime,t=>{t&&i.slave.sendMessage("tabs-sync",a)},{delay:60}))}restartAutoBackupReaction(t=!1){this.stopAutoBackupReaction(),this.stopAutoBackupReaction=Object(r.h)(()=>{const t={};return this.backupValueKeys.forEach(e=>{t[e]=Object(r.j)(this[e])}),t},t=>{(async(t,e)=>{try{const{syncStore:r}=await Promise.all([n.e(8),n.e(7)]).then(n.bind(null,601));r.pushAutoBackupPipe({[t]:e})}catch(t){}})(this.backupFileKey,t).catch()},{fireImmediately:t,equals:(t,e)=>{const n=this.convertBackupEquals(t),i=this.convertBackupEquals(e);return r.d.structural(n,i)},delay:40})}initAutoBackup(t,e){if(a.has(t))throw new Error("file key 重复");a.add(t),0!==e.length&&(this.backupFileKey=t,this.backupValueKeys=[...e])}async getBackupData(){const t={};return this.backupValueKeys.forEach(e=>{t[e]=Object(r.j)(this[e])}),t}}o([r.g],c.prototype,"firstSync",void 0),o([r.g],c.prototype,"syncTabTime",void 0),o([r.b],c.prototype,"initSyncStore",null);const u=t=>{const e=s[t];(null==e?void 0:e._lockRollback)||e.rollbackFromStorage()}},function(t,e,n){"use strict";var r=n(1);e.a=r.b`.global-scrollbar {
  overflow: auto;
  scrollbar-width: thin;
  scrollbar-color: #ddd #f2f2f2;
}
.global-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.global-scrollbar::-webkit-scrollbar-thumb {
  border-radius: 3px;
  background-color: transparent;
  border: 1px dashed transparent;
  background-clip: padding-box;
  -webkit-transition: all 0.3s;
  transition: all 0.3s;
}
.global-scrollbar::-webkit-scrollbar-thumb:hover,
.global-scrollbar:hover::-webkit-scrollbar-thumb:hover {
  background-color: #ccc;
  background-clip: border-box;
}
.global-scrollbar::-webkit-scrollbar-track {
  background-color: transparent;
}
.global-scrollbar:hover::-webkit-scrollbar-thumb {
  background-color: #ddd;
}
@media only screen and (hover: none) {
  .global-scrollbar::-webkit-scrollbar-thumb {
    background-color: #ddd;
  }
}
`},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(7);var r=n(0),i=n(435),o=n(3);const s=Object(r.G)()?"pc":"mobile";var a=n(23);const c=new class{constructor(){this.ga=null,this.localKey="analytics-status-time",this.gap=432e5,this.getPermission=async()=>{let t=!0;if(r.n)try{const{privacyStore:e}=await Promise.all([n.e(8),n.e(7),n.e(40)]).then(n.bind(null,608));1!==e.collectData&&(t=!1)}catch(e){t=!1}return t},this.trySendStatus=t=>{const e=localStorage.getItem(this.localKey);e?(Date.now()-Number(e)>this.gap||Number(e)>Date.now())&&this.sendStatus(t):this.sendStatus(t)},this.sendPageView=async t=>{if(!await this.getPermission())return;const e=this.ga.getPageviewUrl(t);a.b.sendLog(e)},this.sendEvent=async(t,e=!1)=>{await this.getPermission()&&Object.keys(t).forEach(n=>{const r=t[n];if("object"==typeof r)Object.keys(r).forEach(t=>{const i=r[t],o=this.ga.getEventUrl({category:n,action:t,label:String(i),nonInteraction:e});a.b.sendLog(o)});else{const t=this.ga.getEventUrl({category:n,action:String(r),nonInteraction:e});a.b.sendLog(t)}})},this.sendBaidu=async t=>{await this.getPermission()&&(async(t="")=>{const e=r.C.runtimePlatform,n=s+"-"+e;if(null==t?void 0:t.includes("baidu.com")){const e=new URL(t).searchParams.get("tn"),i=`https://manage-api.infinitytab.com/analysis-manager/send/60efd763a741942ac60374e1?label=${r.B.baiduLabel}&action=${e}&event=${n}`;r.s?navigator.sendBeacon(i):o.a.post(i,null,{_proxy:!0})}})(t)},this.ga=new i.a({trackingId:r.B.trackingId})}async sendStatus(t){try{this.sendEvent(t,!0),localStorage.setItem(this.localKey,""+Date.now())}catch(t){}}}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(25))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>{const e=i(t),n=o(t,e);return{searchWidth:e.width,searchHeight:e.height,searchMarginTop:e.marginTop,searchMarginBottom:e.marginBottom,searchRatio:e.searchRatio,iconBoxWidth:n.boxWidth,iconBoxHeight:n.boxHeight,iconOneHeight:n.iconOneHeight,iconWidth:n.width,miniIconPadding:n.miniIconPadding,iconRatio:n.iconRatio,iconsMargin:n.iconsMargin}},i=t=>{const{searchScale:e,innerHeight:n,innerWidth:r,miniMode:i,topBookmark:o,topUseful:s,mainRatio:a}=t;let c=0;s&&(c+=36),o&&(c+=36);const u=n-c,l=r-.2*r;let h=r,p=9*h/16;p>u&&(p=u,h=16*p/9);const d=h*(.575-.1818*Math.max(Math.min(720,h-1200),0)/720),f={width:d*e,height:p*(.0963-.0296*Math.max(Math.min(405,p-675),0)/405)*e};f.width>l&&(f.height=l/f.width*f.height,f.width=l);const g={width:f.width*a,height:f.height*a};let m=null;m=i?-.3:-.06;const y=f.width/d*a,b=Math.floor(m*u*y)+"px",v=Math.floor(.775*g.height)+"px";return{width:Math.floor(g.width)+"px",height:Math.floor(g.height)+"px",searchRatio:Number((g.width/625).toFixed(2)),marginTop:b,marginBottom:v,appContentWidth:l,appContentHeight:u,searcherSizeWithRatio:f}},o=(t,e)=>{const{row:n,col:r,rowGap:i,colGap:o,iconScale:s,innerWidth:a,mainRatio:c,fontSize:u}=t;let l=a;l<1200?l=1200:l>1920&&(l=1920);const{appContentHeight:h,appContentWidth:p,searcherSizeWithRatio:d}=e,f=p,g=.8*h-2.451*d.height,m=1+.5*(1920-l)/720,y=f/r,b=g/n,v=Math.min(Math.min(y,b)*s*m,y,b),w=(g-n*v)/n*i/2,x=r*(v+2*((f-r*v)/r*o/2));let _=Math.min(Math.ceil(x*c),a);let O=n*(v+2*w)*c;const T=v*c,S=1.3*Math.max(u*c,12)+.9*T*.08,E=1.2*(25+S);_<r*E&&(_=r*E),O<n*E&&(O=n*E);let j=.9*T-S-1;j<25&&(j=25);const k=.1*a*c;return{width:Math.floor(j)+"px",miniIconPadding:Math.floor(j/7+4)+"px",boxWidth:Math.ceil(_)+"px",boxHeight:Math.floor(O)+"px",iconOneHeight:Math.floor(O/n)+"px",iconRatio:Number((j/106).toFixed(2)),iconsMargin:Math.floor(k)+"px"}}},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){this._events=new Map}listenTask(t,e){if("function"!=typeof e)return;this._events.has(t)||this._events.set(t,new Set);this._events.get(t).add(e)}execTask(t,e,...n){if(this._events.has(t)){const r=this._events.get(t);for(const t of r)t(e,...n)}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"uploadFile",(function(){return a}));n(7);var r=n(0),i=n(3);const o=["infinity-notes-img","custom-wallpaper-library"],s={},a=async(t,e,n)=>{let a;try{if(s[n]&&s[n].endTime>Date.now())a=s[n];else{let t=null;if(t=o.includes(n)?await i.a.get(r.x+"/upload/public_private_token",{type:n},{_auth:!0}):await i.a.get(r.x+"/upload/token",{type:n}),0!==t.code||!t.data.token)return{error:t};a=t.data,a.endTime=Date.now()+1e3*(a.expires-600),s[n]=a}const{token:c,prefix:u}=a,l=new FormData;l.append("token",c),l.append("key",u+e),l.append("file",t,e);const{key:h,url:p}=await i.a.post(a.host,l,{timeout:18e4,headers:{"Content-Type":"multipart/form-data"}});return{data:{url:p,key:h}}}catch(t){return{error:t}}}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){"use strict";var r=n(31),i=n(225),o=n(318),s=n(231);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var c=a(n(228));c.Axios=o,c.create=function(t){return a(s(c.defaults,t))},c.Cancel=n(232),c.CancelToken=n(331),c.isCancel=n(227),c.all=function(t){return Promise.all(t)},c.spread=n(332),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var r=n(31),i=n(226),o=n(319),s=n(320),a=n(231);function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=c},function(t,e,n){"use strict";var r=n(31);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(31),i=n(321),o=n(227),s=n(228);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(31);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(31);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(230);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(326),i=n(327);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(31),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(31);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(31);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(232);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),function(t){t.openAiModal="master:openIframeAi",t.authToken="master:authToken",t.needLogin="slave:needLogin",t.openLogin="slave:openLogin",t.closeAiModal="slave:closeIframeAi",t.logout="master:logout"}(r||(r={}));const i=new class{constructor(){this.postIframeMessage=t=>{this.$chatai&&this.$chatai.contentWindow.postMessage(t,"*")},this.updateIframe=t=>{this.$chatai=t}}}},function(t,e,n){(function(){"use strict";var t,r,i,o,s,a={}.hasOwnProperty;t=n(335),r=n(167).defaults,o=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},s=function(t){return"<![CDATA["+i(t)+"]]>"},i=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,n,i;for(e in this.options={},n=r[.2])a.call(n,e)&&(i=n[e],this.options[e]=i);for(e in t)a.call(t,e)&&(i=t[e],this.options[e]=i)}return e.prototype.buildObject=function(e){var n,i,c,u,l,h;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===r[.2].rootName?e=e[l=Object.keys(e)[0]]:l=this.options.rootName,h=this,c=function(t,e){var r,u,l,p,d,f;if("object"!=typeof e)h.options.cdata&&o(e)?t.raw(s(e)):t.txt(e);else if(Array.isArray(e)){for(p in e)if(a.call(e,p))for(d in u=e[p])l=u[d],t=c(t.ele(d),l).up()}else for(d in e)if(a.call(e,d))if(u=e[d],d===n){if("object"==typeof u)for(r in u)f=u[r],t=t.att(r,f)}else if(d===i)t=h.options.cdata&&o(u)?t.raw(s(u)):t.txt(u);else if(Array.isArray(u))for(p in u)a.call(u,p)&&(t="string"==typeof(l=u[p])?h.options.cdata&&o(l)?t.ele(d).raw(s(l)).up():t.ele(d,l).up():c(t.ele(d),l).up());else"object"==typeof u?t=c(t.ele(d),u).up():"string"==typeof u&&h.options.cdata&&o(u)?t=t.ele(d).raw(s(u)).up():(null==u&&(u=""),t=t.ele(d,u.toString()).up());return t},u=t.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(u,e).end(this.options.renderOpts)},e}()}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,h;h=n(57),u=h.assign,l=h.isFunction,i=n(233),o=n(234),s=n(341),c=n(181),a=n(342),e=n(16),r=n(155),t.exports.create=function(t,e,n,r){var i,s;if(null==t)throw new Error("Root element needs a name.");return r=u({},e,n,r),s=(i=new o(r)).element(t),r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.dtd(r)),s},t.exports.begin=function(t,e,n){var r;return l(t)&&(e=(r=[t,e])[0],n=r[1],t={}),e?new s(t,e,n):new o(t)},t.exports.stringWriter=function(t){return new c(t)},t.exports.streamWriter=function(t,e){return new a(t,e)},t.exports.implementation=new i,t.exports.nodeType=e,t.exports.writerState=r}).call(this)},function(t,e,n){(function(){var e,r;e=n(337),r=n(338),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(this)},function(t,e){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(this)},function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},function(t,e){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,h,p,d,f,g,m,y,b,v,w,x,_,O,T,S={}.hasOwnProperty;T=n(57),_=T.isObject,x=T.isFunction,O=T.isPlainObject,w=T.getValue,e=n(16),d=n(234),f=n(168),o=n(170),s=n(171),m=n(178),v=n(179),g=n(180),h=n(172),p=n(173),a=n(174),u=n(175),c=n(176),l=n(177),i=n(235),b=n(237),y=n(181),r=n(155),t.exports=function(){function t(t,n,r){var i;this.name="?xml",this.type=e.Document,t||(t={}),i={},t.writer?O(t.writer)&&(i=t.writer,t.writer=new y):t.writer=new y,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new b(t),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var n,r,i,o,s,a,c,u;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(r in i={},c=t.attribs)S.call(c,r)&&(n=c[r],i[r]=n.value);this.node(t.name,i);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(s=0,a=(u=t.children).length;s<a;s++)o=u[s],this.createChildNode(o),o.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=w(t),null==e&&(e={}),e=w(e),_(e)||(n=(r=[e,n])[0],e=r[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},t.prototype.element=function(t,n,r){var i,o,s,a,c,u;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||_(t)||x(t))for(a=this.options.noValidation,this.options.noValidation=!0,(u=new d(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,o=0,s=(c=u.children).length;o<s;o++)i=c[o],this.createChildNode(i),i.type===e.Element&&this.up();else this.node(t,n,r);return this},t.prototype.attribute=function(t,e){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=w(t)),_(t))for(n in t)S.call(t,n)&&(r=t[n],this.attribute(n,r));else x(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new i(this,t,""):null!=e&&(this.currentNode.attribs[t]=new i(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new v(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new o(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new m(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var n,r,i,o,s;if(this.openCurrent(),null!=t&&(t=w(t)),null!=e&&(e=w(e)),Array.isArray(t))for(n=0,o=t.length;n<o;n++)r=t[n],this.instruction(r);else if(_(t))for(r in t)S.call(t,r)&&(i=t[r],this.instruction(r,i));else x(e)&&(e=e.apply()),s=new g(this,t,e),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new h(this,t,e,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new c(this,t,e),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,n,r,i){var o;return this.openCurrent(),o=new a(this,t,e,n,r,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new u(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new u(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new l(this,t,e),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var n,i,o,s;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),i="",t.type===e.Element){for(o in this.writerOptions.state=r.OpenTag,i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,s=t.attribs)S.call(s,o)&&(n=s[o],i+=this.writer.attribute(n,this.writerOptions,this.currentLevel));i+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.children?(i+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,i+=">"),i+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var n;if(!t.isClosed)return n="",this.writerOptions.state=r.CloseTag,n=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;e=n(16),i=n(238),r=n(155),t.exports=function(t){function n(t,e){this.stream=t,n.__super__.constructor.call(this,e)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.endline=function(t,e,i){return t.isLastRootNode&&e.state===r.CloseTag?"":n.__super__.endline.call(this,t,e,i)},n.prototype.document=function(t,e){var n,r,i,o,s,a,c,u,l;for(r=i=0,s=(c=t.children).length;i<s;r=++i)(n=c[r]).isLastRootNode=r===t.children.length-1;for(e=this.filterOptions(e),l=[],o=0,a=(u=t.children).length;o<a;o++)n=u[o],l.push(this.writeChildNode(n,e,0));return l},n.prototype.attribute=function(t,e,r){return this.stream.write(n.__super__.attribute.call(this,t,e,r))},n.prototype.cdata=function(t,e,r){return this.stream.write(n.__super__.cdata.call(this,t,e,r))},n.prototype.comment=function(t,e,r){return this.stream.write(n.__super__.comment.call(this,t,e,r))},n.prototype.declaration=function(t,e,r){return this.stream.write(n.__super__.declaration.call(this,t,e,r))},n.prototype.docType=function(t,e,n){var i,o,s,a;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,this.stream.write(this.indent(t,e,n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,n)),e.state=r.InsideTag,o=0,s=(a=t.children).length;o<s;o++)i=a[o],this.writeChildNode(i,e,n+1);e.state=r.CloseTag,this.stream.write("]")}return e.state=r.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,n)),e.state=r.None,this.closeNode(t,e,n)},n.prototype.element=function(t,n,i){var s,a,c,u,l,h,p,d,f;for(p in i||(i=0),this.openNode(t,n,i),n.state=r.OpenTag,this.stream.write(this.indent(t,n,i)+"<"+t.name),d=t.attribs)o.call(d,p)&&(s=d[p],this.attribute(s,n,i));if(u=0===(c=t.children.length)?null:t.children[0],0===c||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+t.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==c||u.type!==e.Text&&u.type!==e.Raw||null==u.value){for(this.stream.write(">"+this.endline(t,n,i)),n.state=r.InsideTag,l=0,h=(f=t.children).length;l<h;l++)a=f[l],this.writeChildNode(a,n,i+1);n.state=r.CloseTag,this.stream.write(this.indent(t,n,i)+"</"+t.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,!0,this.writeChildNode(u,n,i+1),n.suppressPrettyCount--,!1,n.state=r.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,n,i)),n.state=r.None,this.closeNode(t,n,i)},n.prototype.processingInstruction=function(t,e,r){return this.stream.write(n.__super__.processingInstruction.call(this,t,e,r))},n.prototype.raw=function(t,e,r){return this.stream.write(n.__super__.raw.call(this,t,e,r))},n.prototype.text=function(t,e,r){return this.stream.write(n.__super__.text.call(this,t,e,r))},n.prototype.dtdAttList=function(t,e,r){return this.stream.write(n.__super__.dtdAttList.call(this,t,e,r))},n.prototype.dtdElement=function(t,e,r){return this.stream.write(n.__super__.dtdElement.call(this,t,e,r))},n.prototype.dtdEntity=function(t,e,r){return this.stream.write(n.__super__.dtdEntity.call(this,t,e,r))},n.prototype.dtdNotation=function(t,e,r){return this.stream.write(n.__super__.dtdNotation.call(this,t,e,r))},n}(i)}).call(this)},function(t,e,n){(function(){"use strict";var t,r,i,o,s,a,c,u,l,h=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty;u=n(344),o=n(156),t=n(359),c=n(245),l=n(243).setImmediate,r=n(167).defaults,s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},a=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)e=(0,t[r])(e,n);return e},i=function(t,e,n){var r;return(r=Object.create(null)).value=n,r.writable=!0,r.enumerable=!0,r.configurable=!0,Object.defineProperty(t,e,r)},e.Parser=function(n){function o(t){var n,i,o;if(this.parseStringPromise=h(this.parseStringPromise,this),this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this),this.processAsync=h(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(n in this.options={},i=r[.2])p.call(i,n)&&(o=i[n],this.options[n]=o);for(n in t)p.call(t,n)&&(o=t[n],this.options[n]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(c.normalize)),this.reset()}return function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(o,n),o.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),l(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},o.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||i(t,e,[t[e]]),t[e].push(n)):this.options.explicitArray?i(t,e,[n]):i(t,e,n)},o.prototype.reset=function(){var t,e,n,r,o;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(o=this,function(t){if(o.saxParser.resume(),!o.saxParser.errThrown)return o.saxParser.errThrown=!0,o.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){return function(o){var s,c,u,l,h;if((u={})[e]="",!n.options.ignoreAttrs)for(s in h=o.attributes)p.call(h,s)&&(t in u||n.options.mergeAttrs||(u[t]={}),c=n.options.attrValueProcessors?a(n.options.attrValueProcessors,o.attributes[s],s):o.attributes[s],l=n.options.attrNameProcessors?a(n.options.attrNameProcessors,s):s,n.options.mergeAttrs?n.assignOrPush(u,l,c):i(u[t],l,c));return u["#name"]=n.options.tagNameProcessors?a(n.options.tagNameProcessors,o.name):o.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:o.uri,local:o.local}),r.push(u)}}(this),this.saxParser.onclosetag=function(t){return function(){var n,o,c,u,l,h,d,f,g,m;if(h=r.pop(),l=h["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete h["#name"],!0===h.cdata&&(n=h.cdata,delete h.cdata),g=r[r.length-1],h[e].match(/^\s*$/)&&!n?(o=h[e],delete h[e]):(t.options.trim&&(h[e]=h[e].trim()),t.options.normalize&&(h[e]=h[e].replace(/\s{2,}/g," ").trim()),h[e]=t.options.valueProcessors?a(t.options.valueProcessors,h[e],l):h[e],1===Object.keys(h).length&&e in h&&!t.EXPLICIT_CHARKEY&&(h=h[e])),s(h)&&(h="function"==typeof t.options.emptyTag?t.options.emptyTag():""!==t.options.emptyTag?t.options.emptyTag:o),null!=t.options.validator&&(m="/"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)u=r[t],n.push(u["#name"]);return n}().concat(l).join("/"),function(){var e;try{h=t.options.validator(m,g&&g[l],h)}catch(n){return e=n,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof h)if(t.options.preserveChildrenOrder){if(g){for(c in g[t.options.childkey]=g[t.options.childkey]||[],d={},h)p.call(h,c)&&i(d,c,h[c]);g[t.options.childkey].push(d),delete h["#name"],1===Object.keys(h).length&&e in h&&!t.EXPLICIT_CHARKEY&&(h=h[e])}}else u={},t.options.attrkey in h&&(u[t.options.attrkey]=h[t.options.attrkey],delete h[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in h&&(u[t.options.charkey]=h[t.options.charkey],delete h[t.options.charkey]),Object.getOwnPropertyNames(h).length>0&&(u[t.options.childkey]=h),h=u;return r.length>0?t.assignOrPush(g,l,h):(t.options.explicitRoot&&(f=h,i(h={},l,f)),t.resultObject=h,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),n=function(t){return function(n){var i,o;if(o=r[r.length-1])return o[e]+=n,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[t.options.childkey]=o[t.options.childkey]||[],(i={"#name":"__text__"})[e]=n,t.options.normalize&&(i[e]=i[e].replace(/\s{2,}/g," ").trim()),o[t.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(t){var e;if(e=n(t))return e.cdata=!0}},o.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",(function(t){return this.reset(),n(null,t)})),this.on("error",(function(t){return this.reset(),n(t)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,l(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(t){if(r=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},o.prototype.parseStringPromise=function(t){return new Promise((e=this,function(n,r){return e.parseString(t,(function(t,e){return t?r(t):n(e)}))}));var e},o}(o),e.parseString=function(t,n,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),new e.Parser(o).parseString(t,i)},e.parseStringPromise=function(t,n){var r;return"object"==typeof n&&(r=n),new e.Parser(r).parseStringPromise(t)}}).call(this)},function(t,e,n){(function(t){!function(e){e.parser=function(t,e){return new o(t,e)},e.SAXParser=o,e.SAXStream=a,e.createStream=function(t,e){return new a(t,e)},e.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,n){if(!(this instanceof o))return new o(t,n);!function(t){for(var e=0,n=i.length;e<n;e++)t[i[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=_.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(u)),void 0===this.opt.unquotedAttributeValues&&(this.opt.unquotedAttributeValues=!t),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),T(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),o.prototype={end:function(){A(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return k(this,"Cannot write after close. Assign an onready handler.");if(null===t)return A(this);"object"==typeof t&&(t=t.toString());var n=0,r="";for(;r=B(t,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case _.BEGIN:if(this.state=_.BEGIN_WHITESPACE,"\ufeff"===r)continue;M(this,r);continue;case _.BEGIN_WHITESPACE:M(this,r);continue;case _.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=B(t,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(f(r)||this.sawRoot&&!this.closedRoot||C(this,"Text data outside of root node."),"&"===r?this.state=_.TEXT_ENTITY:this.textNode+=r):(this.state=_.OPEN_WAKA,this.startTagPosition=this.position);continue;case _.SCRIPT:"<"===r?this.state=_.SCRIPT_ENDING:this.script+=r;continue;case _.SCRIPT_ENDING:"/"===r?this.state=_.CLOSE_TAG:(this.script+="<"+r,this.state=_.SCRIPT);continue;case _.OPEN_WAKA:if("!"===r)this.state=_.SGML_DECL,this.sgmlDecl="";else if(f(r));else if(y(l,r))this.state=_.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=_.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=_.PROC_INST,this.procInstName=this.procInstBody="";else{if(C(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;r=new Array(s).join(" ")+r}this.textNode+="<"+r,this.state=_.TEXT}continue;case _.SGML_DECL:if(this.sgmlDecl+r==="--"){this.state=_.COMMENT,this.comment="",this.sgmlDecl="";continue}this.doctype&&!0!==this.doctype&&this.sgmlDecl?(this.state=_.DOCTYPE_DTD,this.doctype+="<!"+this.sgmlDecl+r,this.sgmlDecl=""):"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(S(this,"onopencdata"),this.state=_.CDATA,this.sgmlDecl="",this.cdata=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=_.DOCTYPE,(this.doctype||this.sawRoot)&&C(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(S(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=_.TEXT):g(r)?(this.state=_.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case _.SGML_DECL_QUOTED:r===this.q&&(this.state=_.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case _.DOCTYPE:">"===r?(this.state=_.TEXT,S(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=_.DOCTYPE_DTD:g(r)&&(this.state=_.DOCTYPE_QUOTED,this.q=r));continue;case _.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:"]"===r?(this.doctype+=r,this.state=_.DOCTYPE):"<"===r?(this.state=_.OPEN_WAKA,this.startTagPosition=this.position):g(r)?(this.doctype+=r,this.state=_.DOCTYPE_DTD_QUOTED,this.q=r):this.doctype+=r;continue;case _.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=_.DOCTYPE_DTD,this.q="");continue;case _.COMMENT:"-"===r?this.state=_.COMMENT_ENDING:this.comment+=r;continue;case _.COMMENT_ENDING:"-"===r?(this.state=_.COMMENT_ENDED,this.comment=j(this.opt,this.comment),this.comment&&S(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=_.COMMENT);continue;case _.COMMENT_ENDED:">"!==r?(C(this,"Malformed comment"),this.comment+="--"+r,this.state=_.COMMENT):this.doctype&&!0!==this.doctype?this.state=_.DOCTYPE_DTD:this.state=_.TEXT;continue;case _.CDATA:"]"===r?this.state=_.CDATA_ENDING:this.cdata+=r;continue;case _.CDATA_ENDING:"]"===r?this.state=_.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=_.CDATA);continue;case _.CDATA_ENDING_2:">"===r?(this.cdata&&S(this,"oncdata",this.cdata),S(this,"onclosecdata"),this.cdata="",this.state=_.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=_.CDATA);continue;case _.PROC_INST:"?"===r?this.state=_.PROC_INST_ENDING:f(r)?this.state=_.PROC_INST_BODY:this.procInstName+=r;continue;case _.PROC_INST_BODY:if(!this.procInstBody&&f(r))continue;"?"===r?this.state=_.PROC_INST_ENDING:this.procInstBody+=r;continue;case _.PROC_INST_ENDING:">"===r?(S(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=_.TEXT):(this.procInstBody+="?"+r,this.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:y(h,r)?this.tagName+=r:(I(this),">"===r?R(this):"/"===r?this.state=_.OPEN_TAG_SLASH:(f(r)||C(this,"Invalid character in tag name"),this.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:">"===r?(R(this,!0),N(this)):(C(this,"Forward-slash in opening tag not followed by >"),this.state=_.ATTRIB);continue;case _.ATTRIB:if(f(r))continue;">"===r?R(this):"/"===r?this.state=_.OPEN_TAG_SLASH:y(l,r)?(this.attribName=r,this.attribValue="",this.state=_.ATTRIB_NAME):C(this,"Invalid attribute name");continue;case _.ATTRIB_NAME:"="===r?this.state=_.ATTRIB_VALUE:">"===r?(C(this,"Attribute without value"),this.attribValue=this.attribName,D(this),R(this)):f(r)?this.state=_.ATTRIB_NAME_SAW_WHITE:y(h,r)?this.attribName+=r:C(this,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=_.ATTRIB_VALUE;else{if(f(r))continue;C(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",S(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?R(this):y(l,r)?(this.attribName=r,this.state=_.ATTRIB_NAME):(C(this,"Invalid attribute name"),this.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(f(r))continue;g(r)?(this.q=r,this.state=_.ATTRIB_VALUE_QUOTED):(this.opt.unquotedAttributeValues||k(this,"Unquoted attribute value"),this.state=_.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case _.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=_.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}D(this),this.q="",this.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:f(r)?this.state=_.ATTRIB:">"===r?R(this):"/"===r?this.state=_.OPEN_TAG_SLASH:y(l,r)?(C(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=_.ATTRIB_NAME):C(this,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!m(r)){"&"===r?this.state=_.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}D(this),">"===r?R(this):this.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(this.tagName)">"===r?N(this):y(h,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=_.SCRIPT):(f(r)||C(this,"Invalid tagname in closing tag"),this.state=_.CLOSE_TAG_SAW_WHITE);else{if(f(r))continue;b(l,r)?this.script?(this.script+="</"+r,this.state=_.SCRIPT):C(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case _.CLOSE_TAG_SAW_WHITE:if(f(r))continue;">"===r?N(this):C(this,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var a,c;switch(this.state){case _.TEXT_ENTITY:a=_.TEXT,c="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:a=_.ATTRIB_VALUE_QUOTED,c="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:a=_.ATTRIB_VALUE_UNQUOTED,c="attribValue"}if(";"===r){var u=L(this);this.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(u)?(this.entity="",this.state=a,this.write(u)):(this[c]+=u,this.entity="",this.state=a)}else y(this.entity.length?d:p,r)?this.entity+=r:(C(this,"Invalid character in entity name"),this[c]+="&"+this.entity+r,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),r=0,o=0,s=i.length;o<s;o++){var a=t[i[o]].length;if(a>n)switch(i[o]){case"textNode":E(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+i[o])}r=Math.max(r,a)}var c=e.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=c+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;E(t=this),""!==t.cdata&&(S(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(S(t,"onscript",t.script),t.script="")}};try{r=n(347).Stream}catch(t){r=function(){}}r||(r=function(){});var s=e.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function a(t,e){if(!(this instanceof a))return new a(t,e);r.apply(this),this._parser=new o(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,s.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(r.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var r=n(185).StringDecoder;this._decoder=new r("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===s.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),r.prototype.on.call(n,t,e)};var c="http://www.w3.org/XML/1998/namespace",u={xml:c,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function g(t){return'"'===t||"'"===t}function m(t){return">"===t||f(t)}function y(t,e){return t.test(e)}function b(t,e){return!y(t,e)}var v,w,x,_=0;for(var O in e.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[O]]=O;function T(t,e,n){t[e]&&t[e](n)}function S(t,e,n){t.textNode&&E(t),T(t,e,n)}function E(t){t.textNode=j(t.opt,t.textNode),t.textNode&&T(t,"ontext",t.textNode),t.textNode=""}function j(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function k(t,e){return E(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,T(t,"onerror",e),t}function A(t){return t.sawRoot&&!t.closedRoot&&C(t,"Unclosed root tag"),t.state!==_.BEGIN&&t.state!==_.BEGIN_WHITESPACE&&t.state!==_.TEXT&&k(t,"Unexpected end"),E(t),t.c="",t.closed=!0,T(t,"onend"),o.call(t,t.strict,t.opt),t}function C(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&k(t,e)}function I(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,S(t,"onopentagstart",n)}function P(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function D(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=P(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==c)C(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)C(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,S(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function R(t,e){if(t.opt.xmlns){var n=t.tag,r=P(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(C(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){S(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],c=a[0],u=a[1],l=P(c,!0),h=l.prefix,p=l.local,d=""===h?"":n.ns[h]||"",f={name:c,value:u,prefix:h,local:p,uri:d};h&&"xmlns"!==h&&!d&&(C(t,"Unbound namespace prefix: "+JSON.stringify(h)),f.uri=h),t.tag.attributes[c]=f,S(t,"onattribute",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),S(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=_.TEXT:t.state=_.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function N(t){if(!t.tagName)return C(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=_.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=_.SCRIPT);S(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;C(t,"Unexpected close tag")}if(e<0)return C(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=_.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,S(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];S(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=_.TEXT}function L(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(C(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function M(t,e){"<"===e?(t.state=_.OPEN_WAKA,t.startTagPosition=t.position):f(e)||(C(t,"Non-whitespace before first tag."),t.textNode=e,t.state=_.TEXT)}function B(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}_=e.STATE,String.fromCodePoint||(v=String.fromCharCode,w=Math.floor,x=function(){var t,e,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);if(!isFinite(a)||a<0||a>1114111||w(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(t=55296+((a-=65536)>>10),e=a%1024+56320,r.push(t,e)),(i+1===o||r.length>n)&&(s+=v.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:x,configurable:!0,writable:!0}):String.fromCodePoint=x)}(e)}).call(this,n(153).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,p=n?-1:1,d=t[e+h];for(h+=p,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=255&s,d+=f,s/=256,u-=8);t[n+d-f]|=128*g}},function(t,e,n){t.exports=i;var r=n(156).EventEmitter;function i(){r.call(this)}n(91)(i,r),i.Readable=n(182),i.Writable=n(355),i.Duplex=n(356),i.Transform=n(357),i.PassThrough=n(358),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var r=n(183).Buffer,i=n(350);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,i=a,e.copy(n,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,u={},l=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[c]=i,r(c),c++},p.clearImmediate=d}function d(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(25),n(94))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(25))},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(153),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=o;var r=n(244),i=Object.create(n(108));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(91),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(184)},function(t,e,n){t.exports=n(80)},function(t,e,n){t.exports=n(182).Transform},function(t,e,n){t.exports=n(182).PassThrough},function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},function(t,e,n){"use strict";var r,i=n(361),o=n(17),s=n(4),a=n(12),c=n(11),u=n(93),l=n(21),h=n(26),p=n(22).f,d=n(362),f=n(83),g=n(8),m=n(58),y=s.Int8Array,b=y&&y.prototype,v=s.Uint8ClampedArray,w=v&&v.prototype,x=y&&d(y),_=b&&d(b),O=Object.prototype,T=O.isPrototypeOf,S=g("toStringTag"),E=m("TYPED_ARRAY_TAG"),j=i&&!!f&&"Opera"!==u(s.opera),k=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},C={BigInt64Array:8,BigUint64Array:8},I=function(t){if(!a(t))return!1;var e=u(t);return c(A,e)||c(C,e)};for(r in A)s[r]||(j=!1);if((!j||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},j))for(r in A)s[r]&&f(s[r],x);if((!j||!_||_===O)&&(_=x.prototype,j))for(r in A)s[r]&&f(s[r].prototype,_);if(j&&d(w)!==_&&f(w,_),o&&!c(_,S))for(r in k=!0,p(_,S,{get:function(){return a(this)?this[E]:void 0}}),A)s[r]&&l(s[r],E,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:k&&E,aTypedArray:function(t){if(I(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(f){if(T.call(x,t))return t}else for(var e in A)if(c(A,r)){var n=s[e];if(n&&(t===n||T.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(o){if(n)for(var r in A){var i=s[r];if(i&&c(i.prototype,t))try{delete i.prototype[t]}catch(t){}}_[t]&&!n||h(_,t,n?e:j&&b[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(o){if(f){if(n)for(r in A)if((i=s[r])&&c(i,t))try{delete i[t]}catch(t){}if(x[t]&&!n)return;try{return h(x,t,n?e:j&&x[t]||e)}catch(t){}}for(r in A)!(i=s[r])||i[t]&&!n||h(i,t,e)}},isView:function(t){if(!a(t))return!1;var e=u(t);return"DataView"===e||c(A,e)||c(C,e)},isTypedArray:I,TypedArray:x,TypedArrayPrototype:_}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(11),i=n(78),o=n(79),s=n(363),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(9);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e){var n=Math.floor,r=function(t,e){var s=t.length,a=n(s/2);return s<8?i(t,e):o(r(t.slice(0,a),e),r(t.slice(a),e),e)},i=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},o=function(t,e,n){for(var r=t.length,i=e.length,o=0,s=0,a=[];o<r||s<i;)o<r&&s<i?a.push(n(t[o],e[s])<=0?t[o++]:e[s++]):a.push(o<r?t[o++]:e[s++]);return a};t.exports=r},function(t,e,n){var r=n(28).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(28);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(28).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){n(369);var r=n(373);t.exports=r},function(t,e,n){n(246)},function(t,e,n){var r=n(44),i=n(84),o=n(18)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(32);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(211).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(374),i=String.prototype;t.exports=function(t){var e=t.matchAll;return"string"==typeof t||t===i||t instanceof String&&e===i.matchAll?r:e}},function(t,e,n){n(246);var r=n(375);t.exports=r("String").matchAll},function(t,e,n){var r=n(104);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){var r=n(219),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));n(396),n(20),n(61);var r=n(379),i=n.n(r),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(t){return(t||"").toString().replace(a,"")}var u=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function h(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},s=typeof(e=e||r);if("blob:"===e.protocol)i=new d(unescape(e.pathname),{});else if("string"===s)for(n in i=new d(e,{}),l)delete i[n];else if("object"===s){for(n in e)n in l||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function p(t){t=c(t);var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function d(t,e){t=c(t);var n,r,o,s,a,l,d=u.slice(),f=this,g=0;for(e=h(e),n=!(r=p(t||"")).protocol&&!r.slashes,f.slashes=r.slashes||n&&e.slashes,f.protocol=r.protocol||e.protocol||"",t=r.rest,r.slashes||(d[3]=[/(.*)/,"pathname"]);g<d.length;g++)"function"!=typeof(s=d[g])?(o=s[0],l=s[1],o!=o?f[l]=t:"string"==typeof o?~(a=t.indexOf(o))&&("number"==typeof s[2]?(f[l]=t.slice(0,a),t=t.slice(a+s[2])):(f[l]=t.slice(a),t=t.slice(0,a))):(a=o.exec(t))&&(f[l]=a[1],t=t.slice(0,a.index)),f[l]=f[l]||n&&s[3]&&e[l]||"",s[4]&&(f[l]=f[l].toLowerCase())):t=s(t);n&&e.slashes&&"/"!==f.pathname.charAt(0)&&(""!==f.pathname||""!==e.pathname)&&(f.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(f.pathname,e.pathname)),i()(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(s=f.auth.split(":"),f.username=s[0]||"",f.password=s[1]||""),f.origin=f.protocol&&f.host&&"file:"!==f.protocol?f.protocol+"//"+f.host:"null",f.href=f.toString()}d.prototype={toString:function(){var t,e=this,n=e.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var r=n+(e.slashes?"//":"");return e.username&&(r+=e.username,e.password&&(r+=":"+e.password),r+="@"),r+=e.host+e.pathname,(t=e.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),e.hash&&(r+=e.hash),r}},d.extractProtocol=p,d.location=h,d.trimLeft=c}).call(this,n(25))},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(135);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class i{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(e=>t+=e+" "),this.element.setAttribute("class",t)}}}const o=new WeakMap,s=Object(r.e)(t=>e=>{if(!(e instanceof r.a)||e instanceof r.c||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=e,{element:s}=n;let a=o.get(e);void 0===a&&(s.setAttribute("class",n.strings.join(" ")),o.set(e,a=new Set));const c=s.classList||new i(s);a.forEach(e=>{e in t||(c.remove(e),a.delete(e))});for(const e in t){const n=t[e];n!=a.has(e)&&(n?(c.add(e),a.add(e)):(c.remove(e),a.delete(e)))}"function"==typeof c.commit&&c.commit()})},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(7);var r=n(2),i=n(403),o=n.n(i),s=n(307),a=n(15),c=n(13),u=n(161),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const h=[{text:i18n("todo_welcome"),todoId:"todo-id1dtkk87it2iepal6dv4hr2uig0c",time:Date.now(),updatetime:0,done:!1}];class p extends s.a{constructor(){super(...arguments),this.todoList=h,this.currenetState="done",this.listLength=localStorage.getItem("todo-length")||0}toggleState(t){this.currenetState=t}get needNotificationPermission(){return this.todoList.some(t=>!!t.dueDate)}diffRemote(t){const e=t=>{if(null==t?void 0:t.updatetime){const e={updatetime:void 0};return t.done=!!t.done,Object.assign(Object.assign({},t),e)}},n=o()(t.todoList||[],e),i=o()(Object(r.j)(this.todoList),e);return!r.d.structural(n,i)}mergeRemote(t,e){if(t.todoList)if(e)this.todoList=t.todoList;else{const e=this.todoList,n=t.todoList,{result:r}=a.a.mergeArray(e,n,"todoId");this.todoList=r}}edit(t){this.todoList=this.todoList.map(e=>e.todoId===t?Object.assign(Object.assign({},e),{edit:!e.edit}):e)}get hasDoneTodo(){return this.todoList.filter(t=>t.done).length}async addTodo(t){if(!t.trim().length)return;const e={done:!1,time:+new Date,todoId:a.a.randomId("todo-"),updatetime:await a.a.getTimestamp(),text:t};Object(r.i)(()=>{this.todoList=[e,...this.todoList]})}removeTodo(){this.todoList=this.todoList.filter(t=>!t.done)}deleteTodo(t){this.todoList=this.todoList.filter(e=>e.todoId!==t)}async toggleTodo(t){const e=await a.a.getTimestamp();Object(r.i)(()=>{this.todoList=this.todoList.map(n=>n.todoId===t?Object.assign(Object.assign({},n),{done:!n.done,updatetime:e}):Object.assign({},n))})}async updateTodo(t,e){const n=await a.a.getTimestamp();Object(r.i)(()=>{this.todoList=this.todoList.map(r=>r.todoId===t?Object.assign(Object.assign(Object.assign({},r),e),{updatetime:n,edit:!1}):Object.assign({},r))})}removeTime(t){this.todoList=this.todoList.map(e=>e.todoId===t?Object.assign(Object.assign({},e),{dueDate:"",dueTime:"",dueTimestamp:null}):e)}}l([r.g],p.prototype,"todoList",void 0),l([r.g],p.prototype,"currenetState",void 0),l([r.b],p.prototype,"toggleState",null),l([r.e],p.prototype,"needNotificationPermission",null),l([r.b],p.prototype,"mergeRemote",null),l([r.b],p.prototype,"edit",null),l([r.g],p.prototype,"listLength",void 0),l([r.e],p.prototype,"hasDoneTodo",null),l([r.b],p.prototype,"addTodo",null),l([r.b],p.prototype,"removeTodo",null),l([r.b],p.prototype,"deleteTodo",null),l([r.b],p.prototype,"toggleTodo",null),l([r.b],p.prototype,"updateTodo",null),l([r.b],p.prototype,"removeTime",null);const d=new p;d.initSyncStore(c.k,["todoList","listLength"],{}),d.initAutoBackup("todo",["todoList"]),Object(r.c)(()=>{if(d.firstSync){const t=d.todoList.filter(t=>!t.done).length;Object(r.i)(()=>{d.listLength=t}),localStorage.setItem("todo-length",t+"")}});let f=!1;Object(r.c)(()=>{if(d.firstSync){const t=d.todoList.filter(t=>!t.done&&t.dueTimestamp>Date.now()).map(t=>Object(r.j)(t));if(!f)return void(f=!0);u.slave.postTask("slave:change-todo",t)}}),Object(r.c)(()=>{let t=!1;const{todoList:e}=d;for(let n=0;n<e.length-1;n++){const{done:r}=e[n],i=e[n+1].done;if(r&&!i){t=!0;break}}t&&(Object(r.i)(()=>{const t=e.filter(t=>t.done),n=e.filter(t=>!t.done);d.todoList=[...n,...t]}),t=!1)},{delay:300})},,,function(t,e,n){var r=n(487),i=n(488),o=n(489),s=n(490),a=n(491);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(438);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(304)(Object,"create");t.exports=r},function(t,e,n){var r=n(510);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(441),i=n(442);t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var u=e[a],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),s?i(n,u,l):r(n,u,l)}return n}},,,,,,function(t,e,n){"use strict";n.r(e);var r=n(5),i=n.n(r),o=n(224),s=n(428),a=n(1),c=n(2),u=a.b`.i-bubble {
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 99999999;
}
.i-bubble.network-error .i-bubble-wrap,
.i-bubble.error .i-bubble-wrap,
.i-bubble.success .i-bubble-wrap {
  padding-left: 30px;
  padding-right: 32px;
}
.i-bubble + .i-bubble-mask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  z-index: 999999;
  display: none;
  opacity: 0;
  transition: opacity 150ms ease-in 0s;
}
.i-bubble.loading + .i-bubble-mask {
  display: block;
}
.i-bubble.loading.popup + .i-bubble-mask {
  opacity: 1;
}
.i-bubble .i-bubble-wrap {
  margin: 0 auto;
  box-sizing: border-box;
  padding: 12px 20px;
  background-color: #333;
  box-shadow: 0px 2px 20px 0px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  font-size: 14px;
  line-height: 1.4em;
  transition: opacity 0.15s cubic-bezier(0, 0, 0.2, 1) 0ms, transform 0.15s cubic-bezier(0, 0, 0.2, 1) 0ms;
  transform: scale(0.8);
  opacity: 0;
  box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);
  max-width: 600px;
}
.i-bubble.popup .i-bubble-wrap {
  transform: scale(1);
  opacity: 1;
}
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.i-bubble .icon {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  margin-right: 12px;
  display: none;
}
.i-bubble .icon.icon-loading {
  animation: spin 700ms linear infinite;
}
.i-bubble .i-bubble-text {
  color: #e4e4e4;
  display: block;
  box-sizing: border-box;
  flex-grow: 1;
  width: 100%;
  word-break: break-all;
}
.i-bubble .i-bubble-button {
  width: 70px;
  height: 28px;
  color: #4caf50;
  background-color: initial;
  border: none;
  padding: 0;
  cursor: pointer;
  transition: color, background-color 200ms;
  border-radius: 4px;
  outline: none;
  max-width: 180px;
  margin-left: 46px;
  flex-shrink: 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.i-bubble .i-bubble-button:hover {
  background-color: rgba(76, 175, 80, 0.14);
}
`,l=n(15),h=n(51),p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const d=Object(h.a)("network-error.png",!1),f=Object(h.a)("error.png",!1),g=Object(h.a)("success.png",!1),m=Object(h.a)("loading.png",!1);class y extends o.a{constructor(){super(...arguments),this.popup=!1,this.showButton=!1}static _timeToHideHandler(t){if(t.showButton){const e=t.shadowRoot.querySelector(".i-bubble .i-bubble-button");e.onclick&&(e.onclick=null)}const e=t.shadowRoot.querySelector(".i-bubble > .i-bubble-wrap");let n=!1;const r=()=>{t.onmouseenter=null,t.onmouseleave=null,document.body.contains(t)&&document.body.removeChild(t),n=!0};e.addEventListener("transitionend",r,{once:!0}),e.addEventListener("transitioncancel",r,{once:!0}),setTimeout(()=>{n||r()},150),t.setPopup(!1)}static _setTimerToHide(t,e){this._clearTimerToHide(t),t.hideTimer=setTimeout(()=>this._timeToHideHandler(t),e)}static _clearTimerToHide(t){t.hideTimer&&(clearTimeout(t.hideTimer),t.hideTimer=null)}static _messageMisc(t,e,n){this.setText(t),document.body.appendChild(this),window.customElements.whenDefined("i-bubble").then(()=>(this.offsetWidth,this.setPopup(!0),new i.a(t=>requestAnimationFrame(t)))).then(()=>{n&&n(this)}),e>0&&y._setTimerToHide(this,e)}static message(t,e){const n=document.createElement("i-bubble");n.setType("message"),e=null!=e?e:this.duration,this._messageMisc.call(n,t,e)}static networkError(t,e){const n=document.createElement("i-bubble");n.setType("network-error"),e=null!=e?e:this.duration,this._messageMisc.call(n,t,e)}static success(t,e){const n=document.createElement("i-bubble");n.setType("success"),e=null!=e?e:this.duration,this._messageMisc.call(n,t,e)}static error(t,e){const n=document.createElement("i-bubble");n.setType("error"),e=null!=e?e:this.duration,this._messageMisc.call(n,t,e)}static popupLogin(t){const e=this.popup(i18n("reqeust_login_message"),{showButton:!0,btnValue:i18n("to_login"),type:"message",onBtnClick:null!=t?t:()=>{s.userStore.openModal()}}),n=Date.now();let r=this.duration2;e.onmouseenter=()=>{r=Date.now()-n,y._clearTimerToHide(e)},e.onmouseleave=()=>{y._setTimerToHide(e,r)}}static popupAddHomeAI(t){const e=this.popup(i18n("add_infinity_ai"),{showButton:!0,btnValue:i18n("add_now"),type:"message",onBtnClick:t,duration:8e3}),n=Date.now();let r=this.duration2;e.onmouseenter=()=>{r=Date.now()-n,y._clearTimerToHide(e)},e.onmouseleave=()=>{y._setTimerToHide(e,r)}}static popupLoading(t){const e=this.popup(i18n("wallpaper_loading"),{duration:0,showButton:!0,btnValue:i18n("cancel"),type:"loading",onBtnClick:t});return()=>setTimeout(()=>this._timeToHideHandler(e),y.waitForReady)}static loading(t){const e=this.popup(t,{type:"loading",duration:0});return()=>setTimeout(()=>this._timeToHideHandler(e),y.waitForReady)}static popup(t,e){const{duration:n=this.duration2,btnValue:r,onBtnClick:i,type:o,showButton:s}=e,a=document.createElement("i-bubble");return a.setType(o),r&&a.setBtnValue(r),s&&a.setShowButton(s),this._messageMisc.call(a,t,n,()=>{if(a.showButton){a.shadowRoot.querySelector(".i-bubble .i-bubble-button").onclick=t=>{i&&i(t),this._timeToHideHandler(a)}}}),a}firstUpdated(){const t="\n      background-size: cover;\n      background-repeat: no-repeat;\n      background-position: center;\n      display: block;\n    ",e=document.createElement("style");e.appendChild(document.createTextNode(`\n      .i-bubble .icon.icon-network-error{\n        background-image: url(${d});${t}\n      }\n      .i-bubble .icon.icon-success{\n        background-image: url(${g});${t}\n      }\n      .i-bubble .icon.icon-error{\n        background-image: url(${f});${t}\n      }\n      .i-bubble .icon.icon-loading{\n        background-image: url(${m});${t}\n      }\n      `)),this.shadowRoot.appendChild(e)}render(){return a.e`
      <section class="i-bubble ${this.type}${this.popup?" popup":""}">
        <section class="i-bubble-wrap">
          <i class="icon icon-${this.type}"></i>
          <span class="i-bubble-text">${this.text}</span>
          <input
            class="i-bubble-button"
            type="button"
            .value=${this.btnValue}
            style="${this.showButton?"":"display: none;"}"
          />
        </section>
      </section>
      <section class="i-bubble-mask" @click=${l.a.stopBubble}></section>
    `}setType(t){this.type=t}setText(t){this.text=t}setBtnValue(t){this.btnValue=t}setPopup(t){this.popup=t}setShowButton(t){this.showButton=t}}y.duration=3e3,y.duration2=5e3,y.waitForReady=1e3/60,y.styles=u,p([c.g],y.prototype,"type",void 0),p([c.g],y.prototype,"text",void 0),p([c.g],y.prototype,"btnValue",void 0),p([c.g],y.prototype,"popup",void 0),p([c.g],y.prototype,"showButton",void 0),p([c.b],y.prototype,"setType",null),p([c.b],y.prototype,"setText",null),p([c.b],y.prototype,"setBtnValue",null),p([c.b],y.prototype,"setPopup",null),p([c.b],y.prototype,"setShowButton",null),window.customElements.define("i-bubble",y);e.default=y},function(t,e,n){var r=n(17),i=n(4),o=n(60),s=n(399),a=n(21),c=n(22).f,u=n(101).f,l=n(400),h=n(215),p=n(216),d=n(26),f=n(9),g=n(11),m=n(48).enforce,y=n(102),b=n(8),v=n(217),w=n(218),x=b("match"),_=i.RegExp,O=_.prototype,T=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,S=/a/g,E=/a/g,j=new _(S)!==S,k=p.UNSUPPORTED_Y,A=r&&(!j||k||v||w||f((function(){return E[x]=!1,_(S)!=S||_(E)==E||"/a/i"!=_(S,"i")})));if(o("RegExp",A)){for(var C=function(t,e){var n,r,i,o,c,u,p=this instanceof C,d=l(t),f=void 0===e,y=[],b=t;if(!p&&d&&f&&t.constructor===C)return t;if((d||t instanceof C)&&(t=t.source,f&&(e="flags"in b?b.flags:h.call(b))),t=void 0===t?"":String(t),e=void 0===e?"":String(e),b=t,v&&"dotAll"in S&&(r=!!e&&e.indexOf("s")>-1)&&(e=e.replace(/s/g,"")),n=e,k&&"sticky"in S&&(i=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,"")),w&&(t=(o=function(t){for(var e,n=t.length,r=0,i="",o=[],s={},a=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(e=t.charAt(r)))e+=t.charAt(++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:T.test(t.slice(r+1))&&(r+=2,c=!0),i+=e,u++;continue;case">"===e&&c:if(""===l||g(s,l))throw new SyntaxError("Invalid capture group name");s[l]=!0,o.push([l,u]),c=!1,l="";continue}c?l+=e:i+=e}return[i,o]}(t))[0],y=o[1]),c=s(_(t,e),p?this:O,C),(r||i||y.length)&&(u=m(c),r&&(u.dotAll=!0,u.raw=C(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=t.charAt(r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+t.charAt(++r);return i}(t),n)),i&&(u.sticky=!0),y.length&&(u.groups=y)),t!==b)try{a(c,"source",""===b?"(?:)":b)}catch(t){}return c},I=function(t){t in C||c(C,t,{configurable:!0,get:function(){return _[t]},set:function(e){_[t]=e}})},P=u(_),D=0;P.length>D;)I(P[D++]);O.constructor=C,C.prototype=O,d(i,"RegExp",C)}y("RegExp")},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));class r{constructor(){this._caches={},this._setCaches=t=>(...e)=>{this._caches[t]=e}}}const i=[],o=t=>new Proxy(t,{set:(t,e,n)=>null===n?(t[e]=n,!0):"function"==typeof t[e]?(console.warn("失败：重复注册"),!0):(t[e]=n,i.includes(e)&&delete t._caches[e],t._caches.hasOwnProperty(e)&&(t[e](...t._caches[e]),delete t._caches[e]),!0),get:(t,e)=>"function"==typeof t[e]?t[e]:t._setCaches(e)})},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(5),i=n.n(r),o=(n(7),n(0)),s=n(85);async function a(){if(o.s||o.r){if("granted"!==await new i.a(t=>{!function(){try{Notification.requestPermission().then()}catch(t){return!1}return!0}()?Notification.requestPermission(t):Notification.requestPermission().then(t)}))throw new Error}else await s.a.request(["notifications"])}},function(t,e,n){var r=n(12),i=n(83);t.exports=function(t,e,n){var o,s;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&i(t,s),t}},function(t,e,n){var r=n(12),i=n(33),o=n(8)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}},t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){var r=n(485);t.exports=function(t,e){return r(t,5,e="function"==typeof e?e:void 0)}},,function(t,e,n){var r=n(304)(n(150),"Map");t.exports=r},function(t,e,n){var r=n(443),i=n(524),o=n(447);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(310),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(408)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(443),i=n(527),o=n(447);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(532),i=n(448),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},function(t,e,n){var r=n(536),i=n(405),o=n(537),s=n(538),a=n(539),c=n(248),u=n(440),l=u(r),h=u(i),p=u(o),d=u(s),f=u(a),g=c;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||s&&"[object Set]"!=g(new s)||a&&"[object WeakMap]"!=g(new a))&&(g=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(542);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));n(20),n(61),n(7);var r=n(1),i=n(224),o=r.b`:host {
  width: 100%;
  box-sizing: border-box;
  padding: 24px 20px 60px;
  display: flex;
  flex-direction: column;
  background-color: #fff;
}
textarea,
input {
  font-family: 'PingFang SC', 'Microsoft Yahei', Helvetica, Arial, sans-serif;
}
.error {
  margin-left: 6px;
  font-size: 14px;
  font-weight: 400;
  color: #ea4747;
}
.box-dynamic {
  padding-bottom: 30px;
}
.item-icon {
  height: 70px;
}
.img-item-box:not([hidden]) {
  display: flex;
  align-items: flex-end;
}
.img-item {
  width: 60px;
  background-color: #dddddd;
  background-image: linear-gradient(45deg, #ffffff 25%, transparent 0px, transparent 75%, #ffffff 0px), linear-gradient(45deg, #ffffff 25%, transparent 0px, transparent 75%, #ffffff 0px);
  background-position: 0px 0px, 5px 5px;
  background-size: 10px 10px;
  border-radius: 6px;
}
.item {
  position: relative;
  margin-bottom: 20px;
}
.item .label-box {
  margin-bottom: 8px;
  display: flex;
  align-items: center;
}
.item .label-box .label {
  font-weight: 500;
  color: #333333;
}
.item .label-box .tip-question {
  margin-left: 2px;
  width: 16px;
  height: 16px;
  cursor: pointer;
}
.item #icon-preview {
  border: 4px solid #f6f6f6;
  transform: scale(0.25);
  transform-origin: left top;
  position: relative;
  border-radius: 30px;
  background-color: #ddd;
  background-image: linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0), linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0);
  background-position: 0 0, 20px 20px;
  background-size: 40px 40px;
}
.item .img-dropper {
  position: relative;
  margin-right: 8px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  vertical-align: bottom;
  width: 60px;
  height: 60px;
  background: #ffffff;
  background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23C3C3C3FF' stroke-width='1' stroke-dasharray='5%2c 6' stroke-dashoffset='12' stroke-linecap='butt'/%3e%3c/svg%3e");
  border-radius: 6px;
  cursor: pointer;
}
.item .img-dropper[hidden] {
  display: none;
}
.item .img-preview {
  background-size: cover;
  border: 1px solid #dadce0;
  box-sizing: border-box;
}
.item .img-preview .editing:hover {
  opacity: 1;
}
.item .img-preview .editing {
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.3);
  transition: opacity 0.2s;
}
.item .img-preview .editing-icon {
  width: 28px;
  height: 28px;
}
.item .img-preview i-svg {
  --size: 90%;
  color: #fff;
  opacity: 0.8;
  cursor: pointer;
}
.item .img-preview i-svg:hover {
  opacity: 1;
  color: #fff;
}
.item input::placeholder,
.item .input::placeholder,
.item textarea::placeholder {
  color: #999999;
}
.item input[type='text'],
.item .input {
  outline: none;
  border: none;
  border-bottom: 1px solid #eee;
  line-height: 1;
  height: 30px;
  box-sizing: border-box;
  padding-bottom: 6px;
  width: 100%;
  color: #333333;
}
.item .input {
  height: auto;
  max-height: 50px;
  line-height: 16px;
  max-width: 100%;
  min-width: 100%;
  resize: none;
}
.item input:-moz-read-only {
  cursor: not-allowed;
}
.item input:read-only {
  cursor: not-allowed;
}
.item textarea.target {
  outline: none;
  width: 100%;
  height: 90px;
  box-sizing: border-box;
  padding: 10px;
  background: #ffffff;
  border-radius: 6px;
  border: 1px solid #eeeeee;
  resize: none;
  word-break: break-all;
  color: #333333;
}
.item input[type='file'] {
  width: 100px;
}
.item.btn-box {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.item.btn-box infinito-button {
  width: 220px;
  height: 38px;
  background: #333333;
  border-radius: 6px;
  outline: none;
  border: none;
  cursor: pointer;
  font-weight: 500;
  color: #ffffff;
}
.item.btn-box infinito-button:disabled {
  background: rgba(51, 51, 51, 0.7);
}
.item.btn-box .btn-cancel {
  margin-top: 14px;
  background: #eeeeee;
  border-radius: 6px;
  font-size: 14px;
  color: #333333;
}
.item.btn-box .btn-cancel:hover {
  background: #c8c8c8;
}
.del {
  position: absolute;
  width: 18px;
  height: 18px;
  top: -6px;
  right: -6px;
  cursor: pointer;
  transition: transform 0.2s;
}
.del:hover {
  transform: scale(1.1);
}
.svg-box {
  width: 70px;
  height: 70px;
  border: 1px solid #f6f6f6;
  box-sizing: border-box;
  position: relative;
  border-radius: 6px;
  background-color: #ddd;
  background-image: linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0), linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0);
  background-position: 0 0, 5px 5px;
  background-size: 10px 10px;
  overflow: hidden;
}
`,s=(n(476),n(477),n(478),n(479),r.b`.ellipsis {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
i-input {
  display: block;
  margin-top: 20px;
}
.label-box {
  max-width: 100%;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
}
.label-box .label {
  height: 20px;
  font-size: 14px;
  font-weight: 500;
  color: #333333;
  line-height: 20px;
  white-space: nowrap;
}
.imgs-box {
  display: flex;
}
.img-item-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 60px;
}
.img-item-box .name {
  margin-top: 8px;
  max-width: 80px;
  height: 16px;
  font-size: 11px;
  line-height: 16px;
  font-weight: 400;
  color: #b3b3b3;
}
.active .img-item {
  box-shadow: 0px 4px 8px 0px rgba(59, 62, 64, 0.73);
}
.active .name {
  font-weight: 500;
  color: #4d4d4d;
}
.img-item {
  width: 60px;
  height: 60px;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.2s box-shadow;
}
.color-img {
  overflow: hidden;
}
.cloud-imgs-box {
  display: flex;
}
.cloud-imgs-box .cloud-img-box:not(:last-of-type) {
  margin-right: 10px;
}
.color-img-box {
  margin-right: 17px;
  position: relative;
}
.color-img-box:after {
  position: absolute;
  top: 8px;
  content: '';
  right: -17px;
  width: 1px;
  height: 48px;
  background: #eceeee;
}
.local-img-box {
  position: relative;
  margin-left: 17px;
}
.cloud-imgs-box + .local-img-box:after {
  position: absolute;
  top: 8px;
  content: '';
  left: -17px;
  width: 1px;
  height: 48px;
  background: #eceeee;
}
.cloud-imgs-box {
  margin: 0 17px;
}
.color-type-box {
  position: relative;
  margin-top: 18px;
  padding: 20px;
  padding-top: 1px;
  background: #f5f8fa;
}
.color-type-box:after {
  position: absolute;
  content: '';
  top: -19px;
  left: 20px;
  width: 0;
  height: 0;
  border: 10px solid transparent;
  border-bottom: 10px solid #f5f8fa;
}
.permission-img {
  background: #ffffff;
  background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23C3C3C3FF' stroke-width='1' stroke-dasharray='5%2c 6' stroke-dashoffset='12' stroke-linecap='butt'/%3e%3c/svg%3e");
  display: flex;
  align-items: center;
  justify-content: center;
}
.permission-img img {
  width: 28px;
  height: 28px;
}
.error {
  margin-left: 6px;
  font-size: 14px;
  font-weight: 400;
  color: #ea4747;
}
`),a=n(23),c=n(106),u=n(85),l=n(0),h=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let p=class extends i.a{constructor(){super(...arguments),this.hasPermission=!1,this.imgType="local",this.imgIndex=0,this.localImageError=!1,this.localImagePreViewUrl="",this.cloudImgs=[],this.offsetRight=0,this.modalBorderRadius="3px",this.isAutoBgText=!0,this.colors=["rgba(255,71,52,1)","rgba(255,122,9,1)","rgba(255,207,12,1)","rgba(42,233,121,1)","rgba(44,214,223,1)","rgba(0,116,255,1)","rgba(109,9,255,1)","rgba(255,36,160,1)"],this.handleValue=async()=>{try{await this.saveImage()}catch(t){return!!this.localImagePreViewUrl&&(t&&t.message?c.message.error(t.message):c.message.error(t||"upload error"),!1)}return!0},this.getPermissionUrl=()=>{let t=[];return t=l.k?["http://*/","https://*/"]:l.r?"<all_urls>":["<all_urls>"],t}}changeValue(t){const e=new CustomEvent("on-change",{detail:{value:t}});this.dispatchEvent(e)}getAutoBgText(){if(!this.isAutoBgText)return;const{name:t}=this.value;let e="";e=t.length>3?t.substr(0,2):t,this.changeValue({bgText:e})}choosetextImg(){this.changeValue({bgType:"color"})}chooseCloudImg(t){this.changeValue({bgType:"image"}),this.imgType="cloud",this.imgIndex=t}chooseLocalImg(){this.changeValue({bgType:"image"}),this.imgType="local"}async saveImage(){if("color"===this.value.bgType)this.value.bgColor||this.changeValue({bgColor:this.colors[0]});else if("image"===this.value.bgType){let t={};if("cloud"===this.imgType){const e=this.$cloudIcons.querySelectorAll("i-imgicon")[this.imgIndex];t=await e.getImg()}else if("local"===this.imgType)if(this.localImagePreViewUrl)t=await this.$localicon.getImg();else{if(!this.value.bgImage)throw this.localImageError=!0,new Error("none img");t={url:this.value.bgImage,bgColor:this.value.bgColor}}this.changeValue({bgImage:t.url,bgColor:t.bgColor})}}getFormateUrl(t){return t.includes(":")?t:"http://"+this.value.target}renderCloudImgs(){return r.e`
      <div class="cloud-imgs-box">
        ${this.cloudImgs.map((t,e)=>r.e`<div
            class="img-item-box cloud-img-box ${"image"===this.value.bgType&&"cloud"===this.imgType&&this.imgIndex===e?"active":""}"
          >
            <div class="img-item cloud-img">
              <i-imgicon
                .preViewImgUrl="${t.url}"
                .bgColor="${"transparent"}"
                .canDelete="${!1}"
                .modalBorderRadius="${this.modalBorderRadius}"
                .active="${"image"===this.value.bgType&&"cloud"===this.imgType&&this.imgIndex===e}"
                @on-change="${()=>{this.chooseCloudImg(e)}}"
                .iconType="${this.iconType}"
              ></i-imgicon>
            </div>
            <div class="name ellipsis">${i18n("icon")}${"0"+(e+1)}</div>
          </div>`)}
      </div>
    `}async getUrlIcon(){if(await this.checkPermission(),this.hasPermission||l.s){const t=this.getFormateUrl(this.value.target),e=await a.a.getLogoList(t);if(e.error&&e.error.__CANCEL__)return;const n=e.data||[];if(n.length<2&&l.l){const e=await a.a.getUrlIcon(t.split("?")[0]);e.data&&e.data.length>0&&(n.push(...e.data),n.length=2)}this.cloudImgs=n.map(t=>({url:t}))}}async getPermission(){try{await u.a.request([],this.getPermissionUrl()),this.hasPermission=!0,window.__INFINITY__.hasAllUrlPermission=this.hasPermission,this.getUrlIcon()}catch(t){console.log("getPermission ~ error",t)}}async checkPermission(){try{const t=await u.a.has([],this.getPermissionUrl());this.hasPermission=!!t,window.__INFINITY__.hasAllUrlPermission=this.hasPermission}catch(t){console.log("checkPermission ~ error",t)}}renderPermissionIcon(){return r.e`
      <div class="cloud-imgs-box">
        <div class="img-item-box cloud-img-box ">
          <div @click="${this.getPermission}" class="img-item permission-img">
            <img src="${n(553)}" alt="" />
          </div>
          <div class="name ellipsis">${i18n("get_cloud_icon")}</div>
        </div>
      </div>
    `}firstUpdated(t){this.checkPermission(),t.has("value")&&(this.value.name&&this.getAutoBgText(),this.value.target&&this.getUrlIcon())}updated(t){const e=e=>{const n=t.get("value");return!n||("target"===e?n[e].split("?")[0]!==this.value[e].split("?")[0]:n[e]!==this.value[e])};t.has("value")&&(e("name")&&this.getAutoBgText(),e("target")&&this.getUrlIcon())}render(){return r.e`
      <section class="i-edit-img">
        <div class="item">
          <div class="label-box">
            <span class="label">${i18n("select_icon")}</span>
            <span
              .hidden="${"image"!==this.value.bgType||"local"!==this.imgType||!this.localImageError}"
              class="error ellipsis"
              >* ${i18n("please_upload_photos")}</span
            >
          </div>
          <div class="imgs-box">
            <div class="img-item-box color-img-box ${"color"===this.value.bgType?"active":""}">
              <div class="img-item color-img" @click="${this.choosetextImg}">
                <i-texticon
                  .bgColor="${this.value.bgColor||this.colors[0]}"
                  .bgFont="${this.value.bgFont}"
                  .bgText="${this.value.bgText}"
                ></i-texticon>
              </div>
              <div class="name ellipsis">${i18n("color_icon")}</div>
            </div>
            ${this.cloudImgs.length?this.renderCloudImgs():!1===this.hasPermission&&l.l&&!l.h?this.renderPermissionIcon():null}
            <div
              class="img-item-box local-img-box ${"image"===this.value.bgType&&"local"===this.imgType?"active":""}"
            >
              <div class="img-item local-img">
                <i-imgicon
                  class="local-img-icon"
                  .qiniu="${!0}"
                  .preViewImgUrl="${this.value.bgImage}"
                  .bgColor="${this.value.bgColor||"transparent"}"
                  .canDelete="${!0}"
                  .modalBorderRadius="${this.modalBorderRadius}"
                  .active=${"image"===this.value.bgType&&"local"===this.imgType}
                  @on-change="${t=>{this.localImagePreViewUrl=t.detail.preViewImgUrl,this.localImagePreViewUrl&&this.chooseLocalImg()}}"
                ></i-imgicon>
              </div>
              <div class="name ellipsis">${i18n("local_icon")}</div>
            </div>
          </div>
        </div>
        <div .hidden="${"color"!==this.value.bgType}" class="color-type-box">
          <i-input name="displayname" .label=${i18n("icon_bg_text")} .placeholder=${i18n("please_input_bg_text")}>
            <div class="bg-text" slot="input">
              <i-textarea
                .value="${this.value.bgText}"
                .placeholder="${i18n("show_name")}"
                @on-change="${t=>{this.changeValue({bgText:t.detail.value}),this.isAutoBgText=!1}}"
              ></i-textarea>
            </div>
          </i-input>
          <i-input name="displayfont" .label=${i18n("font_size")}>
            <div class="slider" style="margin-top: -2px;" slot="input">
              <infinito-slider
                style="--bg-color: #f5f8fa;"
                @on-change="${t=>{this.changeValue({bgFont:t.detail.value})}}"
                .value=${this.value.bgFont}
                .min=${14}
                .max=${74}
              ></infinito-slider>
            </div>
          </i-input>
          <i-input name="displaycolor" style="margin-top: 16px;" .label=${i18n("color")}>
            <div class="color" style="margin-top:14px;" slot="input">
              <i-colorpicker
                .side="${!0}"
                .value="${this.value.bgColor||this.colors[0]}"
                .colors="${this.colors}"
                .offsetRight="${this.offsetRight}"
                @on-change="${t=>{this.changeValue({bgColor:t.detail.value})}}"
              ></i-colorpicker>
            </div>
          </i-input>
        </div>
      </section>
    `}};p.styles=[s],h([Object(r.f)()],p.prototype,"hasPermission",void 0),h([Object(r.f)()],p.prototype,"imgType",void 0),h([Object(r.f)()],p.prototype,"imgIndex",void 0),h([Object(r.f)()],p.prototype,"localImageError",void 0),h([Object(r.f)()],p.prototype,"localImagePreViewUrl",void 0),h([Object(r.f)()],p.prototype,"cloudImgs",void 0),h([Object(r.g)({type:Object})],p.prototype,"value",void 0),h([Object(r.g)({type:Number})],p.prototype,"offsetRight",void 0),h([Object(r.g)({type:String})],p.prototype,"iconType",void 0),h([Object(r.g)({type:String})],p.prototype,"modalBorderRadius",void 0),h([Object(r.h)(".cloud-imgs-box")],p.prototype,"$cloudIcons",void 0),h([Object(r.h)("i-texticon")],p.prototype,"$texticon",void 0),h([Object(r.h)(".local-img-icon")],p.prototype,"$localicon",void 0),p=h([Object(r.c)("i-edit-img")],p);var d=n(2),f=n(15),g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};class m{async getTargetInfo(t,e){const{data:n,error:r}=await a.a.getUrlInfoWithPermission(t.split("?")[0]);if(null==r?void 0:r.__CANCEL__)return;if(r)return e?{name:"",bgText:""}:null;return{name:function(t){const e={lt:"<",gt:">",nbsp:" ",lrm:"",amp:"&",quot:'"'};return t.replace(/&(lt|gt|nbsp|amp|quot|lrm);/gi,(t,n)=>e[n])}(n.name),bgText:""}}async uploadIcon(t,e){var n,r;const{data:i,error:o}=await a.e.uploadFile(t,f.a.randomId("icon-")+".png",e);if(o){return{error:(null===(r=null===(n=o.response)||void 0===n?void 0:n.data)||void 0===r?void 0:r.error)?o.response.data.error:o.message,url:""}}return{url:i.url,error:""}}}g([d.b],m.prototype,"getTargetInfo",null),g([d.b],m.prototype,"uploadIcon",null);const y=new m;var b=n(6),v=n(308),w=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let x=class extends r.a{constructor(){super(...arguments),this.show=!1,this.closeModal=()=>{this.show=!1;const t=new CustomEvent("on-close",{});this.dispatchEvent(t)}}render(){return r.e`
      <infinito-modal style="--modal-padding:0;" .open=${this.show} .onCancel="${this.closeModal}">
        <div slot="body">
          <div class="container">
            <h2 class="title">${i18n("tip_question_title")}</h2>
            <span class="gap-line"></span>
            <div class="global-scrollbar" style="height: calc(100% - 81px);">
              <div class="content">
                <div class="card">
                  <div class="label">${i18n("tip_question_1")}</div>
                  <div class="img-box">
                    <img class="item-img" src="${n(554)}" alt="" />
                  </div>
                </div>
                <div class="card">
                  <div class="label">${i18n("tip_question_2")}</div>
                  <div class="img-box img-box-2">
                    <img class="item-img" src="${n(555)}" alt="" />
                    <div class="item-tip">${i18n("copy")}</div>
                  </div>
                </div>
                <div class="card">
                  <div class="label">${i18n("tip_question_3")}</div>
                  <div class="img-box img-box-3">
                    <img class="item-img" src="${n(556)}" alt="" />
                    <div class="item-tip tip3-box">
                      <div class="tip3-item">
                        <div class="tip3-label-box">
                          <span class="tip3-label">${i18n("search_engine")}</span>
                        </div>
                        <span class="input">${i18n("placeholder_name")}</span>
                      </div>
                      <div class="tip3-item">
                        <div class="tip3-label-box">
                          <span class="tip3-label">${i18n("website_search_replace_char")}</span
                          ><img class="tip-question" src="${n(453)}" alt="" />
                        </div>
                        <span class="input">https://www.google.com/search?sxsrf=ALeKk02...</span>
                        <img class="tip3-arrow" src="${n(557)}" alt="" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </infinito-modal>
    `}};x.styles=[v.a,r.b`
      .container {
        width: 800px;
        height: 70vh;
        min-height: 400px;
        max-height: 1000px;
        text-align: center;
        box-sizing: border-box;
        overflow: hidden;
      }
      .title {
        margin: 26px auto;
        height: 28px;
        font-size: 20px;
        font-weight: 500;
        color: #333333;
        line-height: 28px;
      }
      .gap-line {
        margin: auto;
        display: block;
        width: 720px;
        height: 1px;
        background: #ebebeb;
      }
      .content {
        padding: 33px 114px 50px;
        padding-right: 0;
        width: 572px;
        box-sizing: content-box;
        text-align: left;
      }
      .card {
        padding-bottom: 50px;
      }
      .label {
        font-size: 16px;
        font-weight: 400;
        color: #333333;
        line-height: 22px;
      }
      .img-box {
        position: relative;
        margin-top: 20px;
      }
      .img-box .item-img {
        width: 572px;
        height: 235px;
      }
      .item-tip {
        position: absolute;
        font-size: 14px;
        font-weight: 400;
        color: #333333;
        line-height: 20px;
      }
      .img-box-2 .item-tip {
        top: 86px;
        left: 396px;
      }
      .tip3-box {
        top: 64px;
        left: 138px;
      }
      .tip3-item {
        position: relative;
        margin-bottom: 20px;
        width: 320px;
      }
      .tip3-label-box {
        margin-bottom: 12px;
        display: flex;
        align-items: center;
      }
      .tip3-label {
        height: 20px;
        font-size: 14px;
        font-weight: 500;
        color: #333333;
        line-height: 20px;
      }
      .tip3-item .input {
        display: block;
        overflow: hidden;
        text-overflow: clip;
        white-space: nowrap;
        word-break: keep-all;
        border-bottom: 1px solid #eeeeee;
        box-sizing: content-box;
        padding-bottom: 6px;
        width: 100%;
        font-size: 14px;
        font-weight: 400;
        color: #656565;
        opacity: 0.8;
        width: 319px;
        height: 20px;
        line-height: 20px;
      }
      .tip-question {
        margin-left: 2px;
        width: 16px;
        height: 16px;
      }
      .tip3-arrow {
        width: 30px;
        height: 30px;
        position: absolute;
        left: -34px;
        bottom: 10px;
      }
    `],w([Object(r.g)({type:Boolean})],x.prototype,"show",void 0),x=w([Object(r.c)("tip-question")],x);var _,O=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let T=_=class extends i.a{constructor(){super(),this.sideRatio=1,this.popup=!1,this.iconType="custom-icon",this.readonlyTarget=!1,this.subSpin=!1,this.isAutoName=!0,this.validate={name:null,target:null},this.tipQuestion=!1,this.value=Object.assign({},_.defaultValue)}_changeTarget(t,e=!1){e?this.changeValue({target:t.currentTarget.value.replace(/%25s/g,"%s")}):this.changeValue({target:t.currentTarget.value}),this._validateTarget(),this.isAutoName&&this.getTargetInfo()}async getTargetInfo(){let t=this.value.target;if(!t)return;t.includes(":")||(t="http://"+t);if(!/^https?:\/\/(.+\.)+.+/.test(t))return;const e=await y.getTargetInfo(t,this.isAutoName);e&&this.changeValue({name:e.name})}_validateTarget(){const t=this.value.target;let e=!0;return t&&("search-engine-custom"!==this.iconType&&"search-engnie-add"!==this.iconType||t.includes("%s"))||(e=!1),this.changeValidate({target:e}),e}_validateName(t){return t||"custom-icon"===this.iconType?this.changeValidate({name:!0}):this.changeValidate({name:!1}),t}_validateAll(){this.changeValue({name:this.$name.value,target:this.$target.value}),this._validateName(this.value.name),this._validateTarget();for(const t in this.validate)if(Object.prototype.hasOwnProperty.call(this.validate,t)){if(!1===this.validate[t])return!1}return!0}changeValidate(t){this.validate=Object.assign(Object.assign({},this.validate),t)}async _submit(){if(!this._validateAll())return;this.subSpin=!0;const t=await this.$imgs.handleValue();if(this.subSpin=!1,!t)return;this.changeValue({bgColorImage:null});const e={value:Object.assign({},this.value)};e.value.target.includes(":")||(e.value.target="http://"+this.value.target);const n=Object.assign({},e.value);"color"===n.bgType?delete n.bgImage:"image"===n.bgType&&(delete n.bgFont,delete n.bgText,delete n.bgColorImage,"transparent"===n.bgColor&&(n.bgColor=void 0));const r=new CustomEvent("on-submit",{detail:{value:n}});this.dispatchEvent(r)}_cancel(){const t=new CustomEvent("on-cancel");this.dispatchEvent(t)}changeValue(t){this.value=Object.assign(Object.assign({},this.value),t)}reset(){this.validate={name:null,target:null},this.value=Object.assign({},_.defaultValue)}openTipQuestion(){this.tipQuestion=!0}_renderBasic(){const{value:t}=this;return"custom-icon"===this.iconType?r.e`<div .hidden="${this.popup}" class="item">
          <div class="label-box">
            <span class="label">${Object(b.i18n)("website_address")}</span
            ><span .hidden="${!1!==this.validate.target}" class="error">*${Object(b.i18n)("please_enter_url")}</span>
          </div>
          <input
            class="target"
            autocomplete="off"
            type="text"
            .value="${t.target||""}"
            .placeholder="${Object(b.i18n)("website_address")}"
            .readOnly="${this.readonlyTarget}"
            @input=${t=>{this._changeTarget(t)}}
          />
        </div>
        <div class="item">
          <div class="label-box">
            <span class="label">${Object(b.i18n)("website_name")}</span
            ><span .hidden="${!1!==this.validate.name}" class="error">*${Object(b.i18n)("name_error")}</span>
          </div>
          <input
            autocomplete="off"
            type="text"
            class="name"
            .value="${t.name||""}"
            .placeholder="${Object(b.i18n)("website_name")}"
            @input=${t=>{this.isAutoName=!1;const e=t.currentTarget.value;this.changeValue({name:e}),this._validateName(e)}}
          />
        </div>`:r.e` <div class="item">
          <div class="label-box">
            <span class="label">${Object(b.i18n)("search_engine")}</span
            ><span .hidden="${!1!==this.validate.name}" class="error">*${Object(b.i18n)("search_engine_error")}</span>
          </div>
          <input
            autocomplete="off"
            .value="${t.name||""}"
            type="text"
            class="name"
            .placeholder="${Object(b.i18n)("placeholder_name")}"
            @input=${t=>{const e=t.currentTarget.value;this.isAutoName=!1,this.changeValue({name:e}),this._validateName(e)}}
          />
        </div>
        <div class="item">
          <div class="label-box">
            <span class="label">${Object(b.i18n)("website_search_replace_char")}</span
            ><img
              @click="${this.openTipQuestion}"
              class="tip-question"
              src="${n(453)}"
              alt=""
            /><span .hidden="${!1!==this.validate.target}" class="error">*${Object(b.i18n)("format_error")}</span>
          </div>
          <textarea
            class="target global-scrollbar"
            rows="1"
            @input="${t=>this._changeTarget(t,!0)}"
            autocomplete="off"
            .value="${t.target||""}"
            .placeholder="${Object(b.i18n)("website_address")}"
          ></textarea>
        </div>`}_renderImgs(t,e){return r.e`<i-edit-img
      class="item"
      @on-change="${t=>this.changeValue(t.detail.value)}"
      .value=${t}
      .offsetRight=${e}
      .iconType="${this.iconType}"
      .modalBorderRadius="${this.popup?"0px":"3px"}"
    ></i-edit-img> `}render(){const t=this.sideRatio>.7?0:300*(this.sideRatio-.7);return r.e`
      ${this._renderBasic()} ${this._renderImgs(this.value,t)}
      <div class="item btn-box">
        <infinito-button primary .loading="${this.subSpin}" @click="${this._submit}"
          >${Object(b.i18n)("confirm")}</infinito-button
        >
        ${this.popup?"":r.e`<infinito-button class="btn-cancel" @click="${this._cancel}">${Object(b.i18n)("cancel")}</infinito-button>`}
      </div>
      <infinito-portal-entrance destination="tip-question">
        <tip-question
          @on-close="${()=>{this.tipQuestion=!1}}"
          .show="${this.tipQuestion}"
        ></tip-question>
      </infinito-portal-entrance>
    `}};T.styles=[v.a,o],T.defaultValue={bgType:"color",bgColor:"",bgFont:30,bgText:"",bgImage:"",target:"",name:"",bgColorImage:""},O([Object(r.g)({type:Number})],T.prototype,"sideRatio",void 0),O([Object(r.g)({type:Boolean})],T.prototype,"popup",void 0),O([Object(r.g)({type:String})],T.prototype,"iconType",void 0),O([Object(r.g)({type:Boolean})],T.prototype,"readonlyTarget",void 0),O([Object(r.g)({type:Object})],T.prototype,"value",void 0),O([Object(r.f)()],T.prototype,"subSpin",void 0),O([Object(r.f)()],T.prototype,"isAutoName",void 0),O([Object(r.f)()],T.prototype,"validate",void 0),O([Object(r.f)()],T.prototype,"tipQuestion",void 0),O([Object(r.h)(".target")],T.prototype,"$target",void 0),O([Object(r.h)(".name")],T.prototype,"$name",void 0),O([Object(r.h)("i-edit-img")],T.prototype,"$imgs",void 0),T=_=O([Object(r.c)("i-editicon")],T)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(20),n(61);var r=n(1),i=n(436),o=n.n(i),s=(n(471),n(469),r.b`/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:11.623Z
 */
.cropper-container {
  direction: ltr;
  font-size: 0;
  line-height: 0;
  position: relative;
  -ms-touch-action: none;
  touch-action: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.cropper-container img {
  display: block;
  height: 100%;
  image-orientation: 0deg;
  max-height: none !important;
  max-width: none !important;
  min-height: 0 !important;
  min-width: 0 !important;
  width: 100%;
}
.cropper-wrap-box,
.cropper-canvas,
.cropper-drag-box,
.cropper-crop-box,
.cropper-modal {
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}
.cropper-wrap-box,
.cropper-canvas {
  overflow: hidden;
}
.cropper-drag-box {
  background-color: #fff;
  opacity: 0;
}
.cropper-modal {
  background-color: #000;
  opacity: 0.5;
}
.cropper-view-box {
  display: block;
  height: 100%;
  outline: 1px solid #39f;
  outline-color: rgba(51, 153, 255, 0.75);
  overflow: hidden;
  width: 100%;
}
.cropper-dashed {
  border: 0 dashed #eee;
  display: block;
  opacity: 0.5;
  position: absolute;
}
.cropper-dashed.dashed-h {
  border-bottom-width: 1px;
  border-top-width: 1px;
  height: calc(100% / 3);
  left: 0;
  top: calc(100% / 3);
  width: 100%;
}
.cropper-dashed.dashed-v {
  border-left-width: 1px;
  border-right-width: 1px;
  height: 100%;
  left: calc(100% / 3);
  top: 0;
  width: calc(100% / 3);
}
.cropper-center {
  display: block;
  height: 0;
  left: 50%;
  opacity: 0.75;
  position: absolute;
  top: 50%;
  width: 0;
}
.cropper-center::before,
.cropper-center::after {
  background-color: #eee;
  content: ' ';
  display: block;
  position: absolute;
}
.cropper-center::before {
  height: 1px;
  left: -3px;
  top: 0;
  width: 7px;
}
.cropper-center::after {
  height: 7px;
  left: 0;
  top: -3px;
  width: 1px;
}
.cropper-face,
.cropper-line,
.cropper-point {
  display: block;
  height: 100%;
  opacity: 0.1;
  position: absolute;
  width: 100%;
}
.cropper-face {
  background-color: #fff;
  left: 0;
  top: 0;
}
.cropper-line {
  background-color: #39f;
}
.cropper-line.line-e {
  cursor: ew-resize;
  right: -3px;
  top: 0;
  width: 5px;
}
.cropper-line.line-n {
  cursor: ns-resize;
  height: 5px;
  left: 0;
  top: -3px;
}
.cropper-line.line-w {
  cursor: ew-resize;
  left: -3px;
  top: 0;
  width: 5px;
}
.cropper-line.line-s {
  bottom: -3px;
  cursor: ns-resize;
  height: 5px;
  left: 0;
}
.cropper-point {
  background-color: #39f;
  height: 5px;
  opacity: 0.75;
  width: 5px;
}
.cropper-point.point-e {
  cursor: ew-resize;
  margin-top: -3px;
  right: -3px;
  top: 50%;
}
.cropper-point.point-n {
  cursor: ns-resize;
  left: 50%;
  margin-left: -3px;
  top: -3px;
}
.cropper-point.point-w {
  cursor: ew-resize;
  left: -3px;
  margin-top: -3px;
  top: 50%;
}
.cropper-point.point-s {
  bottom: -3px;
  cursor: s-resize;
  left: 50%;
  margin-left: -3px;
}
.cropper-point.point-ne {
  cursor: nesw-resize;
  right: -3px;
  top: -3px;
}
.cropper-point.point-nw {
  cursor: nwse-resize;
  left: -3px;
  top: -3px;
}
.cropper-point.point-sw {
  bottom: -3px;
  cursor: nesw-resize;
  left: -3px;
}
.cropper-point.point-se {
  bottom: -3px;
  cursor: nwse-resize;
  height: 20px;
  opacity: 1;
  right: -3px;
  width: 20px;
}
@media (min-width: 768px) {
  .cropper-point.point-se {
    height: 15px;
    width: 15px;
  }
}
@media (min-width: 992px) {
  .cropper-point.point-se {
    height: 10px;
    width: 10px;
  }
}
@media (min-width: 1200px) {
  .cropper-point.point-se {
    height: 5px;
    opacity: 0.75;
    width: 5px;
  }
}
.cropper-point.point-se::before {
  background-color: #39f;
  bottom: -50%;
  content: ' ';
  display: block;
  height: 200%;
  opacity: 0;
  position: absolute;
  right: -50%;
  width: 200%;
}
.cropper-invisible {
  opacity: 0;
}
.cropper-bg {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');
}
.cropper-hide {
  display: block;
  height: 0;
  position: absolute;
  width: 0;
}
.cropper-hidden {
  display: none !important;
}
.cropper-move {
  cursor: move;
}
.cropper-crop {
  cursor: crosshair;
}
.cropper-disabled .cropper-drag-box,
.cropper-disabled .cropper-face,
.cropper-disabled .cropper-line,
.cropper-disabled .cropper-point {
  cursor: not-allowed;
}
`),a=r.b`:host {
  display: block;
  position: relative;
  z-index: 99999999;
}
.img-modal {
  position: fixed;
  z-index: 111;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.img-modal.hide {
  display: none;
}
.img-modal .img-modal-mask {
  position: absolute;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
}
.img-modal .img-modal-content {
  width: 640px;
  padding: 0 20px;
  box-sizing: border-box;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #fff;
  box-shadow: 0 6px 6px rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}
.img-modal .modal-header .close {
  margin-top: 18px;
  text-align: right;
}
.img-modal .modal-header .close i-usesvg {
  color: #d9d6d7;
  width: 14px;
  height: 14px;
  cursor: pointer;
}
.img-modal .modal-header .title {
  margin-top: 8px;
  margin-bottom: 50px;
  text-align: center;
  font-size: 20px;
  font-weight: 500;
  color: #333333;
  line-height: 28px;
}
.img-modal .modal-body {
  display: flex;
  padding-bottom: 20px;
}
.img-modal .cropper {
  position: relative;
  width: 260px;
  height: 260px;
  margin-right: 24px;
  flex-shrink: 0;
  margin-bottom: 32px;
}
.img-modal .float-option {
  position: absolute;
  bottom: -32px;
  width: 100%;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.img-modal .float-option i-usesvg {
  cursor: pointer;
  width: 18px;
  height: 18px;
  color: #333;
  opacity: 0.3;
  transition: opacity 0.2s;
}
.img-modal .float-option i-usesvg:hover {
  opacity: 1;
}
.img-modal .float-option-left > i-usesvg {
  margin-right: 16px;
}
.img-modal .float-option-right > i-usesvg {
  margin-left: 16px;
}
.img-modal .option {
  position: relative;
  flex-grow: 1;
}
.img-modal .option .title {
  display: block;
  margin-bottom: 14px;
  line-height: 1;
  font-weight: 500;
  color: #333333;
}
.img-modal .preview-box .preview {
  border: 1px solid #DADCE0;
  box-sizing: border-box;
  overflow: hidden;
  margin-bottom: 30px;
  width: 80px;
  height: 80px;
  border-radius: 6px;
  -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC);
          mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC);
}
.img-modal .color-box {
  position: relative;
}
.img-modal .color-box i-colorpicker {
  margin-right: 28px;
}
.modal-footer {
  margin-top: 20px;
  margin-bottom: 40px;
}
.modal-footer .btn-box {
  padding: 0 100px;
  display: flex;
  justify-content: space-between;
}
.modal-footer .btn-box infinito-button {
  outline: none;
  border: none;
  width: 120px;
  height: 42px;
  background: #efefef;
  border-radius: 6px;
  font-size: 16px;
  font-weight: 500;
  line-height: 22px;
  color: #333333;
  cursor: pointer;
}
.cropper .cropper-wrap-box {
  background-color: currentColor;
}
.cropper img {
  max-width: 100%;
  max-height: 100%;
}
.cropper .cropper-wrap-box {
  background-color: currentColor;
}
.cropper .cropper-crop-box {
  background-color: currentColor;
}
.cropper .cropper-point.point-se {
  height: 5px;
  width: 5px;
}
`,c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let u=class extends r.a{constructor(){super(...arguments),this.modalStatus=!1,this.rgba="",this.needBackground=!1,this.initRgba="",this.title="",this.borderRadius="3px",this.showImg=!1,this.changed=!1,this.cropper=null}static create(t){const e=null==t?void 0:t.title,n=null==t?void 0:t.needBackground,r=(null==t?void 0:t.borderRadius)||"3px",i=document.body,o=document.createElement("i-cropper");return o.borderRadius=r,e&&o.setAttribute("title",e),n&&o.setAttribute("needBackground",""+n),i.appendChild(o),this.instance=o,o}static destroy(){var t,e;null===(e=null===(t=this.instance)||void 0===t?void 0:t.parentNode)||void 0===e||e.removeChild(this.instance),this.instance=null}init(t,e){this.showImg=!1,this.rgba=e||"transparent",this.initRgba=e||"transparent",this.cropper?(this.cropper.replace(t),this.cropper.reset()):(this.$img.src=t,this.cropper=new o.a(this.$img,{aspectRatio:1,zoomOnWheel:!0,autoCropArea:.9999,preview:this.$preview,checkCrossOrigin:!1,dragMode:"move",ready:()=>{this.showImg=!0},zoom:()=>{this.changed=!0},cropend:()=>{this.changed=!0}}))}close(t=!0){this.modalStatus=!1,this.showImg=!1,t&&(this.rgba=""),this.changed=!1;const e=new CustomEvent("on-close-cropper",{bubbles:!0,composed:!0});this.dispatchEvent(e)}show(){this.modalStatus=!0;const t=new CustomEvent("on-show-cropper",{bubbles:!0,composed:!0});this.dispatchEvent(t)}_rotateCropper(t){this.cropper.rotate(t),this.changed=!0}_scaleCropper(t){this.cropper.zoom(t),this.changed=!0}_resetCropper(){this.rgba=this.initRgba,this.cropper.reset(),this.changed=!1,requestAnimationFrame(()=>{this.$colorPicker.resetActiveIndex()})}_onSubmitImg(){const t={minWidth:512,minHeight:512,maxWidth:600,maxHeight:600};this.needBackground&&(t.fillColor=this.rgba||"transparent"),this.cropper.getCroppedCanvas(t).toBlob(t=>{const e=new CustomEvent("on-change",{detail:{data:t,color:this.rgba,changed:this.changed}});this.dispatchEvent(e),this.close()},"image/png")}_pickColor(t){const{value:e}=t.detail;this.rgba=e,this.changed=!0}render(){return r.e` <div class="img-modal ${this.modalStatus?"show":"hide"}">
      <div class="img-modal-mask"></div>
      <div class="img-modal-content" style="border-radius:${this.borderRadius}">
        <section class="modal-header">
          <div class="close">
            <i-usesvg @click="${this.close}" type="icon-guanbi1" iconfont></i-usesvg>
          </div>
          <div class="title">${this.title||i18n("custom_icon")}</div>
        </section>
        <section class="modal-body">
          <div
            style="${this.rgba?`color:${this.rgba};`:"color:transparent;"}${this.showImg?"opacity:1;":"opacity:0;"}"
            class="cropper"
          >
            <img class="file-img" crossorigin="anonymous" src="" alt="" />
            <div class="float-option">
              <div class="float-option-left">
                <i-usesvg @click="${()=>this._rotateCropper(90)}" type="infinity-pro-pure-icon-redo"></i-usesvg>
                <i-usesvg @click="${()=>this._rotateCropper(-90)}" type="infinity-pro-pure-icon-undo"></i-usesvg>
              </div>
              <div class="float-option-right">
                <i-usesvg @click="${()=>this._scaleCropper(-.1)}" type="infinity-pro-pure-icon-zoom-out"></i-usesvg>
                <i-usesvg @click="${()=>this._scaleCropper(.1)}" type="infinity-pro-pure-icon-zoom-in"></i-usesvg>
              </div>
            </div>
          </div>
          <div class="option">
            <div class="preview-box">
              <span class="title">${i18n("preview")}</span>
              <div
                style="${this.rgba?`background-color:${this.rgba};`:"background-color:transparent;"}"
                class="preview"
              ></div>
            </div>
            <div class="color-box">
              <span class="title">${i18n("bg_color")}</span>
              <i-colorpicker .value="${this.rgba||"transparent"}" @on-change="${this._pickColor}"></i-colorpicker>
            </div>
          </div>
        </section>
        <section class="modal-footer">
          <div class="btn-box">
            <infinito-button @click="${this.close}">${i18n("cancel")}</infinito-button>
            <infinito-button @click="${this._resetCropper}">${i18n("reset")}</infinito-button>
            <infinito-button primary @click="${this._onSubmitImg}">${i18n("confirm")}</infinito-button>
          </div>
        </section>
      </div>
    </div>`}};u.styles=[a,s],u.instance=null,c([Object(r.h)(".file-img")],u.prototype,"$img",void 0),c([Object(r.h)(".preview")],u.prototype,"$preview",void 0),c([Object(r.h)("i-colorpicker")],u.prototype,"$colorPicker",void 0),c([Object(r.g)({type:Boolean})],u.prototype,"modalStatus",void 0),c([Object(r.g)({type:String})],u.prototype,"rgba",void 0),c([Object(r.g)({type:Boolean})],u.prototype,"needBackground",void 0),c([Object(r.g)({type:String})],u.prototype,"title",void 0),c([Object(r.g)({type:String})],u.prototype,"borderRadius",void 0),c([Object(r.f)()],u.prototype,"showImg",void 0),u=c([Object(r.c)("i-cropper")],u)},,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"userStore",(function(){return x}));n(7),n(20);var r=n(5),i=n.n(r),o=n(2),s=n(307),a=n(23),c=n(0),u=n(106),l=n(24),h=n.n(l),p=n(162),d=n(161),f=n(430),g=n(429),m=n(13),y=n(50),b=n(333),v=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};class w extends s.a{constructor(){super(),this.isExpired=!1,this.isLogin=!1,this.token="",this.userInfo={},this.refreshToken="",this.mobileloginExpire=0,this.mobileloginUrl="",this.areaCodeList=[],this.thirdList=[{type:a.f.ThirdLoginType.wechat,title:i18n("wechat"),bindStatus:!1,nick_name:""},{type:a.f.ThirdLoginType.qq,title:"QQ",bindStatus:!1,nick_name:""},{type:a.f.ThirdLoginType.google,title:"Google",bindStatus:!1,nick_name:""},{type:a.f.ThirdLoginType.facebook,title:"Facebook",bindStatus:!1,abondon:!0,nick_name:""},{type:a.f.ThirdLoginType.weibo,title:i18n("xin_lang_weibo"),bindStatus:!1,abondon:!0,nick_name:""}],this.userProfilePromise=i.a.resolve(),this.wpColorUpdate=0,this.logining=!1,this.modalOpen=!1,this.removeAccountDisableSec=10,this.removeAccountDisableTimer=null,this.showLoginTipModal=!1,this.profileModal=!1,this.syncListModal=!1,this.isModify=!1,this.openMiniWindow=t=>{const e=Math.floor(window.screenY+200),n=Math.floor(window.screenX+window.innerWidth/3);return window.open(t,"_blank",`top=${e},left=${n},height=600,width=770,menubar=no,toolbar=yes,location=yes,status=no,resizable=no`)},this.binding=!1,this.bindListener=t=>{let e;const n=()=>{e=setTimeout(()=>{t.postMessage({from:"origin_login"},"*"),t.closed?(window.removeEventListener("message",r),this.binding=!1):n()},500)};n();const r=async t=>{try{if(!t.data||!t.data.key||"bind"!==t.data.key)return;clearTimeout(e),window.removeEventListener("message",r,!1);const{message:n}=t.data;let i;switch(n.type){case a.f.ThirdLoginType.weibo:case a.f.ThirdLoginType.google:case a.f.ThirdLoginType.facebook:case a.f.ThirdLoginType.wechat:case a.f.ThirdLoginType.qq:i=await a.f.bindThird(n.type,n.code)}if(i.error)return void u.message.error(i.error.message);this.bindSuccess("third",i.data),u.message.success(i18n("bind_success"))}catch(t){u.message.error(i18n("network_error"))}finally{this.binding=!1}};window.addEventListener("message",r,!1)},this.countdownTimer=null,this.checkMobileUrlTimer=null,this.isShowLogoutConfirm=!1,this.showConfirmOpt="",this.isShowSecondProfileModal=!1,this.secondProfileModalType=null,this.clearAllData=!1,this.loading=!1,this.URL=c.x}get thirdAccountList(){const t={};return this.userInfo.third_account&&this.userInfo.third_account.forEach(e=>{t[e.platform]=e}),this.thirdList.map(e=>t[e.type]?Object.assign(Object.assign({},e),{bindStatus:!0,nick_name:t[e.type].nick_name}):e)}setWpColorUpdate(t){this.wpColorUpdate=t}closeModal(){this.modalOpen=!1}openModal(){this.modalOpen=!0}toggleLoginTipModal(){this.showLoginTipModal=!this.showLoginTipModal}closeLoginTipModal(){this.showLoginTipModal=!1}closeProfileModal(){this.profileModal=!1}openProfileModal(){this.profileModal=!0,this.openModify()}closeSyncListModal(){this.syncListModal=!1}openSyncListModal(){this.syncListModal=!0}openModify(){this.isModify=!0}async modifyProfile(t){try{const e=await a.f.updateProfile(t);Object(o.i)(()=>{if(e&&0===e.code){const{user:{name:t,gender:n,avatar:r}}=e.data;this.userInfo.name=t,this.userInfo.gender=n,this.userInfo.avatar=r}else u.message.error(i18n("update_data_failure"))})}catch(t){u.message.error(t.message)}}async getUserProfile(){const t=await a.f.getUserProfile();Object(o.i)(()=>{if(t)if(0===t.code&&this.isLogin){const{gender:e,name:n,avatar:r}=t.data;this.userInfo.name=n,this.userInfo.gender=e,this.userInfo.avatar=r,this.userInfo["auto-backup"]=t.data["auto-backup"],this.userInfo["wp-color-update"]=t.data["wp-color-update"],this.userInfo["backup-version-v2"]=t.data["backup-version-v2"],this.userInfo.email=t.data.email,this.userInfo.phone_number=t.data.phone_number,this.userInfo.third_account=t.data.third_account}else 3012===t.code&&(u.message.error(t.message),this.exitAccount())})}async getAreaCodeList(){const{data:t,error:e}=await a.f.getAreaCodeList();e||(null==t?void 0:t.length)&&Object(o.i)(()=>{this.areaCodeList=t})}async updateAvatar(t){try{return await a.f.uploadAvatar(t)}catch(t){u.message.error(i18n("upload_avatar_failure"))}}closeModify(){this.isModify=!1}thirdPartyLogin(t){let e;switch(this.logining=!0,t){case"facebook":e=this.URL+"/login/facebook";break;case"google":e=this.URL+"/login/google";break;case"qq":e=this.URL+"/login/qq";break;case"sina":e=this.URL+"/login/weibo";break;case"wechat":e=this.URL+"/login/wechat"}setTimeout(async()=>{const t=this.openMiniWindow(e);if(this.opener=t,c.n)return;const n=setInterval(()=>{t.postMessage({from:"origin_login"},"*")},300),r=t=>{if(!t.data||!t.data.key||"login"!==t.data.key)return;clearInterval(n),window.removeEventListener("message",r,!1);const{message:e}=t.data;this.login3rdSuccess(e)};window.addEventListener("message",r,!1)},300)}get isLastId(){const t=this.userInfo||{},e=t.third_account||[];let n=0;return t.email&&++n,t.phone_number&&++n,n+=e.length,n<=1}thirdPartyBind(t){if(this.binding)return;let e;switch(this.binding=!0,t){case a.f.ThirdLoginType.weibo:case a.f.ThirdLoginType.google:case a.f.ThirdLoginType.facebook:case a.f.ThirdLoginType.wechat:case a.f.ThirdLoginType.qq:e=this.openMiniWindow(`${c.x}/bind/to?type=${t}`),this.bindListener(e)}}async thirdPartyUnbind(t){let e;switch(t){case a.f.ThirdLoginType.weibo:case a.f.ThirdLoginType.google:case a.f.ThirdLoginType.facebook:case a.f.ThirdLoginType.qq:case a.f.ThirdLoginType.wechat:e=await a.f.unbindThird(t)}return e}bindSuccess(t,e){if("email"===t)this.userInfo.email=e;else if("phone"===t)this.userInfo.phone_number=e;else if("third"===t){const t=this.userInfo.third_account||[];t.push(e),this.userInfo.third_account=t}}unbindSuccess(t,e){if("email"===t)this.userInfo.email=null;else if("phone"===t)this.userInfo.phone_number=null;else if("third"===t){const t=this.userInfo.third_account||[],n=t.findIndex(t=>t.platform===e);if(-1===n)return;t.splice(n,1),this.userInfo.third_account=t}}async login(t){const e={};if(e.password=t.password,"email"===t.type)e.email=t.account;else{if("phone"!==t.type)return;e.phone_number=t.account}const n=await a.f.login(e);Object(o.i)(()=>{if(!n||0!==n.code)throw u.message.error(n.message),new Error(n.code);this.loginEmailSuccess(n.data.user),this.setToken(n.data),this.setRefreshToken(n.data.refreshToken)})}async getMobileloginUrl(t=!1){if(t&&(this.mobileloginUrl="",this.mobileloginExpire=0),p.f){const{data:t,error:e}=await a.f.getMobileloginUrl();if(e)return void Object(o.i)(()=>{this.mobileloginExpire=0});Object(o.i)(()=>{this.mobileloginUrl=t.url,this.mobileloginExpire=Math.floor(t.expire/1e3)}),this.checkMobileloginUrl(t.code,t.type),0!==this.mobileloginExpire&&(this.countdownTimer=setInterval(()=>{Object(o.i)(()=>{this.mobileloginExpire-=1}),this.mobileloginExpire<=0&&clearInterval(this.countdownTimer)},1e3))}}async checkMobileloginUrl(t,e,n=5e3){p.f&&this.mobileloginExpire>3&&(clearTimeout(this.checkMobileUrlTimer),this.checkMobileUrlTimer=setTimeout(async()=>{const{data:r}=await a.f.checkMobileloginUrl(t,e);if(r&&r.expired)return clearInterval(this.countdownTimer),void Object(o.i)(()=>{this.mobileloginExpire=0});this.checkMobileloginUrl(t,e,n)},n))}async loginEmailSuccess(t){this.logining=!1,this.closeModal(),this.isLogin=!0,this.userInfo=t,this.isExpired=!1,this.settingLoginSuccess()}setUserData(t){this.logining=!1,this.closeModal(),this.isLogin=t.isLogin,this.userInfo=t,this.isExpired=!1;["token","refreshToken","isLogin"].forEach(t=>delete this.userInfo[t])}async login3rdSuccess(t){if(!t||!Object.keys(t).length)return void this.cancelLogin();const e=t["login-type"];if(["qq","wechat"].includes(e)){const e=await a.f.loginWithUid(t);0===e.code?Object(o.i)(()=>{this.setUserData(t),this.setToken(e.data),this.setRefreshToken(e.data.refreshToken)}):3006===e.code&&u.message.error("获取token失败")}else this.setUserData(t),this.setToken(t),this.setRefreshToken(t.refreshToken);this.settingLoginSuccess()}settingLoginSuccess(){g.b.changeSetting("view","isHideIcp",!0)}cancelLogin(){var t;this.logining=!1,null===(t=this.opener)||void 0===t||t.close()}toggleClear(t){this.clearAllData=t}logout(t){this.isShowLogoutConfirm=!0,this.showConfirmOpt=t,"remove"===t&&(this.removeAccountDisableSec=10,clearInterval(this.removeAccountDisableTimer),this.removeAccountDisableTimer=setInterval(()=>{Object(o.i)(()=>{this.removeAccountDisableSec-=1,0===this.removeAccountDisableSec&&(clearInterval(this.removeAccountDisableTimer),this.removeAccountDisableTimer=null)})},1e3))}showSecondProfileModal(t){this.isShowSecondProfileModal=!0,this.secondProfileModalType=t}closeSecondProfileModal(){this.isShowSecondProfileModal=!1,this.secondProfileModalType=null}async exitAccount(){this.loading=!0,b.b.postIframeMessage({type:b.a.logout,logoutWithClear:this.clearAllData}),await new i.a(t=>{setTimeout(()=>{this.clearAllData?this.clearAllStore().then(t):t(null)},200)}),Object(o.i)(()=>{this.isLogin=!1,this.userInfo={},this.clearToken()}),this.clearAllData?window.location.reload():(Object(o.i)(()=>this.loading=!1),this.closeLogoutConfirm(),this.closeProfileModal(),c.s&&f.pluginStore.hideLast())}async deleteAccount(){this.loading=!0;const t=await a.f.deleteAccount();Object(o.i)(()=>{t&&0===t.code?this.exitAccount():(3012===t.code&&this.exitAccount(),u.message.error(t.message)),this.loading=!1})}restoreKeysToStorage(t){t.forEach(({data:t,key:e})=>localStorage.setItem(e,t))}async clearAllStore(){this.stopAutoBackupReaction(),this.stopToStorageReaction(),await m.a.deleteAllForLogout();const t=[y.c,y.d];await this._deleteIdb(t),d.slave.sendMessage("tabs-reload")}async _deleteIdb(t){const e=await new i.a(t=>h.a.keys((e,n)=>t(n)));await i.a.all(t.map(t=>new i.a(n=>{const r=t.split("->");if(1===r.length)return e.includes(t)?void h.a.removeItem(t,n):void n(null);n(null),e.includes(r[0])&&h.a.getItem(r[0],t=>{r.reduce((t,e,n)=>(n===r.length-1&&Reflect.deleteProperty(t,e),t[e]),t),h.a.setItem(r[0],n)})})))}_clearLocalStorage(t){const e=new Map;t.filter(Boolean).forEach(t=>{const n=t.split("->");if(1===n.length)return void e.set(t,localStorage.getItem(t));const r=JSON.parse(localStorage.getItem(n[0]));n.slice(1).forEach((t,e)=>{const i=0===e?r:r[n[e]];for(const e in i)t!==e&&Reflect.deleteProperty(i,e)}),e.set(n[0],JSON.stringify(r))}),localStorage.clear();for(const t of e.keys())localStorage.setItem(t,e.get(t))}closeLogoutConfirm(){this.isShowLogoutConfirm=!1}setToken(t){this.token=t.token,b.b.postIframeMessage({type:b.a.authToken,authToken:x.token})}setRefreshToken(t){this.refreshToken=t}clearToken(){this.token="",this.refreshToken=""}setOutdated(){this.isExpired=!0,this.isLogin=!1}toggleReLogin(){this.isExpired=!1}getPhoneNumber(){if(this.userInfo.phone_number){const t=this.userInfo.phone_number+"";return`${t.slice(0,3)}****${t.slice(-4)}`}return""}}v([o.g],w.prototype,"isExpired",void 0),v([o.g],w.prototype,"isLogin",void 0),v([o.g],w.prototype,"token",void 0),v([o.g],w.prototype,"userInfo",void 0),v([o.g],w.prototype,"refreshToken",void 0),v([o.g],w.prototype,"mobileloginExpire",void 0),v([o.g],w.prototype,"mobileloginUrl",void 0),v([o.g],w.prototype,"areaCodeList",void 0),v([o.e],w.prototype,"thirdAccountList",null),v([o.g],w.prototype,"wpColorUpdate",void 0),v([o.b],w.prototype,"setWpColorUpdate",null),v([o.g],w.prototype,"opener",void 0),v([o.g],w.prototype,"logining",void 0),v([o.g],w.prototype,"modalOpen",void 0),v([o.g],w.prototype,"removeAccountDisableSec",void 0),v([o.g],w.prototype,"removeAccountDisableTimer",void 0),v([o.b],w.prototype,"closeModal",null),v([o.b],w.prototype,"openModal",null),v([o.g],w.prototype,"showLoginTipModal",void 0),v([o.b],w.prototype,"toggleLoginTipModal",null),v([o.b],w.prototype,"closeLoginTipModal",null),v([o.g],w.prototype,"profileModal",void 0),v([o.g],w.prototype,"syncListModal",void 0),v([o.b],w.prototype,"closeProfileModal",null),v([o.b],w.prototype,"openProfileModal",null),v([o.b],w.prototype,"closeSyncListModal",null),v([o.b],w.prototype,"openSyncListModal",null),v([o.g],w.prototype,"isModify",void 0),v([o.b],w.prototype,"openModify",null),v([o.b],w.prototype,"modifyProfile",null),v([o.b],w.prototype,"getUserProfile",null),v([o.b],w.prototype,"getAreaCodeList",null),v([o.b],w.prototype,"updateAvatar",null),v([o.b],w.prototype,"closeModify",null),v([o.b],w.prototype,"thirdPartyLogin",null),v([o.g],w.prototype,"binding",void 0),v([o.e],w.prototype,"isLastId",null),v([o.b],w.prototype,"thirdPartyBind",null),v([o.b],w.prototype,"thirdPartyUnbind",null),v([o.b],w.prototype,"bindSuccess",null),v([o.b],w.prototype,"unbindSuccess",null),v([o.b],w.prototype,"login",null),v([o.b],w.prototype,"getMobileloginUrl",null),v([o.b],w.prototype,"checkMobileloginUrl",null),v([o.b],w.prototype,"loginEmailSuccess",null),v([o.b],w.prototype,"setUserData",null),v([o.b],w.prototype,"login3rdSuccess",null),v([o.b],w.prototype,"cancelLogin",null),v([o.g],w.prototype,"isShowLogoutConfirm",void 0),v([o.g],w.prototype,"showConfirmOpt",void 0),v([o.g],w.prototype,"isShowSecondProfileModal",void 0),v([o.g],w.prototype,"secondProfileModalType",void 0),v([o.g],w.prototype,"clearAllData",void 0),v([o.b],w.prototype,"toggleClear",null),v([o.b],w.prototype,"logout",null),v([o.b],w.prototype,"showSecondProfileModal",null),v([o.b],w.prototype,"closeSecondProfileModal",null),v([o.g],w.prototype,"loading",void 0),v([o.b],w.prototype,"exitAccount",null),v([o.b],w.prototype,"deleteAccount",null),v([o.b],w.prototype,"clearAllStore",null),v([o.b],w.prototype,"closeLogoutConfirm",null),v([o.b],w.prototype,"setToken",null),v([o.b],w.prototype,"setRefreshToken",null),v([o.b],w.prototype,"clearToken",null),v([o.b],w.prototype,"setOutdated",null),v([o.b],w.prototype,"toggleReLogin",null);const x=new w;Object(o.c)(()=>{x.firstSync&&(x.isLogin?(x.closeModal(),x.toggleReLogin(),x.userProfilePromise=x.getUserProfile()):(x.closeProfileModal(),x.closeSecondProfileModal()))}),x.initSyncStore(m.l,["userInfo","isLogin","token","refreshToken","wpColorUpdate"]),m.j.injectUserStore(x),m.j.injectSendTabsSync(t=>{d.slave.sendMessage("tabs-sync",t)})},function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return b}));n(20),n(7);var r=n(2),i=n(307),o=n(15),s=n(85),a=n(151),c=n(311),u=n(0),l=n(382),h=n(398),p=n(309),d=n(13),f=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};class g extends i.a{constructor(){super(...arguments),this.localSettings={},this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.iconSpaceWidth=0,this.iconSpaceHeight=0,this.setting=this.init(),this.updatetime=0,this.permission={topUseful:-1,topBookmark:-1,searchSuggest:-1,gmailNotice:-1,gmailCount:-1,todoNotice:-1},this.logs=new Map,this.permissionMapper={topBookmark:[["bookmarks","favicon"],[]],topUseful:[["topSites","favicon"],[]],searchSuggest:[[],["https://suggestion.baidu.com/","https://google.com/"]],gmailNotice:[["notifications"],["https://mail.google.com/"]],gmailCount:[[],["https://mail.google.com/"]],todoNotice:[["notifications"],[]]},this.showSettingHomeModal=!1,this.webClickName=""}init(t={}){return{notice:Object.assign({},a.b.notice),link:Object.assign({},a.b.link),view:Object.assign({},a.b.view),layout:Object.assign({},a.b.layout),animation:Object.assign({},a.b.animation),icon:Object.assign({},a.b.icon),search:Object.assign({},a.b.search),font:Object.assign({},a.b.font),_v1Setting:t}}get withPermissionTopUseful(){return this.setting.view.topUseful&&1===this.permission.topUseful}get withPermissionTopBookmark(){return this.setting.view.topBookmark&&1===this.permission.topBookmark}get withPermissionSearchSuggest(){return this.setting.search.searchSuggest&&1===this.permission.searchSuggest}get needPermissionList(){const t=[],{view:e,notice:n,search:r}=this.setting,{topUseful:i,topBookmark:o,searchSuggest:s,gmailNotice:a,gmailCount:c,todoNotice:h}=this.permission;return u.m&&r.searchSuggest&&1!==s&&t.push({key:"searchSuggest",title:i18n("permission_serch_suggest_title"),content:i18n("permission_serch_suggest_content")}),u.m&&n.gmail&&1!==a&&t.push({key:"gmailNotice",title:i18n("permission_gmail_notice_title"),content:i18n("permission_gmail_notice_content")}),u.m&&n.gmailNumber&&1!==c&&t.push({key:"gmailCount",title:i18n("permission_gmail_num_title"),content:i18n("permission_gmail_num_content")}),u.s||u.r||!e.topBookmark||1===o||t.push({key:"topBookmark",title:i18n("permission_top_bookmark_title"),content:i18n("permission_top_bookmark_content")}),u.s||u.r||!e.topUseful||1===i||t.push({key:"topUseful",title:i18n("permission_top_useful_title"),content:i18n("permission_top_useful_content")}),l.a.needNotificationPermission&&1!==h&&((u.s||u.r)&&"denied"===Notification.permission||t.push({key:"todoNotice",title:i18n("permission_todo_notice_title"),content:i18n("permission_todo_notice_content")})),t}get sideRatio(){return this.setting.view.scaleSide}reset(){this.setting=this.init(this.setting._v1Setting),this.changeLayoutCb(this.setting.layout.col,this.setting.layout.row)}diffRemote(t){return!r.d.structural(t.setting||{},this.setting)}sendSettingValue(){Object.keys(this.localSettings).length&&(p.a.sendEvent({settingValue:this.localSettings}),this.localSettings={})}async mergeRemote(t){const e=t.setting;if(!t.setting)return;const n=this.setting;this.setting={notice:Object.assign(Object.assign({},n.notice),e.notice),link:Object.assign(Object.assign({},n.link),e.link),view:Object.assign(Object.assign({},n.view),e.view),layout:Object.assign(Object.assign({},n.layout),e.layout),animation:Object.assign(Object.assign({},n.animation),e.animation),icon:Object.assign(Object.assign({},n.icon),e.icon),search:Object.assign(Object.assign({},n.search),e.search),font:Object.assign(Object.assign({},n.font),e.font),_v1Setting:e._v1Setting};const i=await o.a.getTimestamp();Object(r.i)(()=>{this.updatetime=i})}sendSettingLog(t,e){this.logs.has(t)&&clearTimeout(this.logs.get(t)),this.logs.set(t,setTimeout(()=>{p.a.sendEvent({settingAction:{[t]:e}}),this.logs.delete(t)},2e3))}async changeSetting(t,e,n){if(this.setting[t][e]===n)return;this.setting[t][e]=n,"layout"===t&&("custom"===e&&!0===n||"customItem"===e)&&(this.setting.layout.row=this.setting.layout.customItem[0],this.setting.layout.col=this.setting.layout.customItem[1],this.changeLayoutCb(this.setting.layout.col,this.setting.layout.row));let i=`${t}_${e}`,s=n;"layout"!==t||"col"!==e&&"row"!==e||(this.changeLayoutCb(this.setting.layout.col,this.setting.layout.row),i="layout",s=this.setting.layout.row+"*"+this.setting.layout.col),this.sendSettingLog(i,s),this.localSettings[i]=s;const a=await o.a.getTimestamp();Object(r.i)(()=>{this.updatetime=a}),this.changeSettingEffect(t,e,n)}changeLayoutCb(t,e){console.log("col, row",t,e),console.log("changeLayoutCb 未注册")}changeLayout(t){this.changeLayoutCb=t}changeSettingEffect(t,e,n){switch(!0){case"topBookmark"===e:n&&this.requestPermission("topBookmark",!0);break;case"topUseful"===e:n&&this.requestPermission("topUseful",!0);break;case"notice"===t&&"gmail"===e:n&&this.requestPermission("gmailNotice",!0);break;case"notice"===t&&"gmailNumber"===e:n&&this.requestPermission("gmailCount",!0);break;case"searchSuggest"===e:n&&this.requestPermission("searchSuggest",!0)}}async checkPermission(t){if(u.s||u.r){switch(t){case"todoNotice":case"gmailNotice":return void("granted"===Notification.permission?this.permission[t]=1:"default"===Notification.permission?this.permission[t]=-1:this.permission[t]=0)}if(u.s)return}if(1===this.permission[t]){const e=this.permissionMapper[t];try{if(await s.a.has(e[0],e[1]))return}catch(t){console.log(t)}Object(r.i)(()=>{this.permission[t]=-1})}const e=this.permissionMapper[t];try{await s.a.has(e[0],e[1])&&Object(r.i)(()=>{this.permission[t]=1})}catch(t){}}async requestPermission(t,e=!1){if((u.s||u.r)&&["todoNotice","gmailNotice"].includes(t))return await Object(h.a)(),void Object(r.i)(()=>{this.permission.todoNotice=1,this.permission.gmailNotice=1});const n=this.permissionMapper[t];if(e||0!==this.permission[t]&&1!==this.permission[t])try{await s.a.request(n[0],n[1]),Object(r.i)(()=>{this.permission[t]=1}),"gmailNotice"===t&&this.checkPermission("todoNotice")}catch(e){e&&"REJECT"===e.message&&Object(r.i)(()=>{this.permission[t]=0})}}async requestAllPermission(){if(u.s||u.r)return await Object(h.a)(),void Object(r.i)(()=>{this.permission.todoNotice=1,this.permission.gmailNotice=1});const t=[[],[]];this.needPermissionList.forEach(e=>{const n=this.permissionMapper[e.key];t[0].push(...n[0]),n&&t[1].push(...n[1])});try{await s.a.request(t[0],t[1]),Object(r.i)(()=>{this.needPermissionList.forEach(t=>{this.permission[t.key]=1})})}catch(t){Object(r.i)(()=>{this.needPermissionList.forEach(t=>{this.permission[t.key]=0})})}}resetPermission(t){this.permission[t]=-1}setIconSpace(t){this.setting.icon.scale=t.iconScale,this.setting.layout.colGap=t.colGap,this.setting.layout.rowGap=t.rowGap,this.setting.search.scale=t.searchScale}openSearchSuggest(){this.setting.search.searchSuggest?this.requestPermission("searchSuggest",!0):this.setting.search.searchSuggest=!0}get sideScaleRatio(){return this.setting.view.scaleSide}toggleShowSettingHome(t){this.setting.view.isShowHomepageBtn=!t}toggleSettingHomeModal(){this.webClickName="",this.showSettingHomeModal=!this.showSettingHomeModal}closeSettingHomeModal(){this.showSettingHomeModal=!1}setWebClickName(t){this.webClickName=t}}f([r.g],g.prototype,"innerWidth",void 0),f([r.g],g.prototype,"innerHeight",void 0),f([r.g],g.prototype,"iconSpaceWidth",void 0),f([r.g],g.prototype,"iconSpaceHeight",void 0),f([r.g],g.prototype,"setting",void 0),f([r.g],g.prototype,"updatetime",void 0),f([r.g],g.prototype,"permission",void 0),f([r.e],g.prototype,"withPermissionTopUseful",null),f([r.e],g.prototype,"withPermissionTopBookmark",null),f([r.e],g.prototype,"withPermissionSearchSuggest",null),f([r.e],g.prototype,"needPermissionList",null),f([r.e],g.prototype,"sideRatio",null),f([r.b],g.prototype,"reset",null),f([r.b],g.prototype,"mergeRemote",null),f([r.b],g.prototype,"changeSetting",null),f([r.b],g.prototype,"checkPermission",null),f([r.b],g.prototype,"requestPermission",null),f([r.b],g.prototype,"requestAllPermission",null),f([r.b],g.prototype,"resetPermission",null),f([r.b],g.prototype,"setIconSpace",null),f([r.b],g.prototype,"openSearchSuggest",null),f([r.e],g.prototype,"sideScaleRatio",null),f([r.b],g.prototype,"toggleShowSettingHome",null),f([r.g],g.prototype,"showSettingHomeModal",void 0),f([r.b],g.prototype,"toggleSettingHomeModal",null),f([r.b],g.prototype,"closeSettingHomeModal",null),f([r.g],g.prototype,"webClickName",void 0),f([r.b],g.prototype,"setWebClickName",null);const m=new g;m.initSyncStore(d.h,["setting","permission","updatetime"],a.b),m.initAutoBackup("setting",["setting"]),Object(r.c)(()=>{m.firstSync&&m.setting.view.topBookmark&&m.checkPermission("topBookmark")},{delay:50}),Object(r.c)(()=>{m.firstSync&&m.setting.view.topUseful&&m.checkPermission("topUseful")},{delay:50}),Object(r.c)(()=>{m.firstSync&&m.setting.notice.gmail&&m.checkPermission("gmailNotice")},{delay:50}),Object(r.c)(()=>{l.a.firstSync&&l.a.needNotificationPermission&&m.checkPermission("todoNotice")},{delay:50}),Object(r.c)(()=>{m.firstSync&&m.setting.notice.gmailNumber&&m.checkPermission("gmailCount")},{delay:50}),Object(r.c)(()=>{m.firstSync&&m.setting.search.searchSuggest&&m.checkPermission("searchSuggest")},{delay:50}),Object(r.c)(()=>{m.firstSync&&1===m.permission.gmailNotice&&o.a.send({key:"bg-notice-gmail-permission",data:!0})}),Object(r.c)(()=>{if(m.firstSync){const{gmail:t,gmailVoice:e,gmailNumber:n}=m.setting.notice,{gmailCount:r,gmailNotice:i}=m.permission;o.a.send({key:"bg-notice-gmail-updated",data:{gmail:t&&1===i,gmailVoice:e,gmailNumber:n&&(1===i||1===r)}})}},{delay:100}),Object(r.c)(()=>{if(m.firstSync){const t={"--side-ratio":m.sideRatio,"--main-ratio":m.setting.view.scaleMain,"--icon-radius":Math.round(100*m.setting.icon.radius)+"%","--icon-font-color":m.setting.font.color,"--icon-font-size":Math.ceil(Math.max(m.setting.font.size*m.setting.view.scaleMain,12))+"px","--icon-opacity":m.setting.icon.opacity,"--icon-visible":m.setting.icon.isHideIconName?"hidden":"visible","--search-radius":""+m.setting.search.radius,"--search-opacity":m.setting.search.opacity};o.a.setStyle(t)}},{delay:50}),Object(r.c)(()=>{if(m.firstSync){let t=0,e=20;m.withPermissionTopBookmark&&(t+=36),m.withPermissionTopUseful&&(e+=26);const n={"--top-bar-height":t+"px","--settings-icon-top-offset":e+"px"};o.a.setStyle(n)}});const y=t=>{const e={"--search-height":t.searchHeight,"--search-width":t.searchWidth,"--search-margin-top":t.searchMarginTop,"--search-margin-bottom":t.searchMarginBottom,"--search-ratio":t.searchRatio,"--icon-box-width":t.iconBoxWidth,"--icon-box-height":t.iconBoxHeight,"--icon-one-height":t.iconOneHeight,"--icon-width":t.iconWidth,"--mini-icon-padding":t.miniIconPadding,"--icon-ratio":t.iconRatio,"--icon-row":m.setting.layout.row,"--icon-col":m.setting.layout.col,"--main-icons-margin":t.iconsMargin};o.a.setStyle(e)},b=(t=!0)=>{const e={row:m.setting.layout.row,col:m.setting.layout.col,rowGap:m.setting.layout.rowGap,colGap:m.setting.layout.colGap,iconScale:m.setting.icon.scale,searchScale:m.setting.search.scale,innerHeight:innerHeight,innerWidth:innerWidth,miniMode:m.setting.icon.miniMode,fontSize:m.setting.font.size,topUseful:m.withPermissionTopUseful,topBookmark:m.withPermissionTopBookmark,mainRatio:m.setting.view.scaleMain};if(t)requestIdleCallback(()=>{const t=Object(c.a)(e);y(t)});else{const t=Object(c.a)(e);y(t)}};Object(r.c)(()=>{m.firstSync&&b(!1)},{delay:40}),window.addEventListener("resize",o.a.throttle(()=>{b(!1)},56))},function(t,e,n){"use strict";n.r(e),n.d(e,"pluginStore",(function(){return l}));n(7);var r=n(2),i=n(85),o=n(397);class s extends o.a{opened(t){}}const a=Object(o.b)(new s);var c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};class u{constructor(){this.pluginsMap={"infinity://weather":"side-weather","infinity://todos":"side-todos","infinity://notes":"side-notes","infinity://history":"side-history","infinity://bookmarks":"side-bookmarks","infinity://extension":"side-extension","infinity://chrome-apps":"chrome-apps","infinity://wallpaper":"wallpaper","infinity://settings":"side-profile",search:"side-search",profile:"side-profile",editIcon:"side-editicon","side-tutorial":"side-tutorial","infinity://chatai":"chatai"},this.pluginsTags={"side-weather":!1,"side-todos":!1,"side-notes":!1,"side-history":!1,"side-bookmarks":!1,"side-extension":!1,"chrome-apps":!1,"side-profile":!1,"side-search":!1,"side-editicon":!1,"side-tutorial":!1,wallpaper:!1,chatai:!1},this.pluginViews=[],this.focusRepair=!1,Object(r.h)(()=>this.pluginViews.map(t=>t),([t])=>{a.opened(t)})}initDom(t){this.pluginsTags[t]=!0}async show(t){if(this.pluginViews.includes(t))return;const e=this.pluginsMap[t];if(!1===this.pluginsTags[e])try{await this.requestPermission(e),Object(r.i)(()=>{this.pluginsTags[e]=!0,this.pluginViews.push(t)})}catch(t){console.log("show:",t)}else this.pluginViews.push(t)}async showRepair(){this.focusRepair=!0,this.show("profile")}async showRepairBadVersion(){this.focusRepair=!0,this.show("profile")}blurRepair(){this.focusRepair=!1}requestPermission(t){switch(t){case"side-bookmarks":return i.a.request(["bookmarks","favicon"]);case"side-extension":case"chrome-apps":return i.a.request(["management"]);case"side-history":return i.a.request(["history","favicon"])}}hideLast(){const t=this.pluginViews.pop();return 0===this.pluginViews.length&&document.getElementsByTagName("newtab-main")[0].shadowRoot.querySelector(".swiper-content").style.setProperty("transform","none"),t}}c([r.g],u.prototype,"pluginsTags",void 0),c([r.b],u.prototype,"initDom",null),c([r.g],u.prototype,"pluginViews",void 0),c([r.g],u.prototype,"focusRepair",void 0),c([r.b],u.prototype,"show",null),c([r.b],u.prototype,"showRepair",null),c([r.b],u.prototype,"showRepairBadVersion",null),c([r.b],u.prototype,"blurRepair",null),c([r.b],u.prototype,"hideLast",null);const l=new u},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(92),i=n(135);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const o=new WeakMap,s=Object(i.e)(t=>e=>{if(!(e instanceof i.b))throw new Error("unsafeHTML can only be used in text bindings");const n=o.get(e);if(void 0!==n&&Object(r.h)(t)&&t===n.value&&e.value===n.fragment)return;const s=document.createElement("template");s.innerHTML=t;const a=document.importNode(s.content,!0);e.setValue(a),o.set(e,{value:t,fragment:a})})},function(t,e,n){t.exports=n.p+"images/error.f782e7c.png"},function(t,e,n){t.exports=n.p+"images/remind.896ff6f.png"},function(t,e,n){"use strict";var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let o=class extends r.a{constructor(){super(...arguments),this.src=""}render(){return r.e`
      <div class="svg" style="-webkit-mask-image: url(${this.src})"></div>
    `}};o.styles=r.b`
    :host{
      display: block;
      width: 30px;
      height: 30px;
      --size: 100%;
      -webkit-mask-size: var(--size);
      -webkit-mask-position: center;
      -webkit-mask-repeat: no-repeat;
      color: black;
    }
    .svg{
      width: inherit;
      height: inherit;
      -webkit-mask-size: inherit;
      -webkit-mask-position: inherit;
      color: inherit;
      background-color: currentcolor;
      -webkit-mask-repeat: inherit;
    }
  `,i([Object(r.g)({type:String})],o.prototype,"src",void 0),o=i([Object(r.c)("i-svg")],o)},function(t,e,n){"use strict";var r=(new Date).valueOf();function i(){return r++}var o=function(t){return localStorage.getItem(t)},s=function(t,e){localStorage.setItem(t,e)};function a(t){var e=[];for(var n in t){var r=t[n];null!=r&&!1!==r&&(!0===r&&(r=1),e.push(encodeURIComponent(n)+"="+encodeURIComponent(r)))}return e.join("&")}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r=this.baseInfo={v:1,tid:e.trackingId,uid:e.userId},i=o("ga:clientId");i||(n=Date.now()+performance.now(),i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===t?e:3&e|8).toString(16)})),s("ga:clientId",i)),r.cid=i,this.systemInfo={sr:screen.width+"x"+window.screen.height,sd:screen.colorDepth+"-bits",ul:navigator.language},this.extraInfo={dl:location.href.split("#")[0]}}return c(t,[{key:"getEventUrl",value:function(t){return this.getSendUrl("event",{ec:t.category,ea:t.action,el:t.label,ev:t.value,ni:!0===t.nonInteraction})}},{key:"event",value:function(t){return this.send("event",{ec:t.category,ea:t.action,el:t.label,ev:t.value,ni:!0===t.nonInteraction})}},{key:"getPageviewUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;return e.getSendUrl("pageview",{dl:t.location,dh:t.host,dp:t.page,dt:t.title||document.title})}},{key:"pageview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;return e.send("pageview",{dl:t.location,dh:t.host,dp:t.page,dt:t.title||document.title})}},{key:"send",value:function(t,e){var n=u({_t:i(),t:t},this.baseInfo,this.systemInfo,e),r=this.extraInfo;for(var o in r)null==n[o]&&(n[o]=r[o]);var s=new XMLHttpRequest,c="https://www.google-analytics.com/collect?"+a(n);return s.open("GET",c,!0),s.send(null),c}},{key:"getSendUrl",value:function(t,e){var n=u({_t:i(),t:t},this.baseInfo,this.systemInfo,e),r=this.extraInfo;for(var o in r)null==n[o]&&(n[o]=r[o]);return"https://www.google-analytics.com/collect?"+a(n)}}]),t}();l.version="1.0.2",e.a=l},function(t,e,n){
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
t.exports=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c="undefined"!=typeof window&&void 0!==window.document,u=c?window:{},l=!(!c||!u.document.documentElement)&&"ontouchstart"in u.document.documentElement,h=!!c&&"PointerEvent"in u,p="".concat("cropper","-crop"),d="".concat("cropper","-disabled"),f="".concat("cropper","-hidden"),g="".concat("cropper","-hide"),m="".concat("cropper","-invisible"),y="".concat("cropper","-modal"),b="".concat("cropper","-move"),v="".concat("cropper","Action"),w="".concat("cropper","Preview"),x=l?"touchstart":"mousedown",_=l?"touchmove":"mousemove",O=l?"touchend touchcancel":"mouseup",T=h?"pointerdown":x,S=h?"pointermove":_,E=h?"pointerup pointercancel":O,j=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,k=/^data:/,A=/^data:image\/jpeg;base64,/,C=/^img|canvas$/i,I={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},P=Number.isNaN||u.isNaN;function D(t){return"number"==typeof t&&!P(t)}var R=function(t){return t>0&&t<1/0};function N(t){return void 0===t}function L(t){return"object"===n(t)&&null!==t}var M=Object.prototype.hasOwnProperty;function B(t){if(!L(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&M.call(n,"isPrototypeOf")}catch(t){return!1}}function U(t){return"function"==typeof t}var F=Array.prototype.slice;function $(t){return Array.from?Array.from(t):F.call(t)}function V(t,e){return t&&U(e)&&(Array.isArray(t)||D(t.length)?$(t).forEach((function(n,r){e.call(t,n,r,t)})):L(t)&&Object.keys(t).forEach((function(n){e.call(t,t[n],n,t)}))),t}var z=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return L(t)&&n.length>0&&n.forEach((function(e){L(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},q=/\.\d*(?:0|9){12}\d*$/;function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return q.test(t)?Math.round(t*e)/e:t}var H=/^width|height|left|top|marginLeft|marginTop$/;function G(t,e){var n=t.style;V(e,(function(t,e){H.test(e)&&D(t)&&(t="".concat(t,"px")),n[e]=t}))}function Y(t,e){if(e)if(D(t.length))V(t,(function(t){Y(t,e)}));else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function X(t,e){e&&(D(t.length)?V(t,(function(t){X(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function K(t,e,n){e&&(D(t.length)?V(t,(function(t){K(t,e,n)})):n?Y(t,e):X(t,e))}var J=/([a-z\d])([A-Z])/g;function Q(t){return t.replace(J,"$1-$2").toLowerCase()}function Z(t,e){return L(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Q(e)))}function tt(t,e,n){L(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Q(e)),n)}var et=/\s\s*/,nt=function(){var t=!1;if(c){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});u.addEventListener("test",n,r),u.removeEventListener("test",n,r)}return t}();function rt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;e.trim().split(et).forEach((function(e){if(!nt){var o=t.listeners;o&&o[e]&&o[e][n]&&(i=o[e][n],delete o[e][n],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,i,r)}))}function it(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;e.trim().split(et).forEach((function(e){if(r.once&&!nt){var o=t.listeners,s=void 0===o?{}:o;i=function(){delete s[e][n],t.removeEventListener(e,i,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];n.apply(t,a)},s[e]||(s[e]={}),s[e][n]&&t.removeEventListener(e,s[e][n],r),s[e][n]=i,t.listeners=s}t.addEventListener(e,i,r)}))}function ot(t,e,n){var r;return U(Event)&&U(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(r)}function st(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var at=u.location,ct=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ut(t){var e=t.match(ct);return null!==e&&(e[1]!==at.protocol||e[2]!==at.hostname||e[3]!==at.port)}function lt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function ht(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,o=t.translateY,s=[];D(i)&&0!==i&&s.push("translateX(".concat(i,"px)")),D(o)&&0!==o&&s.push("translateY(".concat(o,"px)")),D(e)&&0!==e&&s.push("rotate(".concat(e,"deg)")),D(n)&&1!==n&&s.push("scaleX(".concat(n,")")),D(r)&&1!==r&&s.push("scaleY(".concat(r,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function pt(t,n){var r=t.pageX,i=t.pageY,o={endX:r,endY:i};return n?o:e({startX:r,startY:i},o)}function dt(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=R(r),s=R(n);if(o&&s){var a=n*e;"contain"===i&&a>r||"cover"===i&&a<r?n=r/e:r=n*e}else o?n=r/e:s&&(r=n*e);return{width:r,height:n}}function ft(t,e,n,r){var i=e.aspectRatio,o=e.naturalWidth,a=e.naturalHeight,c=e.rotate,u=void 0===c?0:c,l=e.scaleX,h=void 0===l?1:l,p=e.scaleY,d=void 0===p?1:p,f=n.aspectRatio,g=n.naturalWidth,m=n.naturalHeight,y=r.fillColor,b=void 0===y?"transparent":y,v=r.imageSmoothingEnabled,w=void 0===v||v,x=r.imageSmoothingQuality,_=void 0===x?"low":x,O=r.maxWidth,T=void 0===O?1/0:O,S=r.maxHeight,E=void 0===S?1/0:S,j=r.minWidth,k=void 0===j?0:j,A=r.minHeight,C=void 0===A?0:A,I=document.createElement("canvas"),P=I.getContext("2d"),D=dt({aspectRatio:f,width:T,height:E}),R=dt({aspectRatio:f,width:k,height:C},"cover"),N=Math.min(D.width,Math.max(R.width,g)),L=Math.min(D.height,Math.max(R.height,m)),M=dt({aspectRatio:i,width:T,height:E}),B=dt({aspectRatio:i,width:k,height:C},"cover"),U=Math.min(M.width,Math.max(B.width,o)),F=Math.min(M.height,Math.max(B.height,a)),$=[-U/2,-F/2,U,F];return I.width=W(N),I.height=W(L),P.fillStyle=b,P.fillRect(0,0,N,L),P.save(),P.translate(N/2,L/2),P.rotate(u*Math.PI/180),P.scale(h,d),P.imageSmoothingEnabled=w,P.imageSmoothingQuality=_,P.drawImage.apply(P,[t].concat(s($.map((function(t){return Math.floor(W(t))}))))),P.restore(),I}var gt=String.fromCharCode,mt=/^data:.*,/;function yt(t){var e,n=new DataView(t);try{var r,i,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,a=2;a+1<s;){if(255===n.getUint8(a)&&225===n.getUint8(a+1)){i=a;break}a+=1}if(i){var c=i+10;if("Exif"===function(t,e,n){var r="";n+=e;for(var i=e;i<n;i+=1)r+=gt(t.getUint8(i));return r}(n,i+4,4)){var u=n.getUint16(c);if(((r=18761===u)||19789===u)&&42===n.getUint16(c+2,r)){var l=n.getUint32(c+4,r);l>=8&&(o=c+l)}}}if(o){var h,p,d=n.getUint16(o,r);for(p=0;p<d;p+=1)if(h=o+12*p+2,274===n.getUint16(h,r)){h+=8,e=n.getUint16(h,r),n.setUint16(h,1,r);break}}}catch(t){e=1}return e}var bt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,r=this.cropper,i=Number(e.minContainerWidth),o=Number(e.minContainerHeight);Y(r,f),X(t,f);var s={width:Math.max(n.offsetWidth,i>=0?i:200),height:Math.max(n.offsetHeight,o>=0?o:100)};this.containerData=s,G(r,{width:s.width,height:s.height}),Y(t,f),X(r,f)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,r=Math.abs(e.rotate)%180==90,i=r?e.naturalHeight:e.naturalWidth,o=r?e.naturalWidth:e.naturalHeight,s=i/o,a=t.width,c=t.height;t.height*s>t.width?3===n?a=t.height*s:c=t.width/s:3===n?c=t.width/s:a=t.height*s;var u={aspectRatio:s,naturalWidth:i,naturalHeight:o,width:a,height:c};this.canvasData=u,this.limited=1===n||2===n,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(t.width-u.width)/2,u.top=(t.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=z({},u)},limitCanvas:function(t,e){var n=this.options,r=this.containerData,i=this.canvasData,o=this.cropBoxData,s=n.viewMode,a=i.aspectRatio,c=this.cropped&&o;if(t){var u=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;s>1?(u=Math.max(u,r.width),l=Math.max(l,r.height),3===s&&(l*a>u?u=l*a:l=u/a)):s>0&&(u?u=Math.max(u,c?o.width:0):l?l=Math.max(l,c?o.height:0):c&&(u=o.width,(l=o.height)*a>u?u=l*a:l=u/a));var h=dt({aspectRatio:a,width:u,height:l});u=h.width,l=h.height,i.minWidth=u,i.minHeight=l,i.maxWidth=1/0,i.maxHeight=1/0}if(e)if(s>(c?0:1)){var p=r.width-i.width,d=r.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,d),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,d),c&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,2===s&&(i.width>=r.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=r.height&&(i.minTop=Math.min(0,d),i.maxTop=Math.max(0,d))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=r.width,i.maxTop=r.height},renderCanvas:function(t,e){var n=this.canvasData,r=this.imageData;if(e){var i=function(t){var e=t.width,n=t.height,r=t.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:e};var i=r%90*Math.PI/180,o=Math.sin(i),s=Math.cos(i),a=e*s+n*o,c=e*o+n*s;return r>90?{width:c,height:a}:{width:a,height:c}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),o=i.width,s=i.height,a=n.width*(o/n.naturalWidth),c=n.height*(s/n.naturalHeight);n.left-=(a-n.width)/2,n.top-=(c-n.height)/2,n.width=a,n.height=c,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,G(this.canvas,z({width:n.width,height:n.height},ht({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,r=n.naturalWidth*(e.width/e.naturalWidth),i=n.naturalHeight*(e.height/e.naturalHeight);z(n,{width:r,height:i,left:(e.width-r)/2,top:(e.height-i)/2}),G(this.image,z({width:n.width,height:n.height},ht(z({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,i={width:e.width,height:e.height};n&&(e.height*n>e.width?i.height=i.width/n:i.width=i.height*n),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*r),i.height=Math.max(i.minHeight,i.height*r),i.left=e.left+(e.width-i.width)/2,i.top=e.top+(e.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=z({},i)},limitCropBox:function(t,e){var n=this.options,r=this.containerData,i=this.canvasData,o=this.cropBoxData,s=this.limited,a=n.aspectRatio;if(t){var c=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,l=s?Math.min(r.width,i.width,i.width+i.left,r.width-i.left):r.width,h=s?Math.min(r.height,i.height,i.height+i.top,r.height-i.top):r.height;c=Math.min(c,r.width),u=Math.min(u,r.height),a&&(c&&u?u*a>c?u=c/a:c=u*a:c?u=c/a:u&&(c=u*a),h*a>l?h=l/a:l=h*a),o.minWidth=Math.min(c,l),o.minHeight=Math.min(u,h),o.maxWidth=l,o.maxHeight=h}e&&(s?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(r.width,i.left+i.width)-o.width,o.maxTop=Math.min(r.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,o.maxTop=r.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&tt(this.face,v,n.width>=e.width&&n.height>=e.height?"move":"all"),G(this.cropBox,z({width:n.width,height:n.height},ht({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ot(this.element,"crop",this.getData())}},vt={initPreview:function(){var t=this.element,e=this.crossOrigin,n=this.options.preview,r=e?this.crossOriginUrl:this.url,i=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=r,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var s=n;"string"==typeof n?s=t.ownerDocument.querySelectorAll(n):n.querySelector&&(s=[n]),this.previews=s,V(s,(function(t){var n=document.createElement("img");tt(t,w,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(n.crossOrigin=e),n.src=r,n.alt=i,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(n)}))}},resetPreview:function(){V(this.previews,(function(t){var e=Z(t,w);G(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(L(t[e]))try{delete t[e]}catch(n){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(Q(e)))}(t,w)}))},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,r=n.width,i=n.height,o=t.width,s=t.height,a=n.left-e.left-t.left,c=n.top-e.top-t.top;this.cropped&&!this.disabled&&(G(this.viewBoxImage,z({width:o,height:s},ht(z({translateX:-a,translateY:-c},t)))),V(this.previews,(function(e){var n=Z(e,w),u=n.width,l=n.height,h=u,p=l,d=1;r&&(p=i*(d=u/r)),i&&p>l&&(h=r*(d=l/i),p=l),G(e,{width:h,height:p}),G(e.getElementsByTagName("img")[0],z({width:o*d,height:s*d},ht(z({translateX:-a*d,translateY:-c*d},t))))})))}},wt={bind:function(){var t=this.element,e=this.options,n=this.cropper;U(e.cropstart)&&it(t,"cropstart",e.cropstart),U(e.cropmove)&&it(t,"cropmove",e.cropmove),U(e.cropend)&&it(t,"cropend",e.cropend),U(e.crop)&&it(t,"crop",e.crop),U(e.zoom)&&it(t,"zoom",e.zoom),it(n,T,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&it(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),it(t.ownerDocument,S,this.onCropMove=this.cropMove.bind(this)),it(t.ownerDocument,E,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&it(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;U(e.cropstart)&&rt(t,"cropstart",e.cropstart),U(e.cropmove)&&rt(t,"cropmove",e.cropmove),U(e.cropend)&&rt(t,"cropend",e.cropend),U(e.crop)&&rt(t,"crop",e.crop),U(e.zoom)&&rt(t,"zoom",e.zoom),rt(n,T,this.onCropStart),e.zoomable&&e.zoomOnWheel&&rt(n,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&rt(n,"dblclick",this.onDblclick),rt(t.ownerDocument,S,this.onCropMove),rt(t.ownerDocument,E,this.onCropEnd),e.responsive&&rt(window,"resize",this.onResize)}},xt={resize:function(){if(!this.disabled){var t,e,n=this.options,r=this.container,i=this.containerData,o=r.offsetWidth/i.width,s=r.offsetHeight/i.height,a=Math.abs(o-1)>Math.abs(s-1)?o:s;1!==a&&(n.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(V(t,(function(e,n){t[n]=e*a}))),this.setCropBoxData(V(e,(function(t,n){e[n]=t*a})))))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=p,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(D(e)&&1!==e||D(n)&&0!==n||t.ctrlKey))){var r,i=this.options,o=this.pointers;t.changedTouches?V(t.changedTouches,(function(t){o[t.identifier]=pt(t)})):o[t.pointerId||0]=pt(t),r=Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?"zoom":Z(t.target,v),j.test(r)&&!1!==ot(this.element,"cropstart",{originalEvent:t,action:r})&&(t.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,Y(this.dragBox,y)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==ot(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?V(t.changedTouches,(function(t){z(n[t.identifier]||{},pt(t,!0))})):z(n[t.pointerId||0]||{},pt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?V(t.changedTouches,(function(t){delete n[t.identifier]})):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,K(this.dragBox,y,this.cropped&&this.options.modal)),ot(this.element,"cropend",{originalEvent:t,action:e}))}}},_t={change:function(t){var n,r=this.options,i=this.canvasData,o=this.containerData,s=this.cropBoxData,a=this.pointers,c=this.action,u=r.aspectRatio,l=s.left,h=s.top,p=s.width,d=s.height,g=l+p,m=h+d,y=0,b=0,v=o.width,w=o.height,x=!0;!u&&t.shiftKey&&(u=p&&d?p/d:1),this.limited&&(y=s.minLeft,b=s.minTop,v=y+Math.min(o.width,i.width,i.left+i.width),w=b+Math.min(o.height,i.height,i.top+i.height));var _=a[Object.keys(a)[0]],O={x:_.endX-_.startX,y:_.endY-_.startY},T=function(t){switch(t){case"e":g+O.x>v&&(O.x=v-g);break;case"w":l+O.x<y&&(O.x=y-l);break;case"n":h+O.y<b&&(O.y=b-h);break;case"s":m+O.y>w&&(O.y=w-m)}};switch(c){case"all":l+=O.x,h+=O.y;break;case"e":if(O.x>=0&&(g>=v||u&&(h<=b||m>=w))){x=!1;break}T("e"),(p+=O.x)<0&&(c="w",l-=p=-p),u&&(d=p/u,h+=(s.height-d)/2);break;case"n":if(O.y<=0&&(h<=b||u&&(l<=y||g>=v))){x=!1;break}T("n"),d-=O.y,h+=O.y,d<0&&(c="s",h-=d=-d),u&&(p=d*u,l+=(s.width-p)/2);break;case"w":if(O.x<=0&&(l<=y||u&&(h<=b||m>=w))){x=!1;break}T("w"),p-=O.x,l+=O.x,p<0&&(c="e",l-=p=-p),u&&(d=p/u,h+=(s.height-d)/2);break;case"s":if(O.y>=0&&(m>=w||u&&(l<=y||g>=v))){x=!1;break}T("s"),(d+=O.y)<0&&(c="n",h-=d=-d),u&&(p=d*u,l+=(s.width-p)/2);break;case"ne":if(u){if(O.y<=0&&(h<=b||g>=v)){x=!1;break}T("n"),d-=O.y,h+=O.y,p=d*u}else T("n"),T("e"),O.x>=0?g<v?p+=O.x:O.y<=0&&h<=b&&(x=!1):p+=O.x,O.y<=0?h>b&&(d-=O.y,h+=O.y):(d-=O.y,h+=O.y);p<0&&d<0?(c="sw",h-=d=-d,l-=p=-p):p<0?(c="nw",l-=p=-p):d<0&&(c="se",h-=d=-d);break;case"nw":if(u){if(O.y<=0&&(h<=b||l<=y)){x=!1;break}T("n"),d-=O.y,h+=O.y,p=d*u,l+=s.width-p}else T("n"),T("w"),O.x<=0?l>y?(p-=O.x,l+=O.x):O.y<=0&&h<=b&&(x=!1):(p-=O.x,l+=O.x),O.y<=0?h>b&&(d-=O.y,h+=O.y):(d-=O.y,h+=O.y);p<0&&d<0?(c="se",h-=d=-d,l-=p=-p):p<0?(c="ne",l-=p=-p):d<0&&(c="sw",h-=d=-d);break;case"sw":if(u){if(O.x<=0&&(l<=y||m>=w)){x=!1;break}T("w"),p-=O.x,l+=O.x,d=p/u}else T("s"),T("w"),O.x<=0?l>y?(p-=O.x,l+=O.x):O.y>=0&&m>=w&&(x=!1):(p-=O.x,l+=O.x),O.y>=0?m<w&&(d+=O.y):d+=O.y;p<0&&d<0?(c="ne",h-=d=-d,l-=p=-p):p<0?(c="se",l-=p=-p):d<0&&(c="nw",h-=d=-d);break;case"se":if(u){if(O.x>=0&&(g>=v||m>=w)){x=!1;break}T("e"),d=(p+=O.x)/u}else T("s"),T("e"),O.x>=0?g<v?p+=O.x:O.y>=0&&m>=w&&(x=!1):p+=O.x,O.y>=0?m<w&&(d+=O.y):d+=O.y;p<0&&d<0?(c="nw",h-=d=-d,l-=p=-p):p<0?(c="sw",l-=p=-p):d<0&&(c="ne",h-=d=-d);break;case"move":this.move(O.x,O.y),x=!1;break;case"zoom":this.zoom(function(t){var n=e({},t),r=0;return V(t,(function(t,e){delete n[e],V(n,(function(e){var n=Math.abs(t.startX-e.startX),i=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),s=Math.abs(t.endY-e.endY),a=Math.sqrt(n*n+i*i),c=(Math.sqrt(o*o+s*s)-a)/a;Math.abs(c)>Math.abs(r)&&(r=c)}))})),r}(a),t),x=!1;break;case"crop":if(!O.x||!O.y){x=!1;break}n=st(this.cropper),l=_.startX-n.left,h=_.startY-n.top,p=s.minWidth,d=s.minHeight,O.x>0?c=O.y>0?"se":"ne":O.x<0&&(l-=p,c=O.y>0?"sw":"nw"),O.y<0&&(h-=d),this.cropped||(X(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(s.width=p,s.height=d,s.left=l,s.top=h,this.action=c,this.renderCropBox()),V(a,(function(t){t.startX=t.endX,t.startY=t.endY}))}},Ot={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Y(this.dragBox,y),X(this.cropBox,f),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=z({},this.initialImageData),this.canvasData=z({},this.initialCanvasData),this.cropBoxData=z({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(z(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),X(this.dragBox,y),Y(this.cropBox,f)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,V(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,X(this.cropper,d)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Y(this.cropper,d)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,r=n.left,i=n.top;return this.moveTo(N(t)?t:r+Number(t),N(e)?e:i+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(D(t)&&(n.left=t,r=!0),D(e)&&(n.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var r=this.options,i=this.canvasData,o=i.width,s=i.height,a=i.naturalWidth,c=i.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&r.zoomable){var u=a*t,l=c*t;if(!1===ot(this.element,"zoom",{ratio:t,oldRatio:o/a,originalEvent:n}))return this;if(n){var h=this.pointers,p=st(this.cropper),d=h&&Object.keys(h).length?function(t){var e=0,n=0,r=0;return V(t,(function(t){var i=t.startX,o=t.startY;e+=i,n+=o,r+=1})),{pageX:e/=r,pageY:n/=r}}(h):{pageX:n.pageX,pageY:n.pageY};i.left-=(u-o)*((d.pageX-p.left-i.left)/o),i.top-=(l-s)*((d.pageY-p.top-i.top)/s)}else B(e)&&D(e.x)&&D(e.y)?(i.left-=(u-o)*((e.x-i.left)/o),i.top-=(l-s)*((e.y-i.top)/s)):(i.left-=(u-o)/2,i.top-=(l-s)/2);i.width=u,i.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return D(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,D(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(D(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(D(t)&&(n.scaleX=t,r=!0),D(e)&&(n.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,i=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-i.left,y:o.top-i.top,width:o.width,height:o.height};var s=r.width/r.naturalWidth;if(V(t,(function(e,n){t[n]=e/s})),e){var a=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=a-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=r.rotate||0),n.scalable&&(t.scaleX=r.scaleX||1,t.scaleY=r.scaleY||1),t},setData:function(t){var e=this.options,n=this.imageData,r=this.canvasData,i={};if(this.ready&&!this.disabled&&B(t)){var o=!1;e.rotatable&&D(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),e.scalable&&(D(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),D(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;D(t.x)&&(i.left=t.x*s+r.left),D(t.y)&&(i.top=t.y*s+r.top),D(t.width)&&(i.width=t.width*s),D(t.height)&&(i.height=t.height*s),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?z({},this.containerData):{}},getImageData:function(){return this.sized?z({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&V(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){e[n]=t[n]})),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&B(t)&&(D(t.left)&&(e.left=t.left),D(t.top)&&(e.top=t.top),D(t.width)?(e.width=t.width,e.height=t.width/n):D(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,n,r=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&B(t)&&(D(t.left)&&(r.left=t.left),D(t.top)&&(r.top=t.top),D(t.width)&&t.width!==r.width&&(e=!0,r.width=t.width),D(t.height)&&t.height!==r.height&&(n=!0,r.height=t.height),i&&(e?r.height=r.width/i:n&&(r.width=r.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=ft(this.image,this.imageData,e,t);if(!this.cropped)return n;var r=this.getData(),i=r.x,o=r.y,a=r.width,c=r.height,u=n.width/Math.floor(e.naturalWidth);1!==u&&(i*=u,o*=u,a*=u,c*=u);var l=a/c,h=dt({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),p=dt({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0},"cover"),d=dt({aspectRatio:l,width:t.width||(1!==u?n.width:a),height:t.height||(1!==u?n.height:c)}),f=d.width,g=d.height;f=Math.min(h.width,Math.max(p.width,f)),g=Math.min(h.height,Math.max(p.height,g));var m=document.createElement("canvas"),y=m.getContext("2d");m.width=W(f),m.height=W(g),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,f,g);var b=t.imageSmoothingEnabled,v=void 0===b||b,w=t.imageSmoothingQuality;y.imageSmoothingEnabled=v,w&&(y.imageSmoothingQuality=w);var x,_,O,T,S,E,j=n.width,k=n.height,A=i,C=o;A<=-a||A>j?(A=0,x=0,O=0,S=0):A<=0?(O=-A,A=0,S=x=Math.min(j,a+A)):A<=j&&(O=0,S=x=Math.min(a,j-A)),x<=0||C<=-c||C>k?(C=0,_=0,T=0,E=0):C<=0?(T=-C,C=0,E=_=Math.min(k,c+C)):C<=k&&(T=0,E=_=Math.min(c,k-C));var I=[A,C,x,_];if(S>0&&E>0){var P=f/a;I.push(O*P,T*P,S*P,E*P)}return y.drawImage.apply(y,[n].concat(s(I.map((function(t){return Math.floor(W(t))}))))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||N(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var i="crop"===t,o=e.movable&&"move"===t;t=i||o?t:"none",e.dragMode=t,tt(n,v,t),K(n,p,i),K(n,b,o),e.cropBoxMovable||(tt(r,v,t),K(r,p,i),K(r,b,o))}return this}},Tt=u.Cropper,St=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,t),!e||!C.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=z({},I,B(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,n,o;return e=t,o=[{key:"noConflict",value:function(){return window.Cropper=Tt,t}},{key:"setDefaults",value:function(t){z(I,B(t)&&t)}}],(n=[{key:"init",value:function(){var t,e=this.element,n=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===n){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(k.test(t))A.test(t)?this.read((i=t.replace(mt,""),o=atob(i),s=new ArrayBuffer(o.length),V(a=new Uint8Array(s),(function(t,e){a[e]=o.charCodeAt(e)})),s)):this.clone();else{var i,o,s,a,c=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=u,c.onerror=u,c.ontimeout=u,c.onprogress=function(){"image/jpeg"!==c.getResponseHeader("content-type")&&c.abort()},c.onload=function(){e.read(c.response)},c.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&ut(t)&&n.crossOrigin&&(t=lt(t)),c.open("GET",t,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===n.crossOrigin,c.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,r=yt(t),i=0,o=1,s=1;if(r>1){this.url=function(t,e){for(var n=[],r=new Uint8Array(t);r.length>0;)n.push(gt.apply(null,$(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}(t,"image/jpeg");var a=function(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:r}}(r);i=a.rotate,o=a.scaleX,s=a.scaleY}e.rotatable&&(n.rotate=i),e.scalable&&(n.scaleX=o,n.scaleY=s),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,n=t.crossOrigin,r=e;this.options.checkCrossOrigin&&ut(e)&&(n||(n="anonymous"),r=lt(e)),this.crossOrigin=n,this.crossOriginUrl=r;var i=document.createElement("img");n&&(i.crossOrigin=n),i.src=r||e,i.alt=t.alt||"The image to crop",this.image=i,i.onload=this.start.bind(this),i.onerror=this.stop.bind(this),Y(i,g),t.parentNode.insertBefore(i,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var n=u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent),r=function(e,n){z(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.initialImageData=z({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||n){var i=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=i,i.onload=function(){r(i.width,i.height),n||o.removeChild(i)},i.src=e.src,n||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(i))}else r(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,n=this.image,r=t.parentNode,i=document.createElement("div");i.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=i.querySelector(".".concat("cropper","-container")),s=o.querySelector(".".concat("cropper","-canvas")),a=o.querySelector(".".concat("cropper","-drag-box")),c=o.querySelector(".".concat("cropper","-crop-box")),u=c.querySelector(".".concat("cropper","-face"));this.container=r,this.cropper=o,this.canvas=s,this.dragBox=a,this.cropBox=c,this.viewBox=o.querySelector(".".concat("cropper","-view-box")),this.face=u,s.appendChild(n),Y(t,f),r.insertBefore(o,t.nextSibling),this.isImg||X(n,g),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,Y(c,f),e.guides||Y(c.getElementsByClassName("".concat("cropper","-dashed")),f),e.center||Y(c.getElementsByClassName("".concat("cropper","-center")),f),e.background&&Y(o,"".concat("cropper","-bg")),e.highlight||Y(u,m),e.cropBoxMovable&&(Y(u,b),tt(u,v,"all")),e.cropBoxResizable||(Y(c.getElementsByClassName("".concat("cropper","-line")),f),Y(c.getElementsByClassName("".concat("cropper","-point")),f)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),U(e.ready)&&it(t,"ready",e.ready,{once:!0}),ot(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),X(this.element,f))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&i(e.prototype,n),o&&i(e,o),t}();return z(St.prototype,bt,vt,wt,xt,_t,Ot),St}()},function(t,e,n){t.exports=n.p+"images/color.321ebce.jpg"},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(248),i=n(208);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(442),i=n(438),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(515);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(517),i=n(518),o=n(407),s=n(444),a=n(521),c=n(522),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),h=!n&&!l&&s(t),p=!n&&!l&&!h&&c(t),d=n||l||h||p,f=d?r(t.length,String):[],g=f.length;for(var m in t)!e&&!u.call(t,m)||d&&("length"==m||h&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},function(t,e,n){(function(t){var r=n(150),i=n(520),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;t.exports=c}).call(this,n(408)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(439),i=n(445);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(450),i=n(451),o=n(413),s=n(448),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:s;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(446)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(450),i=n(407);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){t.exports=n.p+"images/question.b0f36f5.svg"},,,function(t,e,n){t.exports=n.p+"images/spinner.86352cb.svg"},function(t,e,n){t.exports=n.p+"images/spinner.c9f85c6.gif"},function(t,e,n){t.exports=n.p+"images/pwd-show.df8adfc.svg"},function(t,e,n){t.exports=n.p+"images/pwd-hide.a8bf451.svg"},,,,,,,,,,function(t,e,n){"use strict";var r=n(1),i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let o=class extends r.a{constructor(){super(...arguments),this.type="",this.iconfont=!1}render(){return this.iconfont?r.e`
        <svg part="svg">
          <use href="${n(472)}#${this.type}" style=${this.color?`fill: ${this.color};`:""}></use>
        </svg>
      `:r.e`
        <svg part="svg">
          <use href="${n(473)}#${this.type}"></use>
        </svg>
      `}};o.styles=r.b`
    :host {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 20px;
      height: 20px;
      color: #333;
    }
    svg {
      width: inherit;
      height: inherit;
      color: inherit;
      fill: currentColor;
    }
  `,i([Object(r.g)({type:String})],o.prototype,"type",void 0),i([Object(r.g)({type:Boolean})],o.prototype,"iconfont",void 0),i([Object(r.g)({type:String})],o.prototype,"color",void 0),o=i([Object(r.c)("i-usesvg")],o)},function(t,e,n){"use strict";var r=n(1),i=r.b`:host{--button-padding: 0 10px;--border-color: transparent;--border-raduis: 6px;--font-color: #333;--font-size: 14px;--hover-color: #333;--hover-font-color: #fff;display:block}:host ::-moz-focus-inner{border:0}:host([primary]){--font-color: #fff}:host([primary]) button{background:#5b5b5b}:host([primary]) button:hover{background:#333}:host([white]){--border-color: #ebebeb}:host([white]) button{background:#fff}:host([white]:not([disabled])) button:hover{background:#efefef}:host([white][disabled]){--font-color: #999;cursor:not-allowed}:host([white][disabled]) button{cursor:not-allowed}:host([disabled]:not([white])) button{opacity:.5;cursor:not-allowed}:host([loading]) button{opacity:.5;cursor:not-allowed;display:flex;align-items:center}:host([loading]) .loading{width:36px;vertical-align:middle;margin-left:3px}:host([loading]) button>span{flex:1;width:0}button{display:inline-block;width:100%;height:100%;min-height:28px;border:1px solid var(--border-color);outline:none;border-radius:var(--border-raduis);color:var(--font-color);padding:var(--button-padding);background:#efefef;font-size:var(--font-size);transition:all .3s;cursor:pointer;overflow:hidden;position:relative}button>span{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:14px;width:100%;display:block}button:hover{background:#dfdfdf}`,o=n(456),s=n.n(o),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let u=class extends r.a{constructor(){super(...arguments),this.disabled=!1,this.scaleRatio=1,this.loading=!1}firstUpdated(){this.addEventListener("mousedown",t=>{const{left:e,top:n,width:r}=this.getBoundingClientRect(),i=r/this.offsetWidth;this.style.setProperty("--x",(t.clientX-e)/i+"px"),this.style.setProperty("--y",(t.clientY-n)/i+"px")}),this.addEventListener("click",t=>{this.loading&&t.stopPropagation()},!0)}render(){return r.e`
      <button ?disabled="${this.disabled}">
        <span><slot></slot></span>
        ${this.renderSpin()}
      </button>
    `}renderSpin(){return this.loading?r.e` <img class="loading" src=${s.a} /> `:r.e``}};u.styles=i,a([Object(r.g)({type:Boolean,reflect:!0}),c("design:type",Object)],u.prototype,"disabled",void 0),a([Object(r.g)({type:Number}),c("design:type",Object)],u.prototype,"scaleRatio",void 0),a([Object(r.g)({type:Boolean,reflect:!0}),c("design:type",Object)],u.prototype,"loading",void 0),u=a([Object(r.c)("infinito-button")],u);function l(t,e,n,r=!0,i=!0){const o=new CustomEvent(e,{detail:n,bubbles:r,composed:i});t.dispatchEvent(o)}const h=(t,e)=>{let n=!1;const r=e+5,i=()=>{n=!0,t.removeEventListener("transitionend",i)};t.addEventListener("transitionend",i),setTimeout(()=>{n||(t=>{t.dispatchEvent(new Event("transitionend"))})(t)},r)};var p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let f=class extends r.a{constructor(){super(...arguments),this.checked=!1,this.disabled=!1}_changeHandler(){this.checked=this.formElement.checked,l(this,"change",{checked:this.checked})}render(){return r.e`
      <div class="switch-wrapper">
        <input
          hidden
          id="switch"
          type="checkbox"
          role="switch"
          .disabled="${this.disabled}"
          .checked=${this.checked}
          @change="${this._changeHandler}"
        >
        <label class="switch" for="switch"></label>
      </div>
    `}};f.styles=r.b`
    :host {
      --switch-color: #333;
    }
    .switch {
      box-sizing: border-box;
      display: inline-block;
      position: relative;
      width: 24px;
      height: 16px;
      border-radius: 20px;
      border: 2px solid var(--switch-color);
      transition: background 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      vertical-align: middle;
      cursor: pointer;
      opacity: .2;
    }
    .switch::before {
      content: '';
      position: absolute;
      top: 1px;
      left: 1px;
      width: 10px;
      height: 10px;
      background: var(--switch-color);
      border-radius: 50%;
      transition: left 0.28s cubic-bezier(0.4, 0, 0.2, 1),
        background 0.28s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
    }
    /* .switch:active::before {
      box-shadow: 0 2px 8px rgba(0,0,0,0.28), 0 0 0 20px rgba(128,128,128,0.1);
    } */
    input:checked + .switch {
      border: 2px solid var(--switch-color);
      opacity: 1;
    }
    input:checked + .switch::before {
      left: 9px;
      background: var(--switch-color);
    }
    /* input:checked + .switch:active::before {
      box-shadow: 0 2px 8px rgba(0,0,0,0.28), 0 0 0 20px rgba(128,128,128,0.1);
    } */
    :host([disabled]) .switch {
      cursor: not-allowed;
    }
    input:disabled + .switch {
      cursor: not-allowed
    }
  `,p([Object(r.g)({type:Boolean}),d("design:type",Object)],f.prototype,"checked",void 0),p([Object(r.g)({type:Boolean}),d("design:type",Object)],f.prototype,"disabled",void 0),p([Object(r.h)("input"),d("design:type",HTMLInputElement)],f.prototype,"formElement",void 0),f=p([Object(r.c)("infinito-switch")],f);var g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},m=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let y=class extends r.a{constructor(){super(...arguments),this.value=0,this.text="",this.min=0,this.max=10,this.step=1,this.readonly=!1}stepChangeValue(t){var e;let n=this.value;"up"===t?this.value+this.step<this.max?n+=this.step:n=this.max:"down"===t&&(this.value-this.step>this.min?n-=this.step:n=this.min);const r=null===(e=this.step.toString().split(".")[1])||void 0===e?void 0:e.length;n=Number(n.toFixed(r)),this.value=n,l(this,"on-change",{value:this.value})}render(){return r.e`
      <div class="i-input-number">
        <div class="input-wrap">
          ${this.readonly?r.e`<span class="input">${this.text}</span>`:r.e`<input class="input" value=${this.value} />`}
        </div>
        <div class="input-handler-wrap">
          <span @click="${()=>this.stepChangeValue("up")}" class="input-handler input-handler-up">
            <svg
              width="7px"
              height="5px"
              viewBox="0 0 7 5"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <title>加@2x</title>
              <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="设置" transform="translate(-368.000000, -892.000000)" fill="#999999">
                  <g id="编组-12" transform="translate(319.000000, 887.000000)">
                    <polygon
                      id="加"
                      transform="translate(52.500000, 7.500000) scale(1, -1) translate(-52.500000, -7.500000) "
                      points="49 5 56 5 52.5 10"
                    ></polygon>
                  </g>
                </g>
              </g>
            </svg>
          </span>
          <span
            @click="${()=>this.stepChangeValue("down")}"
            class="input-handler input-handler-down"
          >
            <svg
              width="7px"
              height="5px"
              viewBox="0 0 7 5"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <title>减@2x</title>
              <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="设置" transform="translate(-368.000000, -906.000000)" fill="#999999">
                  <g id="编组-12" transform="translate(319.000000, 887.000000)">
                    <polygon id="减" points="49 19 56 19 52.5 24"></polygon>
                  </g>
                </g>
              </g>
            </svg>
          </span>
        </div>
      </div>
    `}};y.styles=r.b`
    :host {
      --border-color: #fff;
      --bg-input-color:#fff
    }
    .i-input-number {
      height: 28px;
      min-width: 60px;
      box-sizing: border-box;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      background: var(--bg-input-color, #fff);
      border-radius: 6px;
      border: 1px solid var(--border-color, #fff);
      transition: border-color 0.3s;
      overflow: hidden;
    }
    .i-input-number:hover {
      border-color: rgba(220, 220, 220, 1);
    }
    .i-input-number:hover .input-handler-wrap {
      opacity: 1;
    }
    .input-wrap {
      flex-grow: 1;
    }
    .input-wrap > .input {
      display: block;
      width: 100%;
      height: 100%;
      padding: 4px;
      box-sizing: border-box;
      outline: 0;
      border: 0;
    }
    .input-handler-wrap {
      opacity: 0;
      flex-grow: 0;
      flex-shrink: 0;
      width: 15px;
      box-sizing: border-box;
      border-left: 1px solid #dcdcdc;
      height: 100%;
      display: flex;
      flex-direction: column;
      transition: opacity 0.3s;
    }
    .input-handler {
      flex-grow: 0;
      flex-shrink: 0;
      height: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #fff;
      transition: background-color 0.3s;
    }
    .input-handler-down{
      border-top: 1px solid #dcdcdc;
    }
    .input-handler:hover {
      background-color: #EFEFEF;
    }
  `,g([Object(r.g)({type:Number}),m("design:type",Object)],y.prototype,"value",void 0),g([Object(r.g)({type:String}),m("design:type",Object)],y.prototype,"text",void 0),g([Object(r.g)({type:Number}),m("design:type",Object)],y.prototype,"min",void 0),g([Object(r.g)({type:Number}),m("design:type",Object)],y.prototype,"max",void 0),g([Object(r.g)({type:Number}),m("design:type",Object)],y.prototype,"step",void 0),g([Object(r.g)({type:Boolean}),m("design:type",Object)],y.prototype,"readonly",void 0),y=g([Object(r.c)("infinito-inputnumber")],y);var b=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let w=class extends r.a{constructor(){super(...arguments),this.name="",this.value=0,this.min=0,this.max=10,this.step=1,this.suffix="",this.sliderX=0,this.sliderWidth=0,this._touchDown=!1,this._mouseMove=t=>{let{clientX:e}=t;window.TouchEvent&&t instanceof TouchEvent&&(e=t.touches[0].clientX),this.moveBall(e)},this._mouseUp=t=>{this._touchDown=!1,t.target.removeEventListener("touchmove",this._mouseMove),t.target.removeEventListener("touchend",this._mouseUp),document.body.removeEventListener("mousemove",this._mouseMove),window.removeEventListener("mouseup",this._mouseUp),l(this,"on-end",{value:this.value})},this.emitChange=((t,e=16)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}})(()=>{l(this,"on-change",{value:this.value})},20)}firstUpdated(){this.addEventListener("click",t=>{const{clientX:e}=t,{left:n,width:r}=this.$slider.getBoundingClientRect();this.sliderX=n,this.sliderWidth=r,this.moveBall(e)})}moveBall(t){var e;const{sliderX:n,sliderWidth:r}=this;let i=(r-(n+r-t))/r;i>1?i=1:i<0&&(i=0);const o=(this.max-this.min)*i+this.min,s=(null===(e=this.step.toString().split(".")[1])||void 0===e?void 0:e.length)||0,a=Number(o.toFixed(s));this.value!==a&&(this.value=a,this.emitChange())}pickBall(t){if(!0!==this._touchDown)if(this._touchDown=!0,window.TouchEvent&&t instanceof TouchEvent){const{left:e,width:n}=this.$slider.getBoundingClientRect();this.sliderX=e,this.sliderWidth=n,t.target.addEventListener("touchmove",this._mouseMove),t.target.addEventListener("touchend",this._mouseUp),l(this,"on-start",{value:this.value})}else{const{button:e}=t;if(0!==e)return;const{left:n,width:r}=this.$slider.getBoundingClientRect();this.sliderX=n,this.sliderWidth=r,document.body.addEventListener("mousemove",this._mouseMove),window.addEventListener("mouseup",this._mouseUp),l(this,"on-start",{value:this.value})}}render(){let t=0;return this.value!==this.min&&(t=(this.value-this.min)/(this.max-this.min)),r.e`
      <div class="i-slider">
        <div class="i-slider-picked" style="width:${Math.round(100*t)}%">
          <div
            @click="${t=>t.stopPropagation()}"
            @mousedown="${this.pickBall}"
            @touchstart="${this.pickBall}"
            class="ball"
          ></div>
        </div>
      </div>
      <div
        @click="${t=>{t.stopPropagation()}}"
        class="i-picker-tips"
      >
        <infinito-inputnumber
          readonly
          .step=${this.step}
          .min=${this.min}
          .max=${this.max}
          .text="${this.translator?r.e`${this.translator(this.value)+this.suffix}`:r.e`${this.value+this.suffix}`}"
          .value="${this.value}"
          @on-change="${t=>{this.value=t.detail.value}}"
        ></infinito-inputnumber>
      </div>
    `}};w.styles=r.b`
    :host {
      display: flex;
      align-items: center;
      padding: 0;
      width: 100%;
      cursor: pointer;
      --bg-color:#fff;
    }
    .i-slider {
      flex-grow: 1;
      display: flex;
      height: 2px;
      background-color: #eeeeee;
      margin-right: 10px;
    }
    .i-slider-picked {
      position: relative;
      height: 2px;
      background-color: #333;
    }
    .ball {
      position: absolute;
      right: 0;
      transform: translate(50%, -50%);
      width: 14px;
      height: 14px;
      background: rgba(255, 255, 255, 1);
      border-radius: 50%;
      border: 2px solid rgba(51, 51, 51, 1);
      transition-timing-function: ease;
      transition-duration: 0.3s;
      transition-property: box-shadow;
    }
    .ball:active {
      box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.1);
    }
    .i-picker-tips {
      padding: 4px 0;
      width: 60px;
      text-align: right;
      font-weight: 500;
      color: rgba(51, 51, 51, 1);
    }
    infinito-inputnumber{
      --border-color:var(--bg-color);
      --bg-input-color:var(--bg-color);
    }
  `,b([Object(r.h)(".i-slider"),v("design:type",HTMLDivElement)],w.prototype,"$slider",void 0),b([Object(r.g)({type:String}),v("design:type",Object)],w.prototype,"name",void 0),b([Object(r.g)({type:Number}),v("design:type",Object)],w.prototype,"value",void 0),b([Object(r.g)({type:Number}),v("design:type",Object)],w.prototype,"min",void 0),b([Object(r.g)({type:Number}),v("design:type",Object)],w.prototype,"max",void 0),b([Object(r.g)({type:Number}),v("design:type",Object)],w.prototype,"step",void 0),b([Object(r.g)({type:String}),v("design:type",Object)],w.prototype,"suffix",void 0),b([Object(r.g)({attribute:!1}),v("design:type",Function)],w.prototype,"translator",void 0),w=b([Object(r.c)("infinito-slider")],w);var x=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let O=class extends r.a{constructor(){super(...arguments),this.cTitle="",this.close=!1,this.isTransition=!1}handleChange(){this.close?this.show():this.hide()}show(){if(this.isTransition||!this.close)return;this.$cardBody.style.height="0px",this.$cardBody.classList.add("transition"),this.isTransition=!0,this.close=!1;this.$cardBody.addEventListener("transitionend",()=>{this.$cardBody.style.height="",this.$cardBody.classList.remove("transition"),this.isTransition=!1},{once:!0}),h(this.$cardBody,300),this.$cardBody.style.height=this.$cardBody.scrollHeight+"px"}hide(){if(this.isTransition||this.close)return;this.$cardBody.style.height=this.$cardBody.getBoundingClientRect().height+"px",this.$cardBody.classList.add("transition"),this.$cardBody.offsetHeight,this.isTransition=!0,this.close=!0;this.$cardBody.addEventListener("transitionend",()=>{this.$cardBody.style.height="",this.$cardBody.classList.remove("transition"),this.isTransition=!1},{once:!0}),h(this.$cardBody,300),this.$cardBody.style.height="0px"}render(){let t=r.e``;return this.cTitle&&(t=this.renderHeading()),r.e`
      <div class="infinito-card-wrapper ${this.close?"close":"open"}">
        ${t}
        <div class="card-body">
          <div class="card-body-wrapper">
            <slot></slot>
          </div>
        </div>
      </div>
    `}renderHeading(){const t=this.close?r.e`${r.e`
    <svg width="12px" height="13px" viewBox="0 0 12 13">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-358.000000, -214.000000)" stroke="#CCCCCC" stroke-width="2">
          <g transform="translate(30.000000, 188.000000)">
            <g transform="translate(20.000000, 20.000000)">
              <g transform="translate(308.000000, 6.000000)">
                <line x1="0" y1="6.5" x2="12" y2="6.5"></line>
                <line x1="6" y1="0.5" x2="6" y2="12.5"></line>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  `}`:r.e`${r.e`
    <svg width="12px" height="13px" viewBox="0 0 12 13">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-358.000000, -147.000000)" stroke="#CCCCCC" stroke-width="2">
          <g transform="translate(50.000000, 141.000000)">
            <g transform="translate(308.000000, 6.000000)">
              <line x1="0" y1="6.5" x2="12" y2="6.5"></line>
            </g>
          </g>
        </g>
      </g>
    </svg>
  `}`;return r.e`
      <div class="card-head" @click=${this.handleChange}>
        <div class="card-head-wrapper">
          <div class="card-head-title">${this.cTitle}</div>
            <div class="card-extra">
              ${t}
            </div>
          </div>
        </div>
      </div>
    `}};O.styles=r.b`
    :host {
      display: block;
      --padding-bottom: 30px;
      --card-color: #fff;
      --border-radius: 0px;
      --margin-left: 20px;
      --margin-right: 20px;
    }
    .infinito-card-wrapper {
      margin-bottom: 30px;
      padding-top: 20px;
      padding-bottom: var(--padding-bottom);
      background: var(--card-color);
      border-radius: var(--border-radius);
      border-bottom: 1px solid transparent;
      transition: margin-bottom 0.3s ease-in-out, padding-bottom 0.3s ease-in-out;
    }
    .infinito-card-wrapper.close {
      margin-bottom: 0;
      border-bottom-color: #f5f5f5;
      padding-bottom: 20px;
    }
    .close .card-body {
      height: 0;
    }
    .card-body {
      transition: height 0.3s ease-in-out;
    }
    .close .card-body,
    .transition.card-body {
      overflow: hidden;
    }
    .card-head {
      margin-left: 20px;
      margin-right: 20px;
    }
    .card-body-wrapper {
      margin-left: var(--margin-left);
      margin-right: var(--margin-right);
    }

    .card-head-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
    }

    .card-head-wrapper:after {
      content: '';
      position: absolute;
      inset: -20px;
      bottom: -10px;
    }

    .infinito-card-wrapper.close .card-head-wrapper:after {
      bottom: -20px;
    }

    .card-extra {
      transition: opacity 0.3s;
      cursor: pointer;
    }
    .card-extra:hover {
      opacity: 0.5;
    }
    .card-head-title {
      font-size: 18px;
      color: #333;
      font-weight: 700;
    }
  `,x([Object(r.g)({type:String}),_("design:type",Object)],O.prototype,"cTitle",void 0),x([Object(r.g)({type:Boolean,reflect:!0}),_("design:type",Object)],O.prototype,"close",void 0),x([Object(r.g)({type:Boolean}),_("design:type",Object)],O.prototype,"isTransition",void 0),x([Object(r.h)(".card-body"),_("design:type",HTMLDivElement)],O.prototype,"$cardBody",void 0),O=x([Object(r.c)("infinito-card")],O);var T=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},S=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let E=class extends r.a{constructor(){super(...arguments),this.checked=!1,this.disabled=!1,this.value=""}render(){return r.e`
      <label class="radio-wrapper">
        <span class="radio">
          <input
            class="radio-input"
            type="radio"
            .value="${this.value}"
            .checked="${this.checked}"
            ?disabled="${this.disabled}"
            @change="${this._changeHandle}"
          />
          <span class="radio-inner"></span>
        </span>
        <span class="radio-content">
          <slot></slot>
        </span>
      </label>
    `}_changeHandle(){this.checked=this.input.checked,l(this,"change",{checked:this.checked})}};E.styles=r.b`
    :host {
      --border-color: #333;
      display: inline-flex;
    }
    :host([disabled]) {
      opacity: .6;
    }
    .radio-wrapper {
      display: inline-flex;
      align-items: center;
      margin: 0;
      margin-right: 10px;
      padding: 0;
      color: #333;
      font-size: 14px;
      cursor: pointer;
    }
    :host([disabled]) .radio-wrapper {
      cursor: not-allowed;
    }
    .radio {
      position: relative;
      display: inline-block;
      margin-right: 8px;
    }
    .radio-input {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      margin: 0;
      padding: 0;
      z-index: 1;
      opacity: 0;
      cursor: pointer;
    }
    :host([disabled]) .radio-input {
      cursor: not-allowed;
    }
    .radio-inner {
      box-sizing: border-box;
      position: relative;
      display: block;
      width: 14px;
      height: 14px;
      border: 2px solid var(--border-color);
      border-radius: 50%;
      transition: all .3s;
    }
    .radio-inner::after {
      content: " ";
      position: absolute;
      top: 2px;
      left: 2px;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      opacity: 0;
      transition: all .3s;
    }
    .radio-input:checked + .radio-inner {
      background: var(--border-color);
    }
    .radio-input:checked + .radio-inner::after {
      background: #fff;
      opacity: 1;
    }
  `,T([Object(r.h)("input"),S("design:type",HTMLInputElement)],E.prototype,"input",void 0),T([Object(r.g)({type:Boolean}),S("design:type",Object)],E.prototype,"checked",void 0),T([Object(r.g)({type:Boolean,reflect:!0}),S("design:type",Object)],E.prototype,"disabled",void 0),T([Object(r.g)({type:String}),S("design:type",Object)],E.prototype,"value",void 0),E=T([Object(r.c)("infinito-radio")],E);var j=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},k=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let A=class extends r.a{constructor(){super(...arguments),this.radioNodes=[]}render(){return r.e`
      <div class="radio-group-wrapper">
        <slot id="slot" @slotchange="${this.slotChange}"></slot>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.addEventListener("change",this.handleChecked)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",this.handleChecked)}handleChecked(t){const e=t.target,n=t.detail.checked,r=e.value||"";n?this.selected=n&&r||"":e.checked=!0,this.radioNodes.forEach(t=>t.checked=t===e),l(this,"on-change",{selected:this.selected})}slotChange(){this.requestUpdate()}updated(){const t=this.radioSlot.assignedNodes();if(t&&t.length)for(let e=0;e<t.length;e++){const n=t[e];if("INFINITO-RADIO"===n.tagName){this.radioNodes.push(n);const t=n.value||"";this.selected&&t===this.selected?n.checked=!0:n.checked=!1}}}};j([Object(r.h)("#slot"),k("design:type",HTMLElement)],A.prototype,"radioSlot",void 0),j([Object(r.g)({type:String}),k("design:type",String)],A.prototype,"selected",void 0),A=j([Object(r.c)("infinito-radio-group")],A);var C=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},I=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let P=class extends r.a{constructor(){super(...arguments),this.closeable=!0,this.open=!1,this.duration=200,this.durationBg=200,this.bezierFn="ease-in",this.bezierBgFn="ease-in"}firstUpdated(){this.$modalMask.onwheel=()=>!1}updated(t){t.has("open")&&!0===this.open&&(this.$modal.animate([{opacity:"0"},{opacity:"1"}],{duration:this.durationBg,easing:this.bezierBgFn}),this.$modalContainer.animate([{opacity:"0",transform:"scale(0.8)"},{opacity:"1",transform:"none"}],{duration:this.duration,easing:this.bezierFn}))}render(){return r.e`
      <div class="modal ${this.open?"modal-open":""}">
        <div class="modal-mask" @click=${this.handleMaskClick}></div>
        <div class="model-holder-top"></div>
        <div class="modal-container">
          <span class="modal-close" @click="${this.close}">
            ${this.closeable?r.e`
    <svg width="14px" height="14px" viewBox="0 0 14 14">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="1">
        <g transform="translate(-1086.000000, -226.000000)" fill="#333333" fill-rule="nonzero">
          <g transform="translate(320.000000, 206.000000)">
            <g>
              <g transform="translate(766.000000, 20.000000)">
                <g>
                  <path d="M13.2303076,0.802251953 C12.8052342,0.377204963 12.1160812,0.377207829 11.6910113,0.802258354 L7.05672461,5.43633398 L7.05672461,5.43633398 L2.38977766,0.769621758 C1.96470002,0.344565503 1.27553537,0.344566517 0.850458984,0.769624023 C0.425408624,1.19465551 0.425393322,1.883783 0.850424806,2.30883336 C0.850436954,2.30884551 0.850449102,2.30885766 0.85046125,2.3088698 L5.5174082,6.97558203 L5.5174082,6.97558203 L0.866831437,11.6259476 C0.441760949,12.0509988 0.441745304,12.7401586 0.866796493,13.1652291 C0.866798899,13.1652315 0.866801305,13.1652339 0.866803711,13.1652363 C1.29186357,13.5903075 1.98103035,13.5903186 2.40610392,13.1652611 L7.05671094,8.51483008 L7.05671094,8.51483008 L11.6909746,13.1489765 C12.1160521,13.5740432 12.8052287,13.5740389 13.2303008,13.1489668 C13.6553632,12.7239044 13.6553632,12.034742 13.2303008,11.6096796 C13.2302959,11.6096747 13.230291,11.6096699 13.2302862,11.609665 L8.59602734,6.97558203 L8.59602734,6.97558203 L13.2303169,2.34146831 C13.6553572,1.91644415 13.6553703,1.22733077 13.2303461,0.802290481 C13.2303333,0.802277638 13.2303205,0.802264795 13.2303076,0.802251953 Z"></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  `:null}
          </span>
          <div class="modal-body">
            <slot name="body"></slot>
          </div>
          <div class="modal-foot">
            <slot name="foot"></slot>
          </div>
        </div>
        <div class="model-holder-bottom"></div>
      </div>
    `}close(){this.open=!1,this.onCancel&&this.onCancel()}handleMaskClick(){this.closeable&&(this.open=!1,this.onCancel&&this.onCancel())}};P.styles=r.b`
    :host {
      --top: 0;
      --right: 0;
      --bottom: 0;
      --left: 0;
      --modal-padding: 20px;
      --border-radius: 6px;
      --margin-top:0;
    }
    .modal {
      position: fixed;
      top: var(--top);
      right: var(--right);
      bottom: var(--bottom);
      left: var(--left);
      flex-direction: column;
      align-items: center;
      z-index: 100000;
      display: none;
      margin-top:var(--margin-top)
    }
    .modal.modal-open {
      display: flex;
    }
    .modal-mask {
      position: fixed;
      top: var(--top);
      right: var(--right);
      bottom: var(--bottom);
      left: var(--left);
      background: rgba(0, 0, 0, 0.4);
      z-index: -1;
    }
    .modal-close {
      position: absolute;
      right: 20px;
      top: 20px;
      cursor: pointer;
      transition: opacity 0.3s;
      opacity: 0.2;
    }
    .modal-close:hover {
      opacity: 0.4;
    }
    .model-holder-top,
    .model-holder-bottom {
      flex-grow: 1;
    }
    .model-holder-bottom {
      height: var(--modal-top, 15vh);
    }
    .modal-container {
      box-sizing: border-box;
      position: relative;
      padding: var(--modal-padding);
      background: #fff;
      box-shadow: 0px 2px 14px 0px rgba(0, 0, 0, 0.14);
      border-radius: var(--border-radius);
      pointer-events: auto;
    }
  `,C([Object(r.g)({type:Boolean,reflect:!0}),I("design:type",Object)],P.prototype,"closeable",void 0),C([Object(r.g)({type:Boolean,reflect:!0}),I("design:type",Object)],P.prototype,"open",void 0),C([Object(r.g)(),I("design:type",Object)],P.prototype,"onCancel",void 0),C([Object(r.g)({type:Number}),I("design:type",Object)],P.prototype,"duration",void 0),C([Object(r.g)({type:Number}),I("design:type",Object)],P.prototype,"durationBg",void 0),C([Object(r.g)({type:String}),I("design:type",Object)],P.prototype,"bezierFn",void 0),C([Object(r.g)({type:String}),I("design:type",Object)],P.prototype,"bezierBgFn",void 0),C([Object(r.h)(".modal"),I("design:type",HTMLDivElement)],P.prototype,"$modal",void 0),C([Object(r.h)(".modal-container"),I("design:type",HTMLDivElement)],P.prototype,"$modalContainer",void 0),C([Object(r.h)(".modal-mask"),I("design:type",HTMLDivElement)],P.prototype,"$modalMask",void 0),P=C([Object(r.c)("infinito-modal")],P);var D=n(457),R=n.n(D),N=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},L=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let M=class extends r.a{constructor(){super(...arguments),this.spinning=!1,this.tip="",this.delay=0,this.isSvg=!1}render(){let t=r.e``;return this.tip&&(t=this.renderTip()),r.e`
      <div class="spin-wrapper">
        ${this.spinning?r.e`
            <div class="spin-spinning">
              ${this.isSvg?r.e`
                    <svg style="margin: auto; display: block;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                      <path fill="none" stroke-width="9" stroke-dasharray="215.53469970703125 41.054228515625" d="M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z" stroke-linecap="round">
                        <animate attributeName="stroke-dashoffset" repeatCount="indefinite" dur="1.5384615384615383s" keyTimes="0;1" values="0;256.58892822265625"></animate>
                      </path>
                    </svg>
                  `:r.e`<img src=${R.a} />`}
              ${t}
            </div>
          `:null}
        <div class="spin-content spin-blur">
          <slot></slot>
        </div>
      </div>
    `}renderTip(){return r.e`
      <div class="spin-text">${this.tip}</div>
    `}};M.styles=r.b`
    :host {
      --spin-color: #e7e7e7;
      --tip-color: var(--spin-color);
      display: block;
      width: 110px;
      height: 55px;
    } 
    .spin-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    .spin-spinning {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    img,
    svg {
      width: 100%;
      height: 100%;
    }
    svg path {
      stroke: var(--spin-color);
      transform: scale(2);
      transform-origin: center;
    }
    .spin-text {
      position: absolute;
      top: 50%;
      width: 100%;
      padding-top: 20px;
      font-size: 14px;
      text-align: center;
      color: var(--tip-color);
      text-shadow: 0 1px 2px #fff;
    }
    .spin-content {
      width: 100%;
      height: 100%;
      transition: opacity .3s;
    }
    .spin-blur {
      opacity: .3;
      user-select: none;
      pointer-events: none;
    }
  `,N([Object(r.g)({type:Boolean,reflect:!0}),L("design:type",Object)],M.prototype,"spinning",void 0),N([Object(r.g)({type:String}),L("design:type",Object)],M.prototype,"tip",void 0),N([Object(r.g)({type:Number}),L("design:type",Object)],M.prototype,"delay",void 0),N([Object(r.g)({type:Boolean}),L("design:type",Object)],M.prototype,"isSvg",void 0),M=N([Object(r.c)("infinito-spin")],M);var B=n(458),U=n.n(B),F=n(459),$=n.n(F),V=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},z=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let q=class extends r.a{constructor(){super(...arguments),this.type="text",this.placeholder="",this.value="",this.name="",this.readonly=!1,this.disabled=!1,this.error="",this._show=!1,this.isShowEye=!0}firstUpdated(){"password"===this.type&&requestAnimationFrame(()=>{this.controlIcon&&this.controlIcon.addEventListener("click",()=>{this._show=!this._show})})}render(){let t=r.e``;return this.error&&(t=this.renderError()),r.e`
      <div
        class="input-control ${this.error?"input-error":""}  ${"password"===this.type&&this.isShowEye?"eye":""}"
      >
        <input
          autocomplete="off"
          .type="${this._show?"text":this.type}"
          .name="${this.name}"
          .value="${this.value}"
          .placeholder="${this.placeholder}"
          ?readonly=${this.readonly}
          ?disabled=${this.disabled}
          @input="${this.handleInputChange}"
          @blur="${this.handleBlur}"
          @focus=${this.handleFocus}
        />
        ${"password"===this.type&&this.isShowEye?r.e`
                <i
                  class="input-pwd-eye"
                  style="background: url(${this._show?U.a:$.a}) no-repeat"
                ></i>
              `:null}
        ${t}
      </div>
    `}renderError(){return r.e`
      <div class="error">
        <span>${this.error}</span>
      </div>
    `}handleInputChange(){this.value=this.inputEle.value,l(this,"onchange",{value:this.value})}handleBlur(){this.inputEle.blur(),l(this,"onblur",{value:this.value})}handleFocus(){l(this,"onfocus",{value:this.value})}};q.styles=r.b`
    :host {
      --border-width: 1px;
      --border-style: solid;
      --border-color: #999;
      --border-hover-color: #333;
      --border-radius: 6px;
      --padding-all: 15px 20px 14px;
      --error-color: #ea4747;
      display: block;
      width: 330px;
      /* height: 52px; */
    }
    ::placeholder {
      color: #999;
      opacity: 1;
    }
    :-ms-input-placeholder {
      color: #999;
    }
    ::-ms-input-placeholder {
      color: #999;
    }
    :host([readonly]) {
      opacity: 0.5;
    }
    :host([disabled]) {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .input-control {
      box-sizing: border-box;
      position: relative;
      /* display: flex; */
      /* align-items: center; */
      width: 100%;
      height: 100%;
      /* border: var(--border-width) var(--border-style) var(--border-color); */
      /* border-radius: var(--border-radius); */
      transition: all 0.3s;
      /* padding-right: 20px; */
    }
    .input-control:focus-within,
    .input-control:hover {
      border-color: var(--border-hover-color);
    }

    .input-control:focus-within .input-pwd-eye,
    .input-control:hover .input-pwd-eye {
      opacity: 1;
    }

    .input-control .input-pwd-eye {
      position: absolute;
      right: 20px;
      top: 17px;
      width: 18px;
      height: 18px;
      cursor: pointer;
      transition: opacity 200ms;
      opacity: 0;
    }

    :host([readonly]) .input-control:hover,
    :host([disabled]) .input-control:hover {
      border-width: var(--border-width);
    }
    input {
      position: relative;
      box-sizing: border-box;
      width: 100%;
      height: 52px;
      /* flex: 1; */
      /* height: 100%; */
      padding: var(--padding-all);
      background: none;
      border: none;
      outline: none;
      color: #333;
      border: var(--border-width) var(--border-style) var(--border-color);
      border-radius: var(--border-radius);
      font-family: PingFangSC-Regular, "PingFang SC";
    }
    .input-control.input-error input {
      border-color: var(--error-color);
      animation: shake 0.2s ease-in-out 0s 2;
    }
    .input-control.eye input {
      padding-right: 58px;
    }
    :host([disabled]) input {
      cursor: not-allowed;
    }
    .error {
      color: var(--error-color);
      font-size: 12px;
      font-weight: 500;
      word-break: break-all;
      text-align: right;
    }
    @keyframes shake {
      0% {
        margin-left: 0rem;
      }
      25% {
        margin-left: 0.5rem;
      }
      75% {
        margin-left: -0.5rem;
      }
      100% {
        margin-left: 0rem;
      }
    }
  `,V([Object(r.h)("input"),z("design:type",HTMLInputElement)],q.prototype,"inputEle",void 0),V([Object(r.h)(".input-pwd-eye"),z("design:type",HTMLElement)],q.prototype,"controlIcon",void 0),V([Object(r.g)({type:String}),z("design:type",String)],q.prototype,"type",void 0),V([Object(r.g)({type:String}),z("design:type",Object)],q.prototype,"placeholder",void 0),V([Object(r.g)({type:String,reflect:!0}),z("design:type",Object)],q.prototype,"value",void 0),V([Object(r.g)({type:String}),z("design:type",Object)],q.prototype,"name",void 0),V([Object(r.g)({type:Boolean}),z("design:type",Object)],q.prototype,"readonly",void 0),V([Object(r.g)({type:Boolean}),z("design:type",Object)],q.prototype,"disabled",void 0),V([Object(r.g)({type:String}),z("design:type",Object)],q.prototype,"error",void 0),V([Object(r.g)({type:Boolean}),z("design:type",Object)],q.prototype,"_show",void 0),V([Object(r.g)({type:Boolean,reflect:!0}),z("design:type",Object)],q.prototype,"isShowEye",void 0),V([Object(r.d)({passive:!0}),z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",void 0)],q.prototype,"handleInputChange",null),q=V([Object(r.c)("infinito-input")],q);var W=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},H=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function G(t,e){return new CustomEvent(t,{composed:!0,detail:e})}class Y extends r.a{constructor(){super(...arguments),this.destination=""}render(){return r.e`
      <slot @slotchange="${this.slotChange}"></slot>
    `}disconnectedCallback(){document.dispatchEvent(G("portal-close",{destination:this.destination}))}slotChange(){this.requestUpdate()}updated(){const t=this.projectSlot.assignedNodes();t.length&&document.dispatchEvent(G("portal-open",{destination:this.destination,content:t}))}}Y.styles=r.b`
    :host {
      display: none;
    }
  `,W([Object(r.h)("slot"),H("design:type",HTMLElement)],Y.prototype,"projectSlot",void 0),W([Object(r.g)({type:String}),H("design:type",Object)],Y.prototype,"destination",void 0);var X=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},K=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};class J extends r.a{constructor(){super(...arguments),this.name="",this.projected=[],this.updatePortalContent=t=>{this.confirmDestination(t)&&t.detail.content&&(this.projected=t.detail.content)}}render(){return r.e`${this.projected}`}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),document.addEventListener("portal-open",this.updatePortalContent,!0),document.addEventListener("portal-close",this.updatePortalContent,!0)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("portal-open",this.updatePortalContent,!0),document.removeEventListener("portal-close",this.updatePortalContent,!0)}confirmDestination(t){return this.name||console.warn("This destination has not been named."),t.detail.destination===this.name&&(t.stopPropagation(),!0)}}X([Object(r.g)({type:String}),K("design:type",Object)],J.prototype,"name",void 0),X([Object(r.g)({type:Array}),K("design:type",Object)],J.prototype,"projected",void 0);var Q=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let Z=class extends Y{};Z=Q([Object(r.c)("infinito-portal-entrance")],Z);let tt=class extends J{};tt=Q([Object(r.c)("infinito-portal-destination")],tt);var et=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},nt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let rt=class extends r.a{constructor(){super(...arguments),this.src=""}render(){return r.e` <div class="svg" style="-webkit-mask-image: url(${this.src})"></div> `}};rt.styles=r.b`
    :host {
      display: block;
      width: 30px;
      height: 30px;
      --size: 100%;
      -webkit-mask-size: var(--size);
      -webkit-mask-position: center;
      -webkit-mask-repeat: no-repeat;
      color: black;
    }
    .svg {
      width: inherit;
      height: inherit;
      -webkit-mask-size: inherit;
      -webkit-mask-position: inherit;
      color: inherit;
      background-color: currentcolor;
      -webkit-mask-repeat: inherit;
    }
  `,et([Object(r.g)({type:String}),nt("design:type",Object)],rt.prototype,"src",void 0),rt=et([Object(r.c)("infinito-svg")],rt);var it=r.b`:host{display:block;height:100%;--point-height: 2px}.tabs{position:relative;width:100%;height:100%;display:flex}.tabs.vertically{align-items:center}.tabs.horizontally{flex-direction:column}.tabs[style]::after{content:''}.tabs.vertically::after{--width: 28;position:absolute;width:calc(var(--width) * 1px);left:calc((var(--target-left) + (var(--target-width) - var(--width)) / 2) * 1px);border-bottom:var(--point-height) solid #333;bottom:0;transition:left 0.2s, width 0.2s}.tabs.horizontally::after{position:absolute;width:100%;height:calc(var(--target-height, 0) * 1px);top:calc(var(--target-top, -500) * 1px);border-right:var(--point-height) solid #333;right:0;transition:top 0.2s, height 0.2s}
`,ot=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},st=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let at=class extends r.a{constructor(){super(...arguments),this.type="vertically",this.active=0}setActiveStyle(){const t=this.$slot.assignedElements();if(t&&t.length>0){const e=t[this.active],n=this.$tabsbox.style,{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=e;n.setProperty("--target-width",o+""),n.setProperty("--target-height",s+""),n.setProperty("--target-left",i+""),n.setProperty("--target-top",r+"")}}updated(t){t.has("active")&&this.setActiveStyle()}render(){return r.e`
      <div class="tabs ${this.type}">
        <slot></slot>
      </div>
    `}};at.styles=it,ot([Object(r.g)({type:String}),st("design:type",String)],at.prototype,"type",void 0),ot([Object(r.g)({type:Number}),st("design:type",Object)],at.prototype,"active",void 0),ot([Object(r.h)(".tabs"),st("design:type",HTMLDivElement)],at.prototype,"$tabsbox",void 0),ot([Object(r.h)("slot"),st("design:type",HTMLSlotElement)],at.prototype,"$slot",void 0),at=ot([Object(r.c)("infinito-tabs")],at)},function(t,e,n){"use strict";n(7);var r=n(1),i=n(381),o=(n(434),r.b`:host {
  display: block;
  position: relative;
  z-index: 999;
}
.color-pick-list {
  width: 100%;
  box-sizing: border-box;
  padding: 1px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  backface-visibility: hidden;
}
.color-item {
  position: relative;
  width: 18px;
  height: 18px;
  box-sizing: border-box;
  border-radius: 6px;
  cursor: pointer;
  background-color: currentColor;
}
.color-item::before {
  content: "";
  display: none;
  width: 0px;
  height: 0px;
  color: #fff;
  border-width: 0px 0px 2px 2px;
  padding: 3px 3px 3px 6px;
  border-style: solid;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -78%) rotate(-45deg);
}
.color-item.active::before {
  display: block;
}
.color-item.transparent {
  color: #ddd !important;
  background-position: 0 0, 5px 5px;
  background-size: 10px 10px;
  background-image: linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0), linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0);
}
.color-item.transparent i-svg {
  color: #fff !important;
  background: #ddd !important;
}
.color-item.transparent.active {
  background: #ddd;
  background-image: none;
}
.color-picker {
  position: absolute;
  bottom: 30px;
  right: 0;
  transform-origin: bottom right;
}
.side {
  transform: scale(calc(1 / var(--side-ratio)));
}
`),s=n(437),a=n.n(s),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let u=class extends r.a{constructor(){super(...arguments),this.value="",this.offsetRight=0,this.side=!1,this.name="",this.colors=["rgba(255,71,52,1)","rgba(255,122,9,1)","rgba(255,207,12,1)","rgba(42,233,121,1)","rgba(44,214,223,1)","rgba(0,116,255,1)","rgba(138,49,255,1)","transparent"],this.pickerStatus=!1,this.activeIndex=-1,this._close_picker_lock=!1,this._preClosePicker=()=>{this._close_picker_lock&&(this._close_picker_lock=!1)},this._postClosePicker=()=>{this._close_picker_lock||this._closePicker()},this._closePicker=()=>{this.pickerStatus=!1}}firstUpdated(){this._importColor(),this.resetActiveIndex(),window.addEventListener("mousedown",this._preClosePicker),window.addEventListener("mouseup",this._postClosePicker)}disconnectedCallback(){this._closePicker(),window.removeEventListener("mousedown",this._preClosePicker),window.removeEventListener("mouseup",this._postClosePicker),super.disconnectedCallback()}resetActiveIndex(){this.activeIndex=this.colors.findIndex(t=>t===this.value)}_importColor(){const t=document.querySelector("#script-vue"),e=document.querySelector("#script-color");if(!t){const t=document.createElement("script");t.src="/vendor/vue.min.js",t.id="script-vue",t.onload=()=>{if(!e){const t=document.createElement("script");t.src="/vendor/color-picker.min.js",t.id="script-color",document.body.append(t)}},document.body.append(t)}}_showPicker(t){t.stopPropagation(),this.pickerStatus=!0,"transparent"===this.value&&(this.value="#ff4734",this.activeIndex=-1,this._emitChange())}_pickColor(t){if(t instanceof CustomEvent){const{rgba:e}=t.detail[0],{r:n,g:r,b:i,a:o}=e;this.value=`rgba(${[n,r,i,o].join(",")})`,this.activeIndex=-1,this._emitChange()}}_pickThisColor(t){this.value=this.colors[t],this.activeIndex=t,this._emitChange()}_emitChange(){const t=new CustomEvent("on-change",{detail:{value:this.value}});this.dispatchEvent(t)}async performUpdate(){this.resetActiveIndex(),super.performUpdate()}updated(t){if(t.has("pickerStatus")&&!0===this.pickerStatus)try{this.$colorPicker.scrollIntoView({block:"nearest",behavior:"smooth"})}catch(t){}}render(){return r.e`
      <section class="color-pick-list">
        ${this.colors.map((t,e)=>r.e`<span
            @click="${()=>this._pickThisColor(e)}"
            class="${Object(i.a)({active:e===this.activeIndex,"color-item":!0,transparent:"transparent"===t})}"
            style="color:${t.includes("255,255,255")?"rgb(221,221,221)":t};"
          >
          </span>`)}
        <span
          @click="${this._showPicker}"
          class="color-item color-dropper ${-1===this.activeIndex&&this.value?"active":""}"
          style="background: url(${a.a}) no-repeat center; background-size: contain;"
        >
        </span>
      </section>
      <section
        @click="${t=>{t.stopPropagation()}}"
        class="color-picker ${this.side?"side":""}"
        .hidden=${!this.pickerStatus}
        style="margin-right:${this.offsetRight}px"
      >
        ${this.pickerStatus?r.e` <color-picker
              @mousedown=${t=>{t.stopPropagation(),this._close_picker_lock=!0}}
              value="${this.value}"
              @input="${this._pickColor}"
            ></color-picker>`:null}
      </section>
    `}};u.styles=o,c([Object(r.g)({type:String})],u.prototype,"value",void 0),c([Object(r.g)({type:Number})],u.prototype,"offsetRight",void 0),c([Object(r.g)({type:Boolean})],u.prototype,"side",void 0),c([Object(r.g)({type:String})],u.prototype,"name",void 0),c([Object(r.g)({type:Array})],u.prototype,"colors",void 0),c([Object(r.f)()],u.prototype,"pickerStatus",void 0),c([Object(r.f)()],u.prototype,"activeIndex",void 0),c([Object(r.h)(".color-picker")],u.prototype,"$colorPicker",void 0),u=c([Object(r.c)("i-colorpicker")],u)},function(t,e,n){t.exports=n.p+"images/iconfont.919d651.svg"},function(t,e,n){t.exports=n.p+"images/icon.196b87f.svg"},,,function(t,e,n){"use strict";n(7);var r=n(1),i=r.b`:host {
  display: block;
}
.ellipsis {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.label-box {
  max-width: 100%;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
}
.label-box .label {
  height: 20px;
  font-size: 14px;
  font-weight: 500;
  color: #333333;
  line-height: 20px;
  white-space: nowrap;
}
.error {
  margin-left: 6px;
  font-size: 14px;
  font-weight: 400;
  color: #ea4747;
}
.input {
  background-color: transparent;
  outline: none;
  border: none;
  border-bottom: 1px solid #eee;
  line-height: 1;
  height: 20px;
  box-sizing: content-box;
  padding-bottom: 10px;
  width: 100%;
  color: #333333;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  font-family: 'PingFang SC', 'Microsoft Yahei', Helvetica, Arial, sans-serif;
}
.input::placeholder {
  color: #999999;
}
.input:-moz-read-only {
  cursor: not-allowed;
  color: #999999;
}
.input:read-only {
  cursor: not-allowed;
  color: #999999;
}
`,o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const s=async t=>null;let a=class extends r.a{constructor(){super(...arguments),this.label="",this.defaultValue="",this.value="",this.validateMsg=i18n("format_error"),this.placeholder=i18n("please_enter_text"),this.readonly=!1,this.validate=s,this.validateStatus=null,this.onChange=t=>{const e=t.currentTarget.value;!1===this.validateStatus&&this.validate(e)&&(this.validateStatus=!0),this.value=e,this.emitChangeEvent(e)},this.emitChangeEvent=t=>{const e=new CustomEvent("on-change",{detail:{value:t}});this.dispatchEvent(e)},this.checkValidity=async()=>(this.validateStatus=await this.validate(this.value),this.validateStatus),this.reset=()=>{this.value=this.defaultValue,this.emitChangeEvent(this.defaultValue),this.validateStatus=null}}render(){return r.e`
      <div class="item">
        <div class="label-box">
          <span class="label">${this.label}</span
          ><span .hidden="${!1!==this.validateStatus}" class="error ellipsis">*${this.validateMsg}</span>
        </div>

        <slot name="input">
          <input
            class="input"
            autocomplete="off"
            type="text"
            .value="${this.value||""}"
            .placeholder="${this.placeholder}"
            .readOnly="${this.readonly}"
            @blur="${this.checkValidity}"
            @input=${t=>{this.onChange(t)}}
          />
        </slot>
      </div>
    `}};a.styles=i,o([Object(r.g)({type:String})],a.prototype,"label",void 0),o([Object(r.g)({type:String})],a.prototype,"defaultValue",void 0),o([Object(r.g)({type:String})],a.prototype,"value",void 0),o([Object(r.g)({type:String})],a.prototype,"validateMsg",void 0),o([Object(r.g)({type:String})],a.prototype,"placeholder",void 0),o([Object(r.g)({type:Boolean})],a.prototype,"readonly",void 0),o([Object(r.g)({attribute:!1})],a.prototype,"validate",void 0),o([Object(r.f)()],a.prototype,"validateStatus",void 0),a=o([Object(r.c)("i-input")],a)},function(t,e,n){"use strict";n(20);var r=n(1),i=r.b`.input {
  outline: none;
  border-top: none;
  border-right: none;
  border-left: none;
  border-image: initial;
  border-bottom: 1px solid #eeeeee;
  line-height: 1;
  height: 30px;
  box-sizing: border-box;
  padding-bottom: 6px;
  width: 100%;
  color: #333333;
  max-height: 50px;
  line-height: 16px;
  max-width: 100%;
  min-width: 100%;
  resize: none;
  background-color: transparent;
  font-family: 'PingFang SC', 'Microsoft Yahei', Helvetica, Arial, sans-serif;
}
`,o=n(308),s=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let a=class extends r.a{constructor(){super(...arguments),this.textareaHeight="auto",this.value="",this.placeholder="",this.emitChangeEvent=t=>{const e=new CustomEvent("on-change",{detail:{value:t}});this.dispatchEvent(e)}}setTextareaHeight(t){const e=t.split("\n");if(1===e.length)this.textareaHeight="auto";else{const t=16*e.length;this.textareaHeight=t+2+"px"}}updated(t){t.has("value")&&this.setTextareaHeight(this.value)}render(){return r.e`
      <textarea
        class="input global-scrollbar"
        rows="1"
        style="height:${this.textareaHeight}"
        autocomplete="off"
        @input="${t=>{const e=t.currentTarget.value;this.value=e,this.emitChangeEvent(e),this.setTextareaHeight(e)}}"
        .value="${this.value}"
        .placeholder="${this.placeholder}"
      ></textarea>
    `}};a.styles=[o.a,i],s([Object(r.f)()],a.prototype,"textareaHeight",void 0),s([Object(r.g)({type:String})],a.prototype,"value",void 0),s([Object(r.g)({type:String})],a.prototype,"placeholder",void 0),a=s([Object(r.c)("i-textarea")],a)},function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=n(1),s=o.b`.icon-preview {
  transform: scale(0.25);
  transform-origin: left top;
}
.svg-box {
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  position: relative;
  border-radius: 6px;
  background-color: #ddd;
  background-image: linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0), linear-gradient(45deg, #fff 25%, transparent 0, transparent 75%, #fff 0);
  background-position: 0 0, 5px 5px;
  background-size: 10px 10px;
  overflow: hidden;
}
`,a=n(431),c=n(252),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let l=class extends o.a{constructor(){super(...arguments),this.bgText="",this.bgFont=30,this.bgColor="",this.iconType="custom-icon",this.fontScale=18/7,this.getImg=()=>new i.a(t=>{t(null)})}get previewFont(){return this.bgFont*this.fontScale+"px 'PingFang SC', 'Microsoft Yahei', monospace, sans-serif"}render(){return o.e`<div class="svg-box">
      <div class="svg-text" style="">
        ${Object(a.a)(Object(c.a)({bgFont:this.bgFont,bgText:this.bgText,bgColor:this.bgColor},"6px"))}
      </div>
    </div>`}};l.styles=s,u([Object(o.g)({type:String})],l.prototype,"bgText",void 0),u([Object(o.g)({type:Number})],l.prototype,"bgFont",void 0),u([Object(o.g)({type:String})],l.prototype,"bgColor",void 0),u([Object(o.g)({type:String})],l.prototype,"iconType",void 0),u([Object(o.h)(".icon-preview")],l.prototype,"$preview",void 0),l=u([Object(o.c)("i-texticon")],l)},function(t,e,n){"use strict";n(7);var r=n(15),i=n(23),o=n(1),s=o.b`.item {
  position: relative;
  width: 100%;
  height: 100%;
}
.img-item {
  position: relative;
  width: 100%;
  height: 100%;
  background-color: #dddddd;
  background-image: linear-gradient(45deg, #ffffff 25%, transparent 0px, transparent 75%, #ffffff 0px), linear-gradient(45deg, #ffffff 25%, transparent 0px, transparent 75%, #ffffff 0px);
  background-position: 0px 0px, 5px 5px;
  background-size: 10px 10px;
  border-radius: 6px;
}
.img-dropper {
  position: relative;
  margin-right: 8px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  vertical-align: bottom;
  width: 60px;
  height: 60px;
  background: #ffffff;
  background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23C3C3C3FF' stroke-width='1' stroke-dasharray='5%2c 6' stroke-dashoffset='12' stroke-linecap='butt'/%3e%3c/svg%3e");
  border-radius: 6px;
  cursor: pointer;
}
.img-dropper[hidden] {
  display: none;
}
.active .preview {
  border-color: transparent;
}
.img-preview {
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  box-sizing: border-box;
}
.img-preview .editing:hover {
  opacity: 1;
}
.img-preview .editing {
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.3);
  transition: opacity 0.2s;
}
.img-preview .editing-icon {
  width: 28px;
  height: 28px;
}
.img-preview i-svg {
  --size: 90%;
  color: #fff;
  opacity: 0.8;
  cursor: pointer;
}
.img-preview i-svg:hover {
  opacity: 1;
  color: #fff;
}
.del {
  position: absolute;
  width: 18px;
  height: 18px;
  top: -6px;
  right: -6px;
  cursor: pointer;
  transition: transform 0.2s;
}
.del:hover {
  transform: scale(1.1);
}
#imgType {
  width: 1px;
  height: 1px;
}
`,a=n(417),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let u=class extends o.a{constructor(){super(...arguments),this.cropper=null,this.preViewImgData=null,this.preViewImgUrl="",this.active=!1,this.bgColor="",this.iconType="custom-icon",this.canDelete=!1,this.modalBorderRadius="3px",this.qiniu=!1,this.emitChangeEvent=()=>{const t=new CustomEvent("on-change",{detail:{bgColor:this.bgColor,preViewImgData:this.preViewImgData,preViewImgUrl:this.preViewImgUrl}});this.dispatchEvent(t)},this.initCropper=()=>{this.cropper=a.a.create({borderRadius:this.modalBorderRadius}),this.cropper.addEventListener("on-change",async t=>{const{data:e,color:n,changed:r}=t.detail;if(!this.qiniu||r||!this.preViewImgUrl.startsWith("http")){this.bgColor=n,this.preViewImgData=e;const t=this.preViewImgUrl;this.preViewImgUrl=URL.createObjectURL(this.preViewImgData),URL.revokeObjectURL(t)}this.emitChangeEvent()})},this.getImg=async()=>{var t,e;if(this.preViewImgUrl.startsWith("http"))return{url:this.preViewImgUrl,bgColor:this.bgColor};const{data:n,error:o}=await i.e.uploadFile(this.preViewImgData,r.a.randomId("icon-")+".png",this.iconType);if(o){const n=(null===(e=null===(t=o.response)||void 0===t?void 0:t.data)||void 0===e?void 0:e.error)?o.response.data.error:o.message;throw new Error(n)}return{url:n.url,bgColor:this.bgColor}},this._chooseImg=t=>{const e=(t.target.files||t.dataTransfer.files)[0],n=new FileReader;n.readAsDataURL(e),t.currentTarget.value=null,n.onload=()=>{this.cropper.init(n.result,this.bgColor),this.cropper.show()}},this.reset=()=>{this.preViewImgUrl&&URL.revokeObjectURL(this.preViewImgUrl),this.preViewImgData=null,this.preViewImgUrl="",this.bgColor="",this.emitChangeEvent()},this._delImg=t=>{t.stopPropagation(),this.preViewImgUrl&&URL.revokeObjectURL(this.preViewImgUrl),this.preViewImgData=null,this.preViewImgUrl="",this.emitChangeEvent()},this._editImg=()=>{this.cropper.init(this.preViewImgUrl,this.bgColor),this.cropper.show()}}firstUpdated(){this.initCropper()}disconnectedCallback(){a.a.destroy(),super.disconnectedCallback()}render(){return o.e`
      <div class="item img-item">
        <div class="img-item">
          <input
            @drop="${this._chooseImg}"
            accept="image/*"
            @change="${this._chooseImg}"
            type="file"
            id="imgType"
            style="position:absolute;clip:rect(0 0 0 0);"
          />
          <label
            .hidden="${!!this.preViewImgUrl}"
            class="img-dropper"
            style="${this.active?"background-image: none;":""}"
            for="imgType"
          >
            <i-usesvg style="color:#C3C3C3;width:22px;height:22px" type="icon-xingzhuangjiehe2x" iconfont></i-usesvg>
          </label>
          <div
            .hidden="${!this.preViewImgUrl}"
            class="img-dropper img-preview"
            style="border:${this.active?"none":"1px solid #DADCE0"};background-color:${this.bgColor||"transparent"}; background-image: url('${this.preViewImgUrl}')"
            @click="${this._editImg}"
          >
            <div class="editing">
              <img class="editing-icon" src="${n(483)}" alt="" />
            </div>
            <img
              .hidden="${!this.canDelete}"
              class="del"
              @click="${this._delImg}"
              src="${n(484)}"
              alt=""
            />
          </div>
        </div>
      </div>
    `}};u.styles=s,c([Object(o.g)({type:String})],u.prototype,"preViewImgUrl",void 0),c([Object(o.g)({type:Boolean})],u.prototype,"active",void 0),c([Object(o.g)({type:String})],u.prototype,"bgColor",void 0),c([Object(o.g)({type:String})],u.prototype,"iconType",void 0),c([Object(o.g)({type:Boolean})],u.prototype,"canDelete",void 0),c([Object(o.g)({type:String})],u.prototype,"modalBorderRadius",void 0),c([Object(o.g)({type:Boolean})],u.prototype,"qiniu",void 0),u=c([Object(o.c)("i-imgicon")],u)},,,,function(t,e,n){t.exports=n.p+"images/edit.064f8e9.svg"},function(t,e,n){t.exports=n.p+"images/del.20d8e3b.svg"},function(t,e,n){var r=n(486),i=n(514),o=n(441),s=n(516),a=n(526),c=n(529),u=n(530),l=n(531),h=n(533),p=n(534),d=n(535),f=n(414),g=n(540),m=n(541),y=n(547),b=n(407),v=n(444),w=n(549),x=n(208),_=n(551),O=n(406),T=n(412),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,E,j,k,A){var C,I=1&n,P=2&n,D=4&n;if(E&&(C=k?E(e,j,k,A):E(e)),void 0!==C)return C;if(!x(e))return e;var R=b(e);if(R){if(C=g(e),!I)return u(e,C)}else{var N=f(e),L="[object Function]"==N||"[object GeneratorFunction]"==N;if(v(e))return c(e,I);if("[object Object]"==N||"[object Arguments]"==N||L&&!k){if(C=P||L?{}:y(e),!I)return P?h(e,a(C,e)):l(e,s(C,e))}else{if(!S[N])return k?e:{};C=m(e,N,I)}}A||(A=new r);var M=A.get(e);if(M)return M;A.set(e,C),_(e)?e.forEach((function(r){C.add(t(r,n,E,r,e,A))})):w(e)&&e.forEach((function(r,i){C.set(i,t(r,n,E,i,e,A))}));var B=R?void 0:(D?P?d:p:P?T:O)(e);return i(B||e,(function(r,i){B&&(r=e[i=r]),o(C,i,t(r,n,E,i,e,A))})),C}},function(t,e,n){var r=n(385),i=n(492),o=n(493),s=n(494),a=n(495),c=n(496);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(386),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(386);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(386);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(386);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(385);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(385),i=n(405),o=n(501);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(439),i=n(498),o=n(208),s=n(440),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,p=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:a).test(s(t))}},function(t,e,n){var r,i=n(499),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(150)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(502),i=n(509),o=n(511),s=n(512),a=n(513);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(503),i=n(385),o=n(405);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(504),i=n(505),o=n(506),s=n(507),a=n(508);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(387);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(387),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(387),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(387);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(388);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(388);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(388);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(388);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(304),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(389),i=n(406);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(519),i=n(220),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){var r=n(248),i=n(220);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(523),i=n(409),o=n(410),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(248),i=n(445),o=n(220),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},function(t,e,n){var r=n(411),i=n(525),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(446)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(389),i=n(412);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(208),i=n(411),o=n(528),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(150),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(408)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(389),i=n(413);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},function(t,e,n){var r=n(389),i=n(449);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(452),i=n(413),o=n(406);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(452),i=n(449),o=n(412);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(304)(n(150),"DataView");t.exports=r},function(t,e,n){var r=n(304)(n(150),"Promise");t.exports=r},function(t,e,n){var r=n(304)(n(150),"Set");t.exports=r},function(t,e,n){var r=n(304)(n(150),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(415),i=n(543),o=n(544),s=n(545),a=n(546);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Set]":return new c;case"[object Symbol]":return s(t)}}},function(t,e,n){var r=n(150).Uint8Array;t.exports=r},function(t,e,n){var r=n(415);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(219),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(415);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(548),i=n(451),o=n(411);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(208),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(550),i=n(409),o=n(410),s=o&&o.isMap,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(414),i=n(220);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(552),i=n(409),o=n(410),s=o&&o.isSet,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(414),i=n(220);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){t.exports=n.p+"images/permission_img.1fa8fa6.svg"},function(t,e,n){t.exports=n.p+"images/item_1.8b1e737.png"},function(t,e,n){t.exports=n.p+"images/item_2.f6e1bf0.png"},function(t,e,n){t.exports=n.p+"images/item_3.d04a54a.png"},function(t,e,n){t.exports=n.p+"images/arrow.1799f5d.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n.p+"images/success.00a4a1f.svg"},,,,,,function(t,e,n){"use strict";n.r(e);n(6),n(470),n(434),n(7);var r=n(1),i=n(224),o=n(5),s=n.n(o),a=n(2),c=n(15),u=n(161),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};class h{getTabInfo(){return new s.a(t=>{chrome.tabs.query({currentWindow:!0,active:!0},([e])=>{const n={};n.target=e.url,n.name=e.title,e.title.length>3?n.bgText=e.title.substr(0,2):n.bgText=e.title,t(n)})})}async submit(t){const e=Object.assign(Object.assign({},t),{uuid:c.a.randomId("site-"),id:c.a.randomId("siteId-"),type:"web",updatetime:Date.now()});u.slave.postTask("slave:add-icon",e)}}l([a.b],h.prototype,"getTabInfo",null),l([a.b],h.prototype,"submit",null);const p=new h;var d=n(416),f=n(309),g=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};window.__INFINITY__=window.__INFINITY__||{};let m=class extends i.a{constructor(){super(...arguments),this.initValue=Object.assign({},d.a.defaultValue),this.step=0}firstUpdated(){f.a.sendPageView({page:"popup"}),document.body.addEventListener("on-close-cropper",()=>this.zoomPopup(!1)),document.body.addEventListener("on-show-cropper",()=>this.zoomPopup(!0))}async performUpdate(){const t=await p.getTabInfo();this.initValue=Object.assign(Object.assign({},d.a.defaultValue),t),super.performUpdate()}createRenderRoot(){return this}async _submit(t){var e;await p.submit(t.detail.value),this.step=1,f.a.sendEvent({action:{addPopupIcon:c.a.getTargetLogDomain(null===(e=t.detail.value)||void 0===e?void 0:e.target)}}),setTimeout(()=>{window.close()},3e3)}zoomPopup(t){t?(document.body.style.setProperty("--popup-width","640px"),document.body.style.setProperty("--popup-height","538px"),document.body.style.setProperty("--popup-editicon-padding","0px"),document.body.style.setProperty("--popup-editicon-height","0px")):(document.body.style.removeProperty("--popup-width"),document.body.style.removeProperty("--popup-height"),document.body.style.removeProperty("--popup-editicon-padding"),document.body.style.removeProperty("--popup-editicon-height"))}render(){return 0===this.step?r.e`
        <i-editicon
          style="padding: var(--popup-editicon-padding);height:var(--popup-editicon-height)"
          .value="${this.initValue}"
          @on-submit="${this._submit}"
          iconType="custom-icon"
          .popup="${!0}"
        ></i-editicon>
      `:1===this.step?r.e` <popup-add-success></popup-add-success> `:void 0}};g([Object(r.f)()],m.prototype,"initValue",void 0),g([Object(r.f)()],m.prototype,"step",void 0),m=g([Object(r.c)("popup-add-icon")],m);var y=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let b=class extends r.a{render(){return r.e`
      <div class="add-success">
        <img class="img" src="${n(594)}" alt="" />
        <div class="text">${i18n("add_icon_success")}</div>
      </div>
    `}};b.styles=r.b`
    .add-success {
      height: 530px;
      background-color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .img {
      margin-top: 184px;
      width: 60px;
      height: 60px;
    }
    .text {
      margin-top: 20px;
      height: 24px;
      font-size: 14px;
      font-weight: 300;
      color: #999999;
      line-height: 24px;
    }
  `,b=y([Object(r.c)("popup-add-success")],b)}]);